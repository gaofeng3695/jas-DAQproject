INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('00256b0a-5ac1-43e8-875b-62ec0db80735', '防腐补口检查信息表', 'F000036', 'daq_weld_anticorrosion_check', 'INSERT INTO daq_weld_anticorrosion_check( oid, project_oid, pipeline_oid, tenders_oid, pipe_segment_or_cross_oid, weld_oid, buckle_date, buckle_anticorrosive_type, buckle_anticorrosive_grade, buckle_material_batch_num, derusting_grade, pipe_mouth_clean, sandblasting_and_derusting, pipe_mouth_preheat, epoxy_primer, baking_check, overlap_check, appearance_check, electric_spark_leak_detection, buckle_conclusion, anticorrosion, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :pipeline_oid, :tenders_oid, :pipe_segment_or_cross_oid, :weld_oid, (select :buckle_date::timestamp), :buckle_anticorrosive_type, :buckle_anticorrosive_grade, :buckle_material_batch_num, :derusting_grade, :pipe_mouth_clean, :sandblasting_and_derusting, :pipe_mouth_preheat, :epoxy_primer, :baking_check, :overlap_check, :appearance_check, :electric_spark_leak_detection, :buckle_conclusion, :anticorrosion, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_construction_weld set is_anticorrosion_check=1 where oid=:weld_oid;', 'update daq_construction_weld set is_anticorrosion_check=0 where oid=(select weld_oid from daq_weld_anticorrosion_check where oid=:oid);
UPDATE daq_weld_anticorrosion_check SET oid=:oid, project_oid=:project_oid, pipeline_oid=:pipeline_oid, tenders_oid=:tenders_oid, pipe_segment_or_cross_oid=:pipe_segment_or_cross_oid, weld_oid=:weld_oid, buckle_date=(select :buckle_date::timestamp), buckle_anticorrosive_type=:buckle_anticorrosive_type, buckle_anticorrosive_grade=:buckle_anticorrosive_grade, buckle_material_batch_num=:buckle_material_batch_num, derusting_grade=:derusting_grade, pipe_mouth_clean=:pipe_mouth_clean, sandblasting_and_derusting=:sandblasting_and_derusting, pipe_mouth_preheat=:pipe_mouth_preheat, epoxy_primer=:epoxy_primer, baking_check=:baking_check, overlap_check=:overlap_check, appearance_check=:appearance_check, electric_spark_leak_detection=:electric_spark_leak_detection, buckle_conclusion=:buckle_conclusion, anticorrosion=:anticorrosion, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_construction_weld set is_anticorrosion_check=1 where oid=:weld_oid;', 'UPDATE daq_weld_anticorrosion_check SET active = 0 WHERE oid = :oid or oid in (:idList);
update daq_construction_weld set is_anticorrosion_check=0 where oid in (select weld_oid from daq_weld_anticorrosion_check where oid=:oid or oid in(:idList));', 'SELECT wac.oid, wac.project_oid, pro.project_name, wac.pipeline_oid, pi.pipeline_name, wac.tenders_oid, te.tenders_name, wac.pipe_segment_or_cross_oid, vpsc.name as pipe_segment_or_cross_name, wac.weld_oid, cw.weld_code, to_char(wac.buckle_date, ''YYYY-MM-DD'') as buckle_date, wac.buckle_anticorrosive_type, d.code_name as buckle_anticorrosive_type_name, wac.buckle_anticorrosive_grade, dm.code_name as buckle_anticorrosive_grade_name, wac.buckle_material_batch_num, wac.derusting_grade, dom.code_name as derusting_grade_name, wac.pipe_mouth_clean, wac.sandblasting_and_derusting, wac.pipe_mouth_preheat, wac.epoxy_primer, wac.baking_check, wac.overlap_check, wac.appearance_check, wac.electric_spark_leak_detection, wac.buckle_conclusion,case when wac.buckle_conclusion=1 then ''合格'' when wac.buckle_conclusion=0 then ''不合格'' end as buckle_conclusion_name, wac.anticorrosion, wac.construct_unit, u.unit_name as construct_unit_name, wac.supervision_unit, pu.unit_name as supervision_unit_name, wac.supervision_engineer, wac.collection_person, to_char(wac.collection_date, ''YYYY-MM-DD'') as collection_date,case when wac.approve_status = -1 then ''驳回'' when wac.approve_status = 1 then ''待审核'' when wac.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, wac.remarks, wac.create_user_id, wac.create_user_name, to_char(wac.create_datetime,''YYYY-MM-DD'') as create_datetime, wac.modify_user_id, wac.modify_user_name, wac.modify_datetime, wac.active,case when wac.pipe_mouth_clean=1 then ''合格'' when wac.pipe_mouth_clean=0 then ''不合格'' end as pipe_mouth_clean_name,case when wac.sandblasting_and_derusting=1 then ''合格'' when wac.sandblasting_and_derusting=0 then ''不合格'' end as sandblasting_and_derusting_name,case when wac.pipe_mouth_preheat=1 then ''合格'' when wac.pipe_mouth_preheat=0 then ''不合格'' end as pipe_mouth_preheat_name,case when wac.epoxy_primer=1 then ''合格'' when wac.epoxy_primer=0 then ''不合格'' end as epoxy_primer_name,case when wac.baking_check=1 then ''合格'' when wac.baking_check=0 then ''不合格'' end as baking_check_name,case when wac.overlap_check=1 then ''合格'' when wac.overlap_check=0 then ''不合格'' end as overlap_check_name,case when wac.appearance_check=1 then ''合格'' when wac.appearance_check=0 then ''不合格'' end as appearance_check_name,case when wac.electric_spark_leak_detection=1 then ''合格'' when wac.electric_spark_leak_detection=0 then ''不合格'' end as electric_spark_leak_detection_name,wac.approve_status FROM daq_weld_anticorrosion_check wac LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wac.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wac.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wac.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = wac.pipe_segment_or_cross_oid LEFT JOIN (select oid, weld_code from v_daq_weld_info) cw ON cw.oid = wac.weld_oid LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) d ON d.code_id = wac.buckle_anticorrosive_type LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) dm ON dm.code_id = wac.buckle_anticorrosive_grade LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) dom ON dom.code_id = wac.derusting_grade LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wac.construct_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wac.supervision_unit WHERE wac.active = 1 @where_append and @privilege_strategy_sql order by wac.create_datetime,cw.weld_code desc', 'SELECT wac.oid, wac.project_oid, pro.project_name, wac.pipeline_oid, pi.pipeline_name, wac.tenders_oid, te.tenders_name, wac.pipe_segment_or_cross_oid, vpsc.name as pipe_segment_or_cross_name, wac.weld_oid, cw.weld_code, to_char(wac.buckle_date, ''YYYY-MM-DD'') as buckle_date, wac.buckle_anticorrosive_type, d.code_name as buckle_anticorrosive_type_name, wac.buckle_anticorrosive_grade, dm.code_name as buckle_anticorrosive_grade_name, wac.buckle_material_batch_num, wac.derusting_grade, dom.code_name as derusting_grade_name, wac.pipe_mouth_clean, wac.sandblasting_and_derusting, wac.pipe_mouth_preheat, wac.epoxy_primer, wac.baking_check, wac.overlap_check, wac.appearance_check, wac.electric_spark_leak_detection, wac.buckle_conclusion,case when wac.buckle_conclusion=1 then ''合格'' when wac.buckle_conclusion=0 then ''不合格'' end as buckle_conclusion_name, wac.anticorrosion, wac.construct_unit, u.unit_name as construct_unit_name, wac.supervision_unit, pu.unit_name as supervision_unit_name, wac.supervision_engineer, wac.collection_person, to_char(wac.collection_date, ''YYYY-MM-DD'') as collection_date,case when wac.approve_status = -1 then ''驳回'' when wac.approve_status = 1 then ''待审核'' when wac.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, wac.remarks, wac.create_user_id, wac.create_user_name, wac.create_datetime, wac.modify_user_id, wac.modify_user_name, wac.modify_datetime, wac.active,case when wac.pipe_mouth_clean=1 then ''合格'' when wac.pipe_mouth_clean=0 then ''不合格'' end as pipe_mouth_clean_name,case when wac.sandblasting_and_derusting=1 then ''合格'' when wac.sandblasting_and_derusting=0 then ''不合格'' end as sandblasting_and_derusting_name,case when wac.pipe_mouth_preheat=1 then ''合格'' when wac.pipe_mouth_preheat=0 then ''不合格'' end as pipe_mouth_preheat_name,case when wac.epoxy_primer=1 then ''合格'' when wac.epoxy_primer=0 then ''不合格'' end as epoxy_primer_name,case when wac.baking_check=1 then ''合格'' when wac.baking_check=0 then ''不合格'' end as baking_check_name,case when wac.overlap_check=1 then ''合格'' when wac.overlap_check=0 then ''不合格'' end as overlap_check_name,case when wac.appearance_check=1 then ''合格'' when wac.appearance_check=0 then ''不合格'' end as appearance_check_name,case when wac.electric_spark_leak_detection=1 then ''合格'' when wac.electric_spark_leak_detection=0 then ''不合格'' end as electric_spark_leak_detection_name,wac.approve_status FROM daq_weld_anticorrosion_check wac LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wac.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wac.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wac.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = wac.pipe_segment_or_cross_oid LEFT JOIN (select oid, weld_code from v_daq_weld_info) cw ON cw.oid = wac.weld_oid LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) d ON d.code_id = wac.buckle_anticorrosive_type LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) dm ON dm.code_id = wac.buckle_anticorrosive_grade LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) dom ON dom.code_id = wac.derusting_grade LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wac.construct_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wac.supervision_unit WHERE	wac.oid = :oid AND wac.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-10 16:18:33.065', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-11 16:58:00.529', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('029c3ed4-6284-44e9-84aa-46a76998be49', '线路段管理表', 'F000011', 'daq_pipe_segment', 'INSERT INTO daq_pipe_segment( oid, pipe_segment_name, pipe_segment_code, project_oid, pipeline_oid, start_stake_oid, end_stake_oid, province, city, county, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :pipe_segment_name, :pipe_segment_code, :project_oid, :pipeline_oid, :start_stake_oid, :end_stake_oid, :province, :city, :county, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_pipe_segment SET oid=:oid, pipe_segment_name=:pipe_segment_name, pipe_segment_code=:pipe_segment_code, project_oid=:project_oid, pipeline_oid=:pipeline_oid, start_stake_oid=:start_stake_oid, end_stake_oid=:end_stake_oid, province=:province, city=:city, county=:county, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_pipe_segment SET active = 0 WHERE oid = :oid', 'SELECT s.oid, s.pipe_segment_name, s.pipe_segment_code, s.project_oid, pro.project_name, s.pipeline_oid, pi.pipeline_name, s.start_stake_oid, dms.median_stake_code AS start_stake_code, s.end_stake_oid, ms.median_stake_code AS end_stake_code, s.province, A . NAME AS province_name, s.city, ar. NAME AS city_name, s.county, ARE . NAME AS county_name, s.remarks, s.create_user_id, s.create_user_name, s.create_datetime, s.modify_user_id, s.modify_user_name, s.modify_datetime, s.active FROM daq_pipe_segment s LEFT JOIN (SELECT oid, project_name, active from daq_project where active = 1) pro ON pro.oid = s.project_oid LEFT JOIN (select oid, pipeline_name, active from daq_pipeline where active = 1) pi ON pi.oid = s.pipeline_oid LEFT JOIN (select oid, name from area) A ON A .oid = s.province LEFT JOIN (select oid, name from area) ar ON ar.oid = s.city LEFT JOIN (select oid, name from area) ARE ON ARE .oid = s.county LEFT JOIN (SELECT oid, active, median_stake_code from daq_median_stake where active = 1) ms ON ms.oid = s.end_stake_oid LEFT JOIN (SELECT oid, active, median_stake_code from daq_median_stake where active = 1) dms ON dms.oid = s.start_stake_oid WHERE s.active = 1 @where_append order by create_datetime desc', 'SELECT s.oid, s.pipe_segment_name, s.pipe_segment_code, s.project_oid, pro.project_name, s.pipeline_oid, pi.pipeline_name, s.start_stake_oid, dms.median_stake_code AS start_stake_code, s.end_stake_oid, ms.median_stake_code AS end_stake_code, s.province, A . NAME AS province_name, s.city, ar. NAME AS city_name, s.county, ARE . NAME AS county_name, s.remarks, s.create_user_id, s.create_user_name, s.create_datetime, s.modify_user_id, s.modify_user_name, s.modify_datetime, s.active FROM daq_pipe_segment s LEFT JOIN (SELECT oid, project_name, active from daq_project where active = 1) pro ON pro.oid = s.project_oid LEFT JOIN (select oid, pipeline_name, active from daq_pipeline where active = 1) pi ON pi.oid = s.pipeline_oid LEFT JOIN (select oid, name from area) A ON A .oid = s.province LEFT JOIN (select oid, name from area) ar ON ar.oid = s.city LEFT JOIN (select oid, name from area) ARE ON ARE .oid = s.county LEFT JOIN (SELECT oid, active, median_stake_code from daq_median_stake where active = 1) ms ON ms.oid = s.end_stake_oid LEFT JOIN (SELECT oid, active, median_stake_code from daq_median_stake where active = 1) dms ON dms.oid = s.start_stake_oid  WHERE s.oid = :oid ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 11:12:41.323', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-10-17 13:41:20.21', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0349d810-1b9b-4419-9e4c-d894f7b03b29', '机组人员表', 'F000021', 'daq_work_personnel', 'INSERT INTO daq_work_personnel( oid, project_oid, work_unit_oid, personnel_name, personnel_code, personnel_type, id_card_no, certificate_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :work_unit_oid, :personnel_name, :personnel_code, :personnel_type, :id_card_no, :certificate_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_work_personnel SET oid=:oid, project_oid=:project_oid, work_unit_oid=:work_unit_oid, personnel_name=:personnel_name, personnel_code=:personnel_code, personnel_type=:personnel_type, id_card_no=:id_card_no, certificate_number=:certificate_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_work_personnel SET active = 0 WHERE oid = :oid', 'SELECT wr.oid,wr.project_oid,	pro.project_name,wr.work_unit_oid,wu.work_unit_name,u.unit_name,wr.personnel_name,wr.personnel_code,wr.personnel_type,d.code_name AS personnel_type_name, wr.id_card_no,	wr.certificate_number,	wr.remarks,	wr.create_user_id,	wr.create_user_name,wr.create_datetime,	wr.modify_user_id,	wr.modify_user_name,wr.modify_datetime,	wr.active FROM daq_work_personnel wr LEFT JOIN (SELECT oid,project_name,active FROM	daq_project	WHERE	active = 1) pro ON pro.oid = wr.project_oid LEFT JOIN (	SELECT	oid,work_unit_name,construct_unit,active FROM	daq_work_unit	WHERE	active = 1) wu ON wu.oid = wr.work_unit_oid LEFT JOIN (select oid,unit_name,active from pri_unit where active=1) u ON u.oid=wu.construct_unit LEFT JOIN (SELECT code_id,	code_name,	active FROM	sys_domain WHERE active = 1) d ON d.code_id = wr.personnel_type WHERE	wr.active = 1 @where_append  and @privilege_strategy_sql order by wr.create_datetime desc', 'SELECT wr.oid,wr.project_oid,	pro.project_name,wr.work_unit_oid,wu.work_unit_name,u.unit_name,wr.personnel_name,wr.personnel_code,wr.personnel_type,d.code_name AS personnel_type_name, wr.id_card_no,	wr.certificate_number,	wr.remarks,	wr.create_user_id,	wr.create_user_name,wr.create_datetime,	wr.modify_user_id,	wr.modify_user_name,wr.modify_datetime,	wr.active FROM daq_work_personnel wr LEFT JOIN (SELECT oid,project_name,active FROM	daq_project	WHERE	active = 1) pro ON pro.oid = wr.project_oid LEFT JOIN (	SELECT	oid,work_unit_name,construct_unit,active FROM	daq_work_unit	WHERE	active = 1) wu ON wu.oid = wr.work_unit_oid LEFT JOIN (select oid,unit_name,active from pri_unit where active=1) u ON u.oid=wu.construct_unit LEFT JOIN (SELECT code_id,	code_name,	active FROM	sys_domain WHERE active = 1) d ON d.code_id = wr.personnel_type WHERE	wr.active = 1 and wr.oid=:oid', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-27 15:13:02.975', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 09:35:42.344', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0461d3ed-748b-44a0-829d-967aecc04e6f', '机柜', 'F000182', 'daq_station_cabinets', 'INSERT INTO daq_station_cabinets( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cabinets SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cabinets SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_cabinets sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_cabinets sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 06:51:05.85', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:46:42.543', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('057318c4-b042-40d9-b1ac-dca670b9e6b7', '钢管表', 'F000024', 'daq_material_pipe', 'INSERT INTO daq_material_pipe( oid, pipe_code, material, pipe_technology, pipe_diameter, wall_thickness, stove_serial_num, pipe_forming_method, pipe_length, pipe_weight, grade, manufacture_date, manufacture_factory, pipe_quality_certificate_num, steel_plate_num, steel_plate_quality_certificate_num, external_coating_type, internal_coating_material, internal_coating_thinkness, coating_num, coating_date, coating_certificate_num, coating_factory, materiel_code, production_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ,construct_unit,project_oid) VALUES ( :oid, :pipe_code, :material, :pipe_technology, :pipe_diameter, :wall_thickness, :stove_serial_num, :pipe_forming_method, :pipe_length, :pipe_weight, :grade, (select :manufacture_date::timestamp), :manufacture_factory, :pipe_quality_certificate_num, :steel_plate_num, :steel_plate_quality_certificate_num, :external_coating_type, :internal_coating_material, :internal_coating_thinkness, :coating_num, (select :coating_date::timestamp), :coating_certificate_num, :coating_factory, :materiel_code, (select :production_date::timestamp), :remarks, :current_user_id, :current_user_name, (select :current_datetime::timestamp), :current_user_id, :current_user_name, (select :current_datetime::timestamp), :active ,:current_unit_id,:project_oid)', 'UPDATE daq_material_pipe SET oid=:oid, pipe_code=:pipe_code, material=:material, pipe_technology=:pipe_technology, pipe_diameter=:pipe_diameter, wall_thickness=:wall_thickness, stove_serial_num=:stove_serial_num, pipe_forming_method=:pipe_forming_method, pipe_length=:pipe_length, pipe_weight=:pipe_weight, grade=:grade, manufacture_date=(select :manufacture_date::timestamp), manufacture_factory=:manufacture_factory, pipe_quality_certificate_num=:pipe_quality_certificate_num, steel_plate_num=:steel_plate_num, steel_plate_quality_certificate_num=:steel_plate_quality_certificate_num, external_coating_type=:external_coating_type, internal_coating_material=:internal_coating_material, internal_coating_thinkness=:internal_coating_thinkness, coating_num=:coating_num, coating_date=(select :coating_date::timestamp), coating_certificate_num=:coating_certificate_num, coating_factory=:coating_factory, materiel_code=:materiel_code, production_date=(select :production_date::timestamp),remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=(select :current_datetime::timestamp), active=:active,project_oid=:project_oid WHERE oid = :oid AND active = 1', 'UPDATE daq_material_pipe SET active = 0 WHERE oid = :oid', 'SELECT mp.oid, mp.project_oid, pro.project_name, mp.pipeline_oid, pi.pipeline_name, mp.tenders_oid, te.tenders_name, mp.pipe_code, mp.material, d.code_name as material_type, mp.pipe_technology,doma.code_name as pipe_technology_name, mp.pipe_diameter, mp.wall_thickness, mp.stove_serial_num, mp.commit_status, mp.pipe_forming_method, dm.code_name as pipe_forming_type, mp.pipe_length, mp.pipe_weight, mp.grade,sd.code_name as grade_name,  to_char(mp.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, mp.manufacture_factory, mp.pipe_quality_certificate_num, mp.steel_plate_num, mp.steel_plate_quality_certificate_num, mp.external_coating_type, dom.code_name as external_coating_type_name,  mp.internal_coating_material, mp.internal_coating_thinkness, mp.coating_num, to_char(mp.coating_date, ''YYYY-MM-DD'') as coating_date, mp.coating_certificate_num, mp.coating_factory, case when is_cut=''1'' then ''是'' else ''否'' END as is_cut, case when is_use=''1'' then ''是'' else ''否'' END as is_use, case when is_cold_bend=''1'' then ''是'' else ''否'' END as is_cold_bend,case when is_child=''1'' then ''是''when is_child=''0'' then ''否'' else '' '' END as is_child, mp.materiel_code, to_char(mp.production_date, ''YYYY-MM-DD'') as production_date, mp.remarks, mp.create_user_id, mp.create_user_name, mp.create_datetime, mp.modify_user_id, mp.modify_user_name, mp.modify_datetime, mp.active FROM daq_material_pipe mp LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mp.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mp.pipeline_oid  LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mp.tenders_oid  LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mp.material LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) sd ON sd.code_id = mp.grade LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where active=1) dm ON dm.code_id = mp.pipe_forming_method LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) dom ON dom.code_id = mp.external_coating_type LEFT JOIN (SELECT	code_id,code_name,active FROM sys_domain where active=1) doma ON doma.code_id = mp.pipe_technology WHERE mp.active = 1 @where_append and @privilege_strategy_sql order by mp.create_datetime,mp.pipe_code desc', 'SELECT mp.oid, mp.project_oid, pro.project_name, mp.pipeline_oid, pi.pipeline_name, mp.tenders_oid, te.tenders_name, mp.pipe_code, mp.material, d.code_name as material_type, mp.pipe_technology,doma.code_name as pipe_technology_name, mp.pipe_diameter, mp.wall_thickness, mp.stove_serial_num, mp.pipe_forming_method, dm.code_name as pipe_forming_type, mp.pipe_length, mp.pipe_weight, mp.grade,sd.code_name as grade_name,  to_char(mp.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, mp.manufacture_factory, mp.pipe_quality_certificate_num, mp.steel_plate_num, mp.steel_plate_quality_certificate_num, mp.external_coating_type, dom.code_name as external_coating_type_name,  mp.internal_coating_material, mp.internal_coating_thinkness, mp.coating_num, to_char(mp.coating_date, ''YYYY-MM-DD'') as coating_date, mp.coating_certificate_num, mp.coating_factory,  case when is_cut=''1'' then ''是'' else ''否'' END as is_cut,case when is_use=''1'' then ''是'' else ''否'' END as is_use,  case when is_cold_bend=''1'' then ''是'' else ''否'' END as is_cold_bend,case when is_child=''1'' then ''是''when is_child=''0'' then ''否'' else '' '' END as is_child, mp.materiel_code, to_char(mp.production_date, ''YYYY-MM-DD'') as production_date, mp.remarks, mp.create_user_id, mp.create_user_name, mp.create_datetime, mp.modify_user_id, mp.modify_user_name, mp.modify_datetime, mp.active FROM daq_material_pipe mp LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mp.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mp.pipeline_oid  LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mp.tenders_oid  LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mp.material  LEFT JOIN (SELECT	code_id,code_name,active FROM sys_domain where active=1) sd ON sd.code_id = mp.grade LEFT JOIN (SELECT code_id,code_name,active FROM sys_domain where active=1) dm ON dm.code_id = mp.pipe_forming_method LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) dom ON dom.code_id = mp.external_coating_type LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1 ) doma ON doma.code_id = mp.pipe_technology WHERE mp.oid = :oid AND mp.active = 1 ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-29 09:43:04.218', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-18 17:09:07.04', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('06a860e8-e556-4da8-812d-9e2c4612dce0', '穿跨越管理表', 'F000013', 'daq_cross', 'INSERT INTO daq_cross( oid, cross_name, cross_code, project_oid, pipeline_oid, cross_type_code, cross_way_code, cross_length, start_stake_oid, end_stake_oid, province, city, county, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :cross_name, :cross_code, :project_oid, :pipeline_oid, :cross_type_code, :cross_way_code, :cross_length, :start_stake_oid, :end_stake_oid, :province, :city, :county, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_cross SET oid=:oid, cross_name=:cross_name, cross_code=:cross_code, project_oid=:project_oid, pipeline_oid=:pipeline_oid, cross_type_code=:cross_type_code, cross_way_code=:cross_way_code, cross_length=:cross_length, start_stake_oid=:start_stake_oid, end_stake_oid=:end_stake_oid, province=:province, city=:city, county=:county, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name,  modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_cross SET active = 0 WHERE oid = :oid', 'SELECT C .oid, C .cross_name, C .cross_code, C .project_oid, pro.project_name, C .pipeline_oid, pi.pipeline_name, C .cross_type_code, d.code_name AS cross_type_name, C .cross_way_code, sd.code_name AS cross_way_name, C .cross_length, C .start_stake_oid, sta.median_stake_code AS start_stake_code, C .end_stake_oid, sta1.median_stake_code AS end_stake_code, C .province, A . NAME AS province_name, C .city, ar. NAME AS city_name, C .county, ARE . NAME AS county_name, C .remarks, C .create_user_id, C .create_user_name, C .create_datetime, C .modify_user_id, C .modify_user_name, C .modify_datetime, C .active FROM daq_cross C LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = C .project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = C .pipeline_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake) sta ON sta.oid = C .start_stake_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake) sta1 ON sta1.oid = C .end_stake_oid LEFT JOIN (select code_id, code_name, active from sys_domain) d ON d.code_id = C .cross_type_code LEFT JOIN (select code_id, code_name, active from sys_domain) sd ON sd.code_id = C .cross_way_code LEFT JOIN (SELECT oid, NAME FROM area) A ON A .oid = C .province LEFT JOIN (SELECT oid, NAME FROM area) ar ON ar.oid = C .city LEFT JOIN (SELECT oid, NAME FROM area) ARE ON ARE .oid = C .county WHERE C .active = 1 AND pro.active = 1 AND pi.active = 1 AND sta.active = 1 AND d.active = 1 @where_append  order by C.create_datetime desc', 'SELECT C .oid, C .cross_name, C .cross_code, C .project_oid, pro.project_name, C .pipeline_oid, pi.pipeline_name, C .cross_type_code, d.code_name AS cross_type_name, C .cross_way_code, sd.code_name AS cross_way_name, C .cross_length, C .start_stake_oid, sta.median_stake_code AS start_stake_code, C .end_stake_oid, sta1.median_stake_code AS end_stake_code, C .province, A . NAME AS province_name, C .city, ar. NAME AS city_name, C .county, ARE . NAME AS county_name, C .remarks, C .create_user_id, C .create_user_name, C .create_datetime, C .modify_user_id, C .modify_user_name, C .modify_datetime, C .active FROM daq_cross C LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = C .project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = C .pipeline_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake) sta ON sta.oid = C .start_stake_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake) sta1 ON sta1.oid = C .end_stake_oid LEFT JOIN (select code_id, code_name, active from sys_domain) d ON d.code_id = C .cross_type_code LEFT JOIN (select code_id, code_name, active from sys_domain) sd ON sd.code_id = C .cross_way_code LEFT JOIN (SELECT oid, NAME FROM area) A ON A .oid = C .province LEFT JOIN (SELECT oid, NAME FROM area) ar ON ar.oid = C .city LEFT JOIN (SELECT oid, NAME FROM area) ARE ON ARE .oid = C .county WHERE C .oid = :oid AND C .active = 1 AND pro.active = 1 AND pi.active = 1 AND sta.active = 1 AND d.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 14:01:37.796', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-18 16:57:39.586', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('09b1a825-a519-4c41-89fe-43451da3125c', '液位计', 'F000085', 'daq_s_material_level_gauge', 'INSERT INTO daq_s_material_level_gauge( oid, project_oid, device_code, device_name, tag_number, desin_pressure, classification_code, material_code, specification_model, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :tag_number, :desin_pressure, :classification_code, :material_code, :specification_model, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_level_gauge SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, tag_number=:tag_number, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_level_gauge SET active = 0 WHERE oid = :oid', 'SELECT
	mlg.oid,
	mlg.project_oid,pro.project_name,
	mlg.tenders_oid,te.tenders_name, 
	mlg.pipeline_oid,pi.pipeline_name,
	mlg.pipe_station_oid,ps.pipe_station_name,
	mlg.device_code,
	mlg.device_name,
	mlg.tag_number,
	mlg.desin_pressure,
	d.code_name as desin_pressure_name,
	mlg.classification_code,
	mlg.material_code,
	mlg.specification_model,
	mlg.manufacture_number,
	mlg.manufacturer,
	to_char(mlg.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mlg.guarantee_period,
	mlg.contract_number,
	mlg.remarks,
	mlg.create_user_id,
	mlg.create_user_name,
	mlg.create_datetime,
	mlg.modify_user_id,
	mlg.modify_user_name,
	mlg.modify_datetime,
	mlg.active
FROM
	daq_s_material_level_gauge mlg
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mlg.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mlg.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mlg.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mlg.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mlg.desin_pressure 
WHERE
	1 = 1
AND mlg.active = 1 @where_append  order by mlg.create_datetime desc', 'SELECT
	mlg.oid,
	mlg.project_oid,pro.project_name,
	mlg.tenders_oid,te.tenders_name, 
	mlg.pipeline_oid,pi.pipeline_name,
	mlg.pipe_station_oid,ps.pipe_station_name,
	mlg.device_code,
	mlg.device_name,
	mlg.tag_number,
	mlg.desin_pressure,
	d.code_name as desin_pressure_name,
	mlg.classification_code,
	mlg.material_code,
	mlg.specification_model,
	mlg.manufacture_number,
	mlg.manufacturer,
	to_char(mlg.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mlg.guarantee_period,
	mlg.contract_number,
	mlg.remarks,
	mlg.create_user_id,
	mlg.create_user_name,
	mlg.create_datetime,
	mlg.modify_user_id,
	mlg.modify_user_name,
	mlg.modify_datetime,
	mlg.active
FROM
	daq_s_material_level_gauge mlg
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mlg.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mlg.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mlg.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mlg.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mlg.desin_pressure 
WHERE mlg.oid = :oid AND mlg.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:49:42.402', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-23 14:19:12.193', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('09e759f7-825b-4db2-b0a1-9eefff4b61a0', '可视对讲后端设备', 'F000244', 'daq_station_video_intercom_back', 'INSERT INTO daq_station_video_intercom_back( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_video_intercom_back SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_video_intercom_back SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_video_intercom_back sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_video_intercom_back sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:23:40.697', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:08:13.054', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('09ecf96d-f996-42c5-b8e7-77a53d195f63', '话音交换设备安装', 'F000226', 'daq_station_telephone_exchange', 'INSERT INTO daq_station_telephone_exchange( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_telephone_exchange set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_telephone_exchange set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_telephone_exchange where oid=:oid);
UPDATE daq_station_telephone_exchange SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_telephone_exchange set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_telephone_exchange SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_telephone_exchange sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_telephone_exchange where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_telephone_exchange sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_telephone_exchange where active=1) mac on mac.oid = sta.manufacture_number WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 02:51:48.326', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:33:03.759', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0aa72bc1-05f6-445c-8dbf-e2794644a7d9', '三通(站场)', 'F000129', 'daq_station_tee', 'INSERT INTO daq_station_tee( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, tee_code, tee_type, tee_szie, entrance_pipe_code, entrance_connect_method, feeder_line_pipe_code, feeder_line_method, exit_pipe_code, exit_connect_method, has_grille, grille_type, grille_length, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :tee_code, :tee_type, :tee_szie, :entrance_pipe_code, :entrance_connect_method, :feeder_line_pipe_code, :feeder_line_method, :exit_pipe_code, :exit_connect_method, :has_grille, :grille_type, :grille_length, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_tee SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, tee_code=:tee_code, tee_type=:tee_type, tee_szie=:tee_szie, entrance_pipe_code=:entrance_pipe_code, entrance_connect_method=:entrance_connect_method, feeder_line_pipe_code=:feeder_line_pipe_code, feeder_line_method=:feeder_line_method, exit_pipe_code=:exit_pipe_code, exit_connect_method=:exit_connect_method, has_grille=:has_grille, grille_type=:grille_type, grille_length=:grille_length, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_tee SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.tee_code,
	wc.tee_type,
	wc.tee_szie,
	wc.entrance_pipe_code,
	wc.entrance_connect_method,
	doma.code_name entrance_connect_method_name,
	wc.feeder_line_pipe_code,
	wc.feeder_line_method,
 doma1.code_name feeder_line_method_name,
	wc.exit_pipe_code,
	wc.exit_connect_method,
 doma2.code_name exit_connect_method_name,
	wc.has_grille,
case when wc.has_grille=0 then ''否'' when wc.has_grille=1 then ''是'' end as has_grille_name,
	wc.grille_type,
case when wc.grille_type=1 then ''花孔'' when wc.grille_type=2 then ''挡条'' end as grille_type_name,
	wc.grille_length,
to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_tee wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma ON doma.code_id = wc.entrance_connect_method
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma1 ON doma1.code_id = wc.feeder_line_method
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma2 ON doma2.code_id = wc.exit_connect_method
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.tee_code,
	wc.tee_type,
	wc.tee_szie,
	wc.entrance_pipe_code,
	wc.entrance_connect_method,
	doma.code_name entrance_connect_method_name,
	wc.feeder_line_pipe_code,
	wc.feeder_line_method,
 doma1.code_name feeder_line_method_name,
	wc.exit_pipe_code,
	wc.exit_connect_method,
 doma2.code_name exit_connect_method_name,
	wc.has_grille,
case when wc.has_grille=0 then ''否'' when wc.has_grille=1 then ''是'' end as has_grille_name,
	wc.grille_type,
case when wc.grille_type=1 then ''花孔'' when wc.grille_type=2 then ''挡条'' end as grille_type_name,
	wc.grille_length,
to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_tee wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma ON doma.code_id = wc.entrance_connect_method
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma1 ON doma1.code_id = wc.feeder_line_method
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma2 ON doma2.code_id = wc.exit_connect_method
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 	
WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:42:53.151', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 09:58:46.582', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0b4ad904-4a0d-47e6-a962-34b8d833c29e', '外供电线路管理表', 'F000017', 'daq_power_line', 'INSERT INTO daq_power_line( oid, power_line_name, power_line_code, project_oid, pipeline_oid, power_supply_name, line_length, tower_type, tower_total, province, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :power_line_name, :power_line_code, :project_oid, :pipeline_oid, :power_supply_name, :line_length, :tower_type, :tower_total, :province, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_power_line SET oid=:oid, power_line_name=:power_line_name, power_line_code=:power_line_code, project_oid=:project_oid, pipeline_oid=:pipeline_oid, power_supply_name=:power_supply_name, line_length=:line_length, tower_type=:tower_type, tower_total=:tower_total, province=:province, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_power_line SET active = 0 WHERE oid = :oid', 'SELECT pl.oid, pl.power_line_name, pl.power_line_code, pl.project_oid, pro.project_name, pl.pipeline_oid, pi.pipeline_name, pl.power_supply_name, pl.line_length, pl.tower_type, pl.tower_total, pl.province,a.name AS province_name, pl.remarks, pl.create_user_id, pl.create_user_name, pl.create_datetime, pl.modify_user_id, pl.modify_user_name, pl.modify_datetime, pl.active FROM daq_power_line pl LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = pl.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = pl.pipeline_oid LEFT JOIN (SELECT oid, NAME FROM area) a ON a.oid = pl.province WHERE pl.active = 1 AND pro.active = 1 AND pi.active = 1 @where_append  order by pl.create_datetime desc', 'SELECT pl.oid, pl.power_line_name, pl.power_line_code, pl.project_oid, pro.project_name, pl.pipeline_oid, pi.pipeline_name, pl.power_supply_name, pl.line_length, pl.tower_type, pl.tower_total, pl.province,a.name AS province_name, pl.remarks, pl.create_user_id, pl.create_user_name, pl.create_datetime, pl.modify_user_id, pl.modify_user_name, pl.modify_datetime, pl.active FROM daq_power_line pl LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = pl.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = pl.pipeline_oid LEFT JOIN (SELECT oid, NAME FROM area) a ON a.oid = pl.province WHERE pl.oid = :oid AND pl.active = 1 AND pro.active = 1 AND pi.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 15:10:43.388', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 10:13:12.164', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0ba99ebb-c321-4f2d-9458-def3abc321c3', '调节阀安装', 'F000206', 'daq_station_control_valve', 'INSERT INTO daq_station_control_valve( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, strength_test_medium, strength_test_pressure, strength_test_drop_press, film_head_test_medium, film_head_test_pressure, film_head_test_drop_press, open_valve_stroke_time, colse_valve_stroke_time, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :strength_test_medium, :strength_test_pressure, :strength_test_drop_press, :film_head_test_medium, :film_head_test_pressure, :film_head_test_drop_press, :open_valve_stroke_time, :colse_valve_stroke_time, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_control_valve set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_control_valve set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_control_valve where oid=:oid);
UPDATE daq_station_control_valve SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, strength_test_medium=:strength_test_medium, strength_test_pressure=:strength_test_pressure, strength_test_drop_press=:strength_test_drop_press, film_head_test_medium=:film_head_test_medium, film_head_test_pressure=:film_head_test_pressure, film_head_test_drop_press=:film_head_test_drop_press, open_valve_stroke_time=:open_valve_stroke_time, colse_valve_stroke_time=:colse_valve_stroke_time, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_control_valve set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_control_valve SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.strength_test_medium,
	sta.strength_test_pressure,
	sta.strength_test_drop_press,
	sta.film_head_test_medium,
	sta.film_head_test_pressure,
	sta.film_head_test_drop_press,
	sta.open_valve_stroke_time,
	sta.colse_valve_stroke_time,
	sta.install_location,
	sta.connection_mode,
	d.code_name as connection_mode_name,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_control_valve sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_control_valve where active=1) mac on mac.oid = sta.manufacture_number 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.strength_test_medium,
	sta.strength_test_pressure,
	sta.strength_test_drop_press,
	sta.film_head_test_medium,
	sta.film_head_test_pressure,
	sta.film_head_test_drop_press,
	sta.open_valve_stroke_time,
	sta.colse_valve_stroke_time,
	sta.install_location,
	sta.connection_mode,
	d.code_name as connection_mode_name,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_control_valve sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_control_valve where active=1) mac on mac.oid = sta.manufacture_number 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-9 01:42:35.5', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:30:23.111', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0c2b20e6-b684-4f0b-871d-07f70d006569', '储罐防腐', 'F000164', 'daq_station_storage_tank_anticorrosive', 'INSERT INTO daq_station_storage_tank_anticorrosive( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, anticorrosive_position, surface_treatment_grade, wall_anticorrosive_structure, exine_anticorrosive_structure, primer_material, primer_thickness, primer_layer_number, median_material, median_thickness, median_layer_number, outside_material, outside_thickness, outside_layer_number, thickness_check_result, cohesive_force_check_result, complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :anticorrosive_position, :surface_treatment_grade, :wall_anticorrosive_structure, :exine_anticorrosive_structure, :primer_material, :primer_thickness, :primer_layer_number, :median_material, :median_thickness, :median_layer_number, :outside_material, :outside_thickness, :outside_layer_number, :thickness_check_result, :cohesive_force_check_result, (select :complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_anticorrosive SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, anticorrosive_position=:anticorrosive_position, surface_treatment_grade=:surface_treatment_grade, wall_anticorrosive_structure=:wall_anticorrosive_structure, exine_anticorrosive_structure=:exine_anticorrosive_structure, primer_material=:primer_material, primer_thickness=:primer_thickness, primer_layer_number=:primer_layer_number, median_material=:median_material, median_thickness=:median_thickness, median_layer_number=:median_layer_number, outside_material=:outside_material, outside_thickness=:outside_thickness, outside_layer_number=:outside_layer_number, thickness_check_result=:thickness_check_result, cohesive_force_check_result=:cohesive_force_check_result, complete_date=(select :complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_anticorrosive SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.anticorrosive_position, sss.surface_treatment_grade, sss.wall_anticorrosive_structure, sss.exine_anticorrosive_structure, sss.primer_material, sss.primer_thickness, sss.primer_layer_number, sss.median_material, sss.median_thickness, sss.median_layer_number, sss.outside_material, sss.outside_thickness, sss.outside_layer_number, sss.thickness_check_result, case when sss.thickness_check_result=1 then ''合格'' when sss.thickness_check_result=0 then ''不合格'' end as thickness_check_result_name, sss.cohesive_force_check_result, case when sss.cohesive_force_check_result=1 then ''合格'' when sss.cohesive_force_check_result=0 then ''不合格'' end as cohesive_force_check_result_name, to_char(sss.complete_date, ''YYYY-MM-DD'') as complete_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name
FROM daq_station_storage_tank_anticorrosive sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.anticorrosive_position, sss.surface_treatment_grade, sss.wall_anticorrosive_structure, sss.exine_anticorrosive_structure, sss.primer_material, sss.primer_thickness, sss.primer_layer_number, sss.median_material, sss.median_thickness, sss.median_layer_number, sss.outside_material, sss.outside_thickness, sss.outside_layer_number, sss.thickness_check_result, case when sss.thickness_check_result=1 then ''合格'' when sss.thickness_check_result=0 then ''不合格'' end as thickness_check_result_name, sss.cohesive_force_check_result, case when sss.cohesive_force_check_result=1 then ''合格'' when sss.cohesive_force_check_result=0 then ''不合格'' end as cohesive_force_check_result_name, to_char(sss.complete_date, ''YYYY-MM-DD'') as complete_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name
FROM daq_station_storage_tank_anticorrosive sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 08:43:36.313', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:37:21.896', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0c3df677-0b1b-4325-9e2f-80e88760205c', '热煨弯管表', 'F000025', 'daq_material_hot_bends', 'INSERT INTO daq_material_hot_bends(production_date, curve_length, materiel_code,project_oid,oid,technology, hot_bends_code, diameter, wall_thickness, pipe_length, weight, angle_bending, straight_length, manufacture_date, manufacture_factory, quality_certificate_num, material, pipe_grade, stove_serial_num, pipe_forming_method, external_coating_type, internal_coating_material, internal_coating_thinkness, pipe_manufacture_date, steel_plate_num, steel_plate_quality_certificate_num, coating_num, coating_date, coating_certificate_num, coating_factory, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ,construct_unit) VALUES ((select :production_date::timestamp), :curve_length, :materiel_code, :project_oid,:oid, :technology, :hot_bends_code, :diameter, :wall_thickness, :pipe_length, :weight, :angle_bending, :straight_length, (select :manufacture_date::timestamp), :manufacture_factory, :quality_certificate_num, :material, :pipe_grade, :stove_serial_num, :pipe_forming_method, :external_coating_type, :internal_coating_material, :internal_coating_thinkness, (select :pipe_manufacture_date::timestamp), :steel_plate_num, :steel_plate_quality_certificate_num, :coating_num, (select :coating_date::timestamp), :coating_certificate_num, :coating_factory,:remarks, :current_user_id, :current_user_name, (select :current_datetime::timestamp), :current_user_id, :current_user_name, (select :current_datetime::timestamp), :active ,:current_unit_id)', 'UPDATE daq_material_hot_bends SET production_date=(select :production_date::timestamp), curve_length=:curve_length, materiel_code=:materiel_code, project_oid=:project_oid,oid=:oid,technology=:technology, hot_bends_code=:hot_bends_code, diameter=:diameter, wall_thickness=:wall_thickness, pipe_length=:pipe_length, weight=:weight, angle_bending=:angle_bending, straight_length=:straight_length, manufacture_date=(select :manufacture_date::timestamp), manufacture_factory=:manufacture_factory, quality_certificate_num=:quality_certificate_num, material=:material, pipe_grade=:pipe_grade, stove_serial_num=:stove_serial_num, pipe_forming_method=:pipe_forming_method, external_coating_type=:external_coating_type, external_coating_grade=:external_coating_grade, internal_coating_material=:internal_coating_material, internal_coating_thinkness=:internal_coating_thinkness, pipe_manufacture_date=(select :pipe_manufacture_date::timestamp), steel_plate_num=:steel_plate_num, steel_plate_quality_certificate_num=:steel_plate_quality_certificate_num, coating_num=:coating_num, coating_date=(select :coating_date::timestamp),coating_certificate_num=:coating_certificate_num, coating_factory=:coating_factory, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=(select :current_datetime::timestamp), active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_material_hot_bends SET active = 0 WHERE  oid = :oid', 'SELECT mhb.commit_status,to_char(mhb.production_date, ''YYYY-MM-DD'') as production_date, mhb.curve_length, mhb.materiel_code, mhb.oid, mhb.project_oid, pro.project_name, mhb.pipeline_oid, pi.pipeline_name, mhb.tenders_oid, te.tenders_name, mhb.hot_bends_code, mhb.technology, d.code_name as technology_name, mhb.diameter,	mhb.wall_thickness,	mhb.pipe_length,	mhb.weight,	mhb.angle_bending,	mhb.straight_length, to_char(mhb.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,	mhb.manufacture_factory,	mhb.quality_certificate_num, mhb.material,	dm.code_name as material_name,mhb.pipe_grade,sd.code_name as pipe_grade_name, mhb.stove_serial_num,	mhb.pipe_forming_method,dom.code_name as pipe_forming_method_name,	mhb.external_coating_type,	doma.code_name as external_coating_type_name,	mhb.internal_coating_material,	mhb.internal_coating_thinkness,	to_char(mhb.pipe_manufacture_date, ''YYYY-MM-DD'') as pipe_manufacture_date,	mhb.steel_plate_num, mhb.steel_plate_quality_certificate_num,	mhb.coating_num, to_char(mhb.coating_date, ''YYYY-MM-DD'') as coating_date,	mhb.coating_certificate_num,mhb.coating_factory, case when is_use=''1'' then ''是'' else ''否'' END as is_use,  mhb.remarks, mhb.create_user_id, mhb.create_user_name,	mhb.create_datetime, mhb.modify_user_id, mhb.modify_user_name,	mhb.modify_datetime,mhb.active FROM daq_material_hot_bends mhb LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mhb.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mhb.pipeline_oid  LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mhb.tenders_oid LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mhb.technology LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) sd ON sd.code_id = mhb.pipe_grade LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain) dm ON dm.code_id = mhb.material LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dom ON dom.code_id = mhb.pipe_forming_method LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) doma ON doma.code_id = mhb.external_coating_type WHERE mhb.active = 1 @where_append and @privilege_strategy_sql order by mhb.create_datetime,mhb.hot_bends_code desc', 'SELECT to_char(mhb.production_date, ''YYYY-MM-DD'') as production_date,	mhb.curve_length, mhb.materiel_code, mhb.oid, mhb.project_oid, pro.project_name, mhb.pipeline_oid, pi.pipeline_name, mhb.tenders_oid, te.tenders_name, mhb.hot_bends_code, mhb.technology, d.code_name as technology_name,mhb.diameter,	mhb.wall_thickness,	mhb.pipe_length,	mhb.weight,	mhb.angle_bending,	mhb.straight_length,	to_char(mhb.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,	mhb.manufacture_factory,	mhb.quality_certificate_num, mhb.material,	dm.code_name as material_name,mhb.pipe_grade, sd.code_name as pipe_grade_name, mhb.stove_serial_num,	mhb.pipe_forming_method,dom.code_name as pipe_forming_method_name,	mhb.external_coating_type,	doma.code_name as external_coating_type_name,	mhb.internal_coating_material,	mhb.internal_coating_thinkness,	to_char(mhb.pipe_manufacture_date, ''YYYY-MM-DD'') as pipe_manufacture_date,	mhb.steel_plate_num,	mhb.steel_plate_quality_certificate_num,	mhb.coating_num,	to_char(mhb.coating_date, ''YYYY-MM-DD'') as coating_date,	mhb.coating_certificate_num,mhb.coating_factory,case when is_use=''1'' then ''是'' else ''否'' END as is_use, mhb.remarks,	mhb.create_user_id,	mhb.create_user_name,	mhb.create_datetime,	mhb.modify_user_id,	mhb.modify_user_name,	mhb.modify_datetime,mhb.active FROM daq_material_hot_bends mhb LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mhb.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mhb.pipeline_oid  LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mhb.tenders_oid LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mhb.technology LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) sd ON sd.code_id = mhb.pipe_grade LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dm ON dm.code_id = mhb.material LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dom ON dom.code_id = mhb.pipe_forming_method LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) doma ON doma.code_id = mhb.external_coating_type WHERE mhb.oid= :oid AND mhb.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-29 14:01:22.616', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 14:03:26.127', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0cca33df-c7a1-489b-bf3a-056b38257961', '加热炉安装', 'F000163', 'daq_station_heater', 'INSERT INTO daq_station_heater( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, special_device_certification_num, rate_of_flow, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :special_device_certification_num, :rate_of_flow, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_heater set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_heater set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_heater where oid=:oid);
UPDATE daq_station_heater SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, special_device_certification_num=:special_device_certification_num, rate_of_flow=:rate_of_flow, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_heater set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_heater SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.special_device_certification_num,
	sta.rate_of_flow,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_heater sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_heater where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.special_device_certification_num,
	sta.rate_of_flow,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_heater sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_heater where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 08:42:27.99', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 15:58:33.051', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0ccf15c3-78b7-48bf-accb-8022aa6068d3', '测试010101', 'F000237', 'daq_station_pressure_gauge', 'INSERT INTO daq_station_pressure_gauge( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode,(select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_pressure_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_pressure_gauge set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pressure_gauge where oid=:oid);
UPDATE daq_station_pressure_gauge SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_pressure_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_pressure_gauge SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_gauge wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_gauge where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_gauge wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_gauge where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 14:03:41.85', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:16:13.653', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0d21e858-a975-429e-a0b6-2d1d1fd519d6', '调压系统', 'F000064', 'daq_s_material_pressure_control_system', 'INSERT INTO daq_s_material_pressure_control_system( oid, project_oid,  device_code, device_name, pressure_rating, ssv_size, pcv_size, pv_size, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :pressure_rating, :ssv_size, :pcv_size, :pv_size, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_pressure_control_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, ssv_size=:ssv_size, pcv_size=:pcv_size, pv_size=:pv_size, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_pressure_control_system SET active = 0 WHERE oid = :oid', 'SELECT
	mpcs.oid,
	mpcs.project_oid,pro.project_name,
	mpcs.tenders_oid,te.tenders_name, 
	mpcs.pipeline_oid,pi.pipeline_name,
	mpcs.pipe_station_oid,ps.pipe_station_name,
	mpcs.device_code,
	mpcs.device_name,
	mpcs.pressure_rating,
	sd.code_name as pressure_rating_name,
	mpcs.ssv_size,
	d.code_name as ssv_size_name,
	mpcs.pcv_size,
	dom.code_name as pcv_size_name,
	mpcs.pv_size,
	doma.code_name as pv_size_name,
	mpcs.desin_pressure,
	domai.code_name as desin_pressure_name,
	mpcs.classification_code,
	mpcs.material_code,
	mpcs.specification_model,
	mpcs.tag_number,
	mpcs.manufacture_number,
	mpcs.manufacturer,
	to_char(mpcs.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpcs.guarantee_period,
	mpcs.contract_number,
	mpcs.remarks,
	mpcs.create_user_id,
	mpcs.create_user_name,
	mpcs.create_datetime,
	mpcs.modify_user_id,
	mpcs.modify_user_name,
	mpcs.modify_datetime,
	mpcs.active
FROM
	daq_s_material_pressure_control_system mpcs
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpcs.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpcs.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpcs.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpcs.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mpcs.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpcs.ssv_size 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=mpcs.pcv_size 
left join (select code_id,code_name from sys_domain where active=1) doma on doma.code_id=mpcs.pv_size 
left join (select code_id,code_name from sys_domain where active=1) domai on domai.code_id=mpcs.desin_pressure  
WHERE
	1 = 1
AND mpcs.active = 1 @where_append order by mpcs.create_datetime desc', 'SELECT
	mpcs.oid,
	mpcs.project_oid,pro.project_name,
	mpcs.tenders_oid,te.tenders_name, 
	mpcs.pipeline_oid,pi.pipeline_name,
	mpcs.pipe_station_oid,ps.pipe_station_name,
	mpcs.device_code,
	mpcs.device_name,
	mpcs.pressure_rating,
	sd.code_name as pressure_rating_name,
	mpcs.ssv_size,
	d.code_name as ssv_size_name,
	mpcs.pcv_size,
	dom.code_name as pcv_size_name,
	mpcs.pv_size,
	doma.code_name as pv_size_name,
	mpcs.desin_pressure,
	domai.code_name as desin_pressure_name,
	mpcs.classification_code,
	mpcs.material_code,
	mpcs.specification_model,
	mpcs.tag_number,
	mpcs.manufacture_number,
	mpcs.manufacturer,
	to_char(mpcs.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpcs.guarantee_period,
	mpcs.contract_number,
	mpcs.remarks,
	mpcs.create_user_id,
	mpcs.create_user_name,
	mpcs.create_datetime,
	mpcs.modify_user_id,
	mpcs.modify_user_name,
	mpcs.modify_datetime,
	mpcs.active
FROM
	daq_s_material_pressure_control_system mpcs
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpcs.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpcs.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpcs.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpcs.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mpcs.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpcs.ssv_size 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=mpcs.pcv_size 
left join (select code_id,code_name from sys_domain where active=1) doma on doma.code_id=mpcs.pv_size 
left join (select code_id,code_name from sys_domain where active=1) domai on domai.code_id=mpcs.desin_pressure  WHERE mpcs.oid = :oid AND mpcs.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-28 09:58:16.036', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:24:01.022', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0d4b4ef6-35f2-4c21-9620-5d6e4741d668', '干式电力变压器', 'F000094', 'daq_s_material_dry_type_transformer', 'INSERT INTO daq_s_material_dry_type_transformer( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_dry_type_transformer SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_dry_type_transformer SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, contract_number, remarks, create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_dry_type_transformer sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, contract_number, remarks, create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_dry_type_transformer sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 08:05:35.021', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:28:40.796', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0d65a156-1fd4-4148-93a2-2c9bdfa757ca', '周界入侵报警后端设备', 'F000233', 'daq_station_back_alarm', 'INSERT INTO daq_station_back_alarm( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_back_alarm SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_back_alarm SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_back_alarm wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_back_alarm wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 05:36:24.811', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:17:42.229', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0d65e950-d4ba-4dc0-8aae-f4829e6b7d45', '标定设备安装', 'F000202', 'daq_station_prover_system', 'INSERT INTO daq_station_prover_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_prover_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_prover_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_prover_system where oid=:oid);
UPDATE daq_station_prover_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_prover_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_prover_system SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.manufacture_number,
	sss.install_location,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_prover_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_prover_system where active=1) mac on mac.oid = sss.manufacture_number 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.manufacture_number,
	sss.install_location,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_prover_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_prover_system where active=1) mac on mac.oid = sss.manufacture_number 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 09:10:33.057', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:33:54.503', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0dc8119a-1282-4481-87f2-10786b8f33d6', '分析设备安装', 'F000214', 'daq_station_analysis', 'INSERT INTO daq_station_analysis( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_analysis_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_analysis_transmitter set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_analysis where oid=:oid);
UPDATE daq_station_analysis SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_analysis_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_analysis SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.detection_unit,
	to_char(sta.detection_date, ''YYYY-MM-DD'') as detection_date,
	sta.detection_result,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_analysis sta 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_analysis_transmitter where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc
', 'SELECT
	sta.oid,
	sta.device_code,
	manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.detection_unit,
	to_char(sta.detection_date, ''YYYY-MM-DD'') as detection_date,
	sta.detection_result,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_analysis sta 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_analysis_transmitter where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 01:20:09.948', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 09:46:16.107', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0eaa7876-33bf-4570-be26-bd866315c24f', '项目管理测试', 'F000007', 'test_project', 'INSERT INTO custom_fun_function test_project( oid, project_name, project_code, construct, engineering_id, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, medium_type ) VALUES ( :oid, :project_name, :project_code, :construct, :engineering_id, :remark, :ordernum, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, :medium_type )', 'UPDATE test_project SET oid=:oid, project_name=:project_name, project_code=:project_code, construct=:construct, engineering_id=:engineering_id, remark=:remark, ordernum=:ordernum, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, medium_type=:medium_type WHERE oid = :oid AND active = 1', 'UPDATE test_project SET active = 0 WHERE oid = :oid', 'SELECT t.oid, t.project_name, t.project_code, t.construct, a.engineering_name,t.engineering_id, t.remark, t.ordernum, t.create_user_id, t.create_user_name, t.create_datetime, t.modify_user_id, t.modify_user_name, t.modify_datetime, t.active, b.code_name,t.medium_type FROM test_project t left join test_engineering a on t.engineering_id=a.oid
left join sys_domain b on t.medium_type=b.code_id where 1=1 and  t.active = 1 @where_append', 'SELECT t.oid, t.project_name, t.project_code, t.construct, a.engineering_name,t.engineering_id, t.remark, t.ordernum, t.create_user_id, t.create_user_name, t.create_datetime, t.modify_user_id, t.modify_user_name, t.modify_datetime, t.active, b.code_name,t.medium_type FROM test_project t left join test_engineering a on t.engineering_id=a.oid
left join sys_domain b on t.medium_type=b.code_id WHERE t.oid = :oid AND t.active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-5-29 17:34:29.786', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:34.409', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0f3f00a3-a5c9-4654-b582-c719109bd6ee', '应急通信系统', 'F000247', 'daq_station_emergency_communication_sys', 'INSERT INTO daq_station_emergency_communication_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results,(select :debug_complete_date::timestamp) , :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_emergency_communication_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_emergency_communication_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_emergency_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_emergency_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:34:29.833', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-23 17:38:38.094', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('0feea637-82f7-48df-88ff-f2e6e6383435', '管壳式热交换器', 'F000105', 'daq_s_material_exchanger', 'INSERT INTO daq_s_material_exchanger( oid, project_oid,  device_code, device_name, main_structure_type, vessel__category, shell_design_pressure, tube_test_pressure, total_length, tube_thickness, shell_thickness, classification_code, material_code, specification_model, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :main_structure_type, :vessel__category, :shell_design_pressure, :tube_test_pressure, :total_length, :tube_thickness, :shell_thickness, :classification_code, :material_code, :specification_model, :manufacture_number, :manufacturer,(select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_exchanger SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, main_structure_type=:main_structure_type, vessel__category=:vessel__category, shell_design_pressure=:shell_design_pressure, tube_test_pressure=:tube_test_pressure, total_length=:total_length, tube_thickness=:tube_thickness, shell_thickness=:shell_thickness, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_exchanger SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.main_structure_type,
	wc.vessel__category,
case when wc.vessel__category=1 then ''I'' when wc.vessel__category=2 then ''II'' when wc.vessel__category=3 then ''III'' end as vessel__category_name,
	wc.shell_design_pressure,
	wc.tube_test_pressure,
	wc.total_length,
	wc.tube_thickness,
	wc.shell_thickness,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.manufacture_number,
	wc.manufacturer,
to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name main_structure_type_name
FROM
	daq_s_material_exchanger wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''main_structure_typer_domain'' and active=1 ) doma ON doma.code_id = wc.main_structure_type WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc ', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.main_structure_type,
	wc.vessel__category,
case when wc.vessel__category=1 then ''I'' when wc.vessel__category=2 then ''II'' when wc.vessel__category=3 then ''III'' end as vessel__category_name,
	wc.shell_design_pressure,
	wc.tube_test_pressure,
	wc.total_length,
	wc.tube_thickness,
	wc.shell_thickness,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.manufacture_number,
	wc.manufacturer,
to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name main_structure_type_name
FROM
	daq_s_material_exchanger wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''main_structure_typer_domain'' and active=1 ) doma ON doma.code_id = wc.main_structure_type WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:46:06.821', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:51:58.059', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('106a3800-ce0f-4ab8-a6cb-47160776951b', '防腐管检查及信息记录表', 'F000030', 'daq_check_coating_pipe', 'INSERT INTO daq_check_coating_pipe( oid,project_oid,tenders_oid,construct_unit,  pipe_oid, groove_check, pipe_end_proring_check, coating_io_face_check, diameter_check, coating_io_ends_check, excess_weld_metal, ovality, checked_by, checked_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid,:project_oid,:tenders_oid,:construct_unit, :pipe_oid, :groove_check, :pipe_end_proring_check, :coating_io_face_check, :diameter_check, :coating_io_ends_check, :excess_weld_metal, :ovality, :checked_by, (select :checked_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_material_pipe set is_check=1 where oid=(:pipe_oid);', 'update daq_material_pipe set is_check=0 where oid=(select pipe_oid from daq_check_coating_pipe where oid=:oid);
UPDATE daq_check_coating_pipe SET oid=:oid,project_oid=:project_oid,tenders_oid=:tenders_oid,construct_unit=:construct_unit,  pipe_oid=:pipe_oid, groove_check=:groove_check, pipe_end_proring_check=:pipe_end_proring_check, coating_io_face_check=:coating_io_face_check, diameter_check=:diameter_check, coating_io_ends_check=:coating_io_ends_check, excess_weld_metal=:excess_weld_metal, ovality=:ovality, checked_by=:checked_by, checked_date=(select :checked_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_material_pipe set is_check=1 where oid=(:pipe_oid);', 'UPDATE daq_check_coating_pipe SET active = 0 WHERE oid = :oid or oid in (:idList);
update daq_material_pipe set is_check=0 where oid in (select pipe_oid from daq_check_coating_pipe where oid=:oid or oid in (:idList));', 'SELECT ccp.commit_status, ccp.oid,ccp.project_oid, ccp.tenders_oid,ccp.construct_unit, ccp.pipe_oid, ccp.groove_check, case when ccp.groove_check=1 then ''合格'' when ccp.groove_check=0 then ''不合格'' end as groove_check_name, ccp.pipe_end_proring_check,case when ccp.pipe_end_proring_check=1 then ''合格'' when ccp.pipe_end_proring_check=0 then ''不合格'' end as pipe_end_proring_check_name, case when ccp.coating_io_face_check=1 then ''合格'' when ccp.coating_io_face_check=0 then ''不合格'' end as coating_io_face_check_name,ccp.coating_io_face_check, case when ccp.diameter_check=1 then ''合格'' when ccp.diameter_check=0 then ''不合格'' end as diameter_check_name,ccp.diameter_check, case when ccp.coating_io_ends_check=1 then ''合格'' when ccp.coating_io_ends_check=0 then ''不合格'' end as coating_io_ends_check_name,ccp.coating_io_ends_check, case when ccp.excess_weld_metal=1 then ''合格'' when ccp.excess_weld_metal=0 then ''不合格'' end as excess_weld_metal_name, ccp.excess_weld_metal, case when ccp.ovality=1 then ''合格'' when ccp.ovality=0 then ''不合格'' end as ovality_name,ccp.ovality, ccp.checked_by, to_char(ccp.checked_date, ''YYYY-MM-DD'') as checked_date, ccp.remarks, ccp.create_user_id, ccp.create_user_name, ccp.create_datetime, ccp.modify_user_id, ccp.modify_user_name, ccp.modify_datetime, ccp.active,pro.project_name, pi.unit_name as construct_unit_name, te.tenders_name,mp.pipe_code FROM daq_check_coating_pipe ccp LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = ccp.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = ccp.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = ccp.tenders_oid left join (select oid,pipe_code from daq_material_pipe where active=1) mp on mp.oid=ccp.pipe_oid  WHERE 1 = 1  AND ccp.active = 1 @where_append and @privilege_strategy_sql order by ccp.create_datetime,mp.pipe_code desc', 'SELECT ccp.oid,ccp.project_oid, ccp.tenders_oid,ccp.construct_unit, ccp.pipe_oid, ccp.groove_check, case when ccp.groove_check=1 then ''合格'' when ccp.groove_check=0 then ''不合格'' end as groove_check_name, ccp.pipe_end_proring_check,case when ccp.pipe_end_proring_check=1 then ''合格'' when ccp.pipe_end_proring_check=0 then ''不合格'' end as pipe_end_proring_check_name, case when ccp.coating_io_face_check=1 then ''合格'' when ccp.coating_io_face_check=0 then ''不合格'' end as coating_io_face_check_name,ccp.coating_io_face_check, case when ccp.diameter_check=1 then ''合格'' when ccp.diameter_check=0 then ''不合格'' end as diameter_check_name,ccp.diameter_check, case when ccp.coating_io_ends_check=1 then ''合格'' when ccp.coating_io_ends_check=0 then ''不合格'' end as coating_io_ends_check_name,ccp.coating_io_ends_check, case when ccp.excess_weld_metal=1 then ''合格'' when ccp.excess_weld_metal=0 then ''不合格'' end as excess_weld_metal_name, ccp.excess_weld_metal, case when ccp.ovality=1 then ''合格'' when ccp.ovality=0 then ''不合格'' end as ovality_name,ccp.ovality, ccp.checked_by, to_char(ccp.checked_date, ''YYYY-MM-DD'') as checked_date, ccp.remarks, ccp.create_user_id, ccp.create_user_name, ccp.create_datetime, ccp.modify_user_id, ccp.modify_user_name, ccp.modify_datetime, ccp.active,pro.project_name, pi.unit_name as construct_unit_name, te.tenders_name,mp.pipe_code FROM daq_check_coating_pipe ccp LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = ccp.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = ccp.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = ccp.tenders_oid left join (select oid,pipe_code from daq_material_pipe where active=1) mp on mp.oid=ccp.pipe_oid  WHERE ccp.oid = :oid AND ccp.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-3 09:20:40.482', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-11 16:55:24.4', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1083e851-58fa-43f4-a785-0a497c4d4738', '消气器', 'F000089', 'daq_s_material_air_eliminater', 'INSERT INTO daq_s_material_air_eliminater( oid, project_oid, device_code, device_name, classification_code, material_code, specification_model, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :classification_code, :material_code, :specification_model, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_air_eliminater SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_air_eliminater SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_air_eliminater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
	WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc ', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_air_eliminater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
	WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 07:13:36.542', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:42:33.86', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('12014456-6701-41f6-962d-f3a1c09420ce', '放空火炬安装', 'F000148', 'daq_station_flare', 'INSERT INTO daq_station_flare( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_flare set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_flare set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_flare where oid=:oid);
UPDATE daq_station_flare SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_flare set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_flare SET active = 0 WHERE oid = :oid', 'SELECT
	sf.oid,
	sf.project_oid,pro.project_name,
	sf.tenders_oid,te.tenders_name, 
	sf.pipeline_oid,pi.pipeline_name,
	sf.pipe_station_oid,ps.pipe_station_name,
	sf.device_code,
	sf.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sf.construct_date, ''YYYY-MM-DD'') as construct_date,
	sf.construct_unit,
	u.unit_name as construct_unit_name,
	sf.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sf.supervision_engineer,
	sf.collection_person,
	to_char(sf.collection_date, ''YYYY-MM-DD'') as collection_date,
	sf.approve_status,
	case when sf.approve_status = -1 then ''驳回'' when sf.approve_status = 1 then ''待审核'' when sf.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sf.remarks,
	sf.create_user_id,
	sf.create_user_name,
	sf.create_datetime,
	sf.modify_user_id,
	sf.modify_user_name,
	sf.modify_datetime,
	sf.active
FROM
	daq_station_flare sf
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sf.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sf.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sf.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sf.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sf.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sf.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_flare where active=1) mac on mac.oid = sf.manufacture_number 
WHERE
	1 = 1
AND sf.active = 1 @where_append and @privilege_strategy_sql  order by sf.create_datetime desc', 'SELECT
	sf.oid,
	sf.project_oid,pro.project_name,
	sf.tenders_oid,te.tenders_name, 
	sf.pipeline_oid,pi.pipeline_name,
	sf.pipe_station_oid,ps.pipe_station_name,
	sf.device_code,
	sf.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sf.construct_date, ''YYYY-MM-DD'') as construct_date,
	sf.construct_unit,
	u.unit_name as construct_unit_name,
	sf.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sf.supervision_engineer,
	sf.collection_person,
	to_char(sf.collection_date, ''YYYY-MM-DD'') as collection_date,
	sf.approve_status,
	case when sf.approve_status = -1 then ''驳回'' when sf.approve_status = 1 then ''待审核'' when sf.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sf.remarks,
	sf.create_user_id,
	sf.create_user_name,
	sf.create_datetime,
	sf.modify_user_id,
	sf.modify_user_name,
	sf.modify_datetime,
	sf.active
FROM
	daq_station_flare sf
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sf.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sf.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sf.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sf.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sf.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sf.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_flare where active=1) mac on mac.oid = sf.manufacture_number 
WHERE sf.oid = :oid AND sf.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 16:20:14.37', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 14:12:01.649', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('121aa1b9-b93e-4b3b-982a-623482201f8d', '项目管理表', 'F000005', 'daq_project', 'INSERT INTO daq_project( oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_name, :project_code, :pipe_network_type_code, :medium_type_code, :construct, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_project SET oid=:oid, project_name=:project_name, project_code=:project_code, pipe_network_type_code=:pipe_network_type_code, medium_type_code=:medium_type_code, construct=:construct, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_project SET active = 0 WHERE oid = :oid', 'SELECT P .oid, P .project_name, P .project_code, P.pipe_network_type_code, dm.code_name as pipe_network_type_code_name, P.medium_type_code,d.code_name as medium_type_code_name, P .construct,	P .remarks,	P .create_user_id,	P .create_user_name,	P .create_datetime,	P .modify_user_id, P .modify_user_name, P .modify_datetime, P .active FROM daq_project P LEFT JOIN (select code_id,code_name from sys_domain where active=1) d ON P .medium_type_code = d.code_id LEFT JOIN (select code_id,code_name from sys_domain where active=1) dm ON P .pipe_network_type_code = dm.code_id WHERE 1=1 AND P .active = 1 @where_append order by P.create_datetime desc', 'SELECT P.oid, P.project_name, P.project_code, P.pipe_network_type_code, dm.code_name as pipe_network_type_code_name, P.medium_type_code,d.code_name as medium_type_code_name,  P.construct, P.remarks, P.create_user_id, P.create_user_name, P.create_datetime, P.modify_user_id, P.modify_user_name, P.modify_datetime, P.active FROM daq_project P LEFT JOIN (select code_id,code_name from sys_domain where active=1) d ON P.medium_type_code = d.code_id LEFT JOIN (select code_id,code_name from sys_domain where active=1) dm ON P.pipe_network_type_code = dm.code_id WHERE P.oid = :oid and p.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 15:34:24.101', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 16:01:55.654', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('129109b3-b25a-499f-a002-e849ce683b4f', 'xiangmu ', 'F000260', 'daq_project', 'INSERT INTO daq_project( oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_name, :project_code, :pipe_network_type_code, :medium_type_code, :construct, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_project SET oid=:oid, project_name=:project_name, project_code=:project_code, pipe_network_type_code=:pipe_network_type_code, medium_type_code=:medium_type_code, construct=:construct, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:14:25.969', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:14:44.421', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('149d6807-46a3-43bd-97ce-a128bfbdbf33', '管段材料表', 'F000257', 'daq_mv_pipe_material', 'INSERT INTO daq_mv_pipe_material( oid, project_oid, pipe_section_material, pipe_section_spec, outer_diameter, wall_thickness, design_life, construct_unit, collection_person, collection_date, supervision_unit, supervision_engineer, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :pipe_section_material, :pipe_section_spec, :outer_diameter, :wall_thickness, :design_life, :construct_unit, :collection_person,(select :collection_date::timestamp), :supervision_unit, :supervision_engineer,  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_mv_pipe_material SET oid=:oid, project_oid=:project_oid, pipe_section_material=:pipe_section_material, pipe_section_spec=:pipe_section_spec, outer_diameter=:outer_diameter, wall_thickness=:wall_thickness, design_life=:design_life, construct_unit=:construct_unit, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_mv_pipe_material SET active = 0 WHERE oid = :oid', 'SELECT
	mvpm.oid,
	mvpm.project_oid,
	pro.project_name,
	mvpm.pipe_section_material,
	doma.code_name as pipe_section_material_name,
	mvpm.pipe_section_spec,
	doma1.code_name as pipe_section_spec_name,
	mvpm.outer_diameter,
	mvpm.wall_thickness,
	mvpm.design_life,
	case when mvpm.design_life = 1 then ''30'' when mvpm.design_life = 2 then ''50'' end as design_life_name,
	mvpm.construct_unit,
   u.unit_name as construct_unit_name,
	mvpm.collection_person,
	to_char(mvpm.collection_date, ''YYYY-MM-DD'') as collection_date,
	mvpm.supervision_unit,
   pu.unit_name as supervision_unit_name, 
	mvpm.supervision_engineer,
	mvpm.approve_status,
	case when mvpm.approve_status = -1 then ''驳回'' when mvpm.approve_status = 1 then ''待审核'' when mvpm.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	mvpm.remarks,
	mvpm.create_user_id,
	mvpm.create_user_name,
	mvpm.create_datetime,
	mvpm.modify_user_id,
	mvpm.modify_user_name,
	mvpm.modify_datetime,
	mvpm.active
FROM daq_mv_pipe_material mvpm
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mvpm.project_oid 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''pipe_section_material_domain'' and active=1 ) doma ON doma.code_id = mvpm.pipe_section_material
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''pipe_section_spec_domain'' and active=1 ) doma1 ON doma1.code_id = mvpm.pipe_section_spec
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = mvpm.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = mvpm.construct_unit 
WHERE 1 = 1 AND mvpm.active = 1 @where_append and @privilege_strategy_sql order by mvpm.create_datetime desc
', 'SELECT
	mvpm.oid,
	mvpm.project_oid,
	pro.project_name,
	mvpm.pipe_section_material,
	doma.code_name as pipe_section_material_name,
	mvpm.pipe_section_spec,
	doma1.code_name as pipe_section_spec_name,
	mvpm.outer_diameter,
	mvpm.wall_thickness,
	mvpm.design_life,
	case when mvpm.design_life = 1 then ''30'' when mvpm.design_life = 2 then ''50'' end as design_life_name,
	mvpm.construct_unit,
   u.unit_name as construct_unit_name,
	mvpm.collection_person,
	to_char(mvpm.collection_date, ''YYYY-MM-DD'') as collection_date,
	mvpm.supervision_unit,
   pu.unit_name as supervision_unit_name, 
	mvpm.supervision_engineer,
	mvpm.approve_status,
	case when mvpm.approve_status = -1 then ''驳回'' when mvpm.approve_status = 1 then ''待审核'' when mvpm.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	mvpm.remarks,
	mvpm.create_user_id,
	mvpm.create_user_name,
	mvpm.create_datetime,
	mvpm.modify_user_id,
	mvpm.modify_user_name,
	mvpm.modify_datetime,
	mvpm.active
FROM daq_mv_pipe_material mvpm
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mvpm.project_oid 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''pipe_section_material_domain'' and active=1 ) doma ON doma.code_id = mvpm.pipe_section_material
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''pipe_section_spec_domain'' and active=1 ) doma1 ON doma1.code_id = mvpm.pipe_section_spec
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = mvpm.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = mvpm.construct_unit 
WHERE mvpm.oid = :oid AND mvpm.active = 1
', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 14:11:00.033', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-7 10:08:49.832', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('18364869-3248-45ac-8e97-9f209ef02ca8', '高频开关电源设备安装', 'F000229', 'daq_station_high_frequency_switch_power', 'INSERT INTO daq_station_high_frequency_switch_power( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_hf_power_supply set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_hf_power_supply set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_high_frequency_switch_power where oid=:oid);
UPDATE daq_station_high_frequency_switch_power SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_hf_power_supply set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_high_frequency_switch_power SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_high_frequency_switch_power sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_hf_power_supply where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_high_frequency_switch_power sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_hf_power_supply where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 03:09:29.392', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 16:02:17.597', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('18cc8674-0cd4-4739-9c1a-dd17fef67093', '工程管理测试', 'F000002', 'test_engineering', 'INSERT INTO custom_fun_function test_engineering( oid, engineering_name, engineering_code, construct, company_name, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :engineering_name, :engineering_code, :construct, :company_name, :remark, :ordernum, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE test_engineering SET oid=:oid, engineering_name=:engineering_name, engineering_code=:engineering_code, construct=:construct, company_name=:company_name, remark=:remark, ordernum=:ordernum, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE test_engineering SET active = 0 WHERE oid = :oid', 'SELECT oid, engineering_name, engineering_code, construct, company_name, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_engineering WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, engineering_name, engineering_code, construct, company_name, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_engineering WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-5-29 11:18:26.399', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:40.33', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1b03f562-60b7-49a7-b35e-ddf1b5419937', '会议电视系统', 'F000246', 'daq_station_video_conference_sys', 'INSERT INTO daq_station_video_conference_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_video_conference_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_video_conference_sys SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.debug_content_and_results,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	to_char(sta.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_video_conference_sys sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.debug_content_and_results,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	to_char(sta.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_video_conference_sys sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:32:34.065', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-4 17:31:43.241', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1b678c7f-b7b1-4c8a-9b42-6fa10088f48e', '火焰探测器', 'F000199', 'daq_station_flame_detector', 'INSERT INTO daq_station_flame_detector( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :construct_date, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, :collection_date, :approve_status, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_flame_detector SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=:construct_date, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=:collection_date, approve_status=:approve_status, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_flame_detector SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_station_flame_detector WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_station_flame_detector WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:53:19.529', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:55:19.052', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1cbd23c0-e5b3-4a9a-82ab-a33bf128c082', '123', 'F000130', 'daq_station_air_coolers', 'INSERT INTO daq_station_air_coolers( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, air_coolers_type, running_record_time, ambient_temperature, inlet_pressure, inlet_temperature, outlet_pressure, outlet_temperature, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :air_coolers_type, (select :running_record_time::timestamp), :ambient_temperature, :inlet_pressure, :inlet_temperature, :outlet_pressure, :outlet_temperature, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_air_coolers SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, air_coolers_type=:air_coolers_type, running_record_time=(select :running_record_time::timestamp), ambient_temperature=:ambient_temperature, inlet_pressure=:inlet_pressure, inlet_temperature=:inlet_temperature, outlet_pressure=:outlet_pressure, outlet_temperature=:outlet_temperature, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_air_coolers SET active = 0 WHERE oid = :oid', 'SELECT
	sac.oid,
	sac.project_oid,pro.project_name,
	sac.tenders_oid,te.tenders_name, 
	sac.pipeline_oid,pi.pipeline_name,
	sac.pipe_station_oid,ps.pipe_station_name,
	sac.device_code,
	sac.device_name,
	sac.manufacture_number,
	mac.manufacture_number as reere,
	sac.air_coolers_type,
	d.code_name as air_coolers_type_name,
	to_char(sac.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	sac.ambient_temperature,
	sac.inlet_pressure,
	sac.inlet_temperature,
	sac.outlet_pressure,
	sac.outlet_temperature,
	sac.construct_unit,
	u.unit_name as construct_unit_name,
	sac.supervision_unit,
	sac.supervision_engineer,
	pu.unit_name as supervision_unit_name,
	sac.collection_person,
	to_char(sac.collection_date, ''YYYY-MM-DD'') as collection_date,
	sac.approve_status,
	case when sac.approve_status = -1 then ''驳回'' when sac.approve_status = 1 then ''待审核'' when sac.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sac.remarks,
	sac.create_user_id,
	sac.create_user_name,
	sac.create_datetime,
	sac.modify_user_id,
	sac.modify_user_name,
	sac.modify_datetime,
	sac.active
FROM
	daq_station_air_coolers sac
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sac.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sac.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sac.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sac.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sac.air_coolers_type  
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sac.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sac.construct_unit 
LEFT JOIN (select oid, manufacture_number, active from daq_s_material_air_cooler where active=1) mac on mac.oid = sac.manufacture_number 
WHERE
	1 = 1
AND sac.active = 1 @where_append and @privilege_strategy_sql  order by sac.create_datetime desc', 'SELECT
	sac.oid,
	sac.project_oid,pro.project_name,
	sac.tenders_oid,te.tenders_name, 
	sac.pipeline_oid,pi.pipeline_name,
	sac.pipe_station_oid,ps.pipe_station_name,
	sac.device_code,
	sac.device_name,
	sac.manufacture_number,
	mac.manufacture_number as reere,
	sac.air_coolers_type,
	d.code_name as air_coolers_type_name,
	to_char(sac.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	sac.ambient_temperature,
	sac.inlet_pressure,
	sac.inlet_temperature,
	sac.outlet_pressure,
	sac.outlet_temperature,
	sac.construct_unit,
	u.unit_name as construct_unit_name,
	sac.supervision_unit,
	sac.supervision_engineer,
	pu.unit_name as supervision_unit_name,
	sac.collection_person,
	to_char(sac.collection_date, ''YYYY-MM-DD'') as collection_date,
	sac.approve_status,
	case when sac.approve_status = -1 then ''驳回'' when sac.approve_status = 1 then ''待审核'' when sac.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sac.remarks,
	sac.create_user_id,
	sac.create_user_name,
	sac.create_datetime,
	sac.modify_user_id,
	sac.modify_user_name,
	sac.modify_datetime,
	sac.active
FROM
	daq_station_air_coolers sac
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sac.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sac.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sac.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sac.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sac.air_coolers_type  
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sac.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sac.construct_unit 
LEFT JOIN (select oid, manufacture_number, active from daq_s_material_air_cooler where active=1) mac on mac.oid = sac.manufacture_number 
WHERE
	1 = 1
AND sac.active = 1 and sac.oid = :oid ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 03:03:40.174', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 03:06:16.608', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1d2dd864-91f0-497e-92f9-389f0445d375', '热煨弯管检查信息记录表', 'F000031', 'daq_check_hot_bends', 'INSERT INTO daq_check_hot_bends( oid, project_oid,tenders_oid,construct_unit,hot_bends_oid, weld_position, pipe_length, ovality, groove_check, coating_io_face_check, coating_io_ends_check, checked_by, checked_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid,:project_oid,:tenders_oid,:construct_unit, :hot_bends_oid, :weld_position, :pipe_length, :ovality, :groove_check, :coating_io_face_check, :coating_io_ends_check, :checked_by, (select :checked_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_material_hot_bends set is_check=1 where oid=:hot_bends_oid;', 'update daq_material_hot_bends set is_check=0 where oid=(select hot_bends_oid from daq_check_hot_bends where oid=:oid);
UPDATE daq_check_hot_bends SET oid=:oid,project_oid=:project_oid,tenders_oid=:tenders_oid,construct_unit=:construct_unit,  hot_bends_oid=:hot_bends_oid, weld_position=:weld_position, pipe_length=:pipe_length, ovality=:ovality, groove_check=:groove_check, coating_io_face_check=:coating_io_face_check, coating_io_ends_check=:coating_io_ends_check, checked_by=:checked_by, checked_date=(select :checked_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_material_hot_bends set is_check=1 where oid=:hot_bends_oid;', 'UPDATE daq_check_hot_bends SET active = 0 WHERE oid = :oid or oid in (:idList);
update daq_material_hot_bends set is_check=0 where oid in (select hot_bends_oid from where oid = :oid or oid in (:idList));', 'SELECT chb.commit_status, chb.oid,chb.project_oid, chb.tenders_oid,chb.construct_unit,  chb.hot_bends_oid, case when chb.weld_position =1 then ''合格''
       when chb.weld_position =0 then ''不合格'' 
       else '''' end as weld_position_name ,
	    chb.weld_position,
 case  when  chb.pipe_length = 1 then ''合格''
       when chb.pipe_length = 0 then ''不合格'' 
       else '''' end as pipe_length_name ,
	   chb.pipe_length,
 case  when  chb.ovality = 1 then ''合格''
       when chb.ovality = 0 then ''不合格'' 
       else '''' end as ovality_name ,
	   chb.ovality,
 case  when  chb.groove_check = 1 then ''合格''
       when chb.groove_check = 0 then ''不合格'' 
       else '''' end as groove_check_name ,
	   chb.groove_check,
 case  when  chb.coating_io_face_check = 1 then ''合格''
       when chb.coating_io_face_check = 0 then ''不合格'' 
       else '''' end as coating_io_face_check_name ,
	   chb.coating_io_face_check,
 case  when  chb.coating_io_ends_check = 1 then ''合格''
       when chb.coating_io_ends_check = 0 then ''不合格'' 
       else '''' end as coating_io_ends_check_name ,chb.coating_io_ends_check, chb.checked_by,  to_char(chb.checked_date, ''YYYY-MM-DD'') as checked_date, chb.remarks, chb.create_user_id, chb.create_user_name, to_char(chb.create_datetime,''YYYY-MM-DD'') as create_datetime, chb.modify_user_id, chb.modify_user_name, chb.modify_datetime, chb.active,pro.project_name, pi.unit_name as construct_unit_name,te.tenders_name,mhb.hot_bends_code FROM daq_check_hot_bends chb LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = chb.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = chb.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = chb.tenders_oid left join (select oid,hot_bends_code from daq_material_hot_bends where active=1) mhb on mhb.oid=chb.hot_bends_oid WHERE 1 = 1  AND chb.active = 1 @where_append and @privilege_strategy_sql order by chb.create_datetime,mhb.hot_bends_code desc', 'SELECT chb.oid,chb.project_oid, chb.tenders_oid,chb.construct_unit, chb.hot_bends_oid, case when chb.weld_position =1 then ''合格''
       when chb.weld_position =0 then ''不合格'' 
       else '''' end as weld_position_name ,
	    chb.weld_position,
 case  when  chb.pipe_length = 1 then ''合格''
       when chb.pipe_length = 0 then ''不合格'' 
       else '''' end as pipe_length_name ,
	   chb.pipe_length,
 case  when  chb.ovality = 1 then ''合格''
       when chb.ovality = 0 then ''不合格'' 
       else '''' end as ovality_name ,
	   chb.ovality,
 case  when  chb.groove_check = 1 then ''合格''
       when chb.groove_check = 0 then ''不合格'' 
       else '''' end as groove_check_name ,
	   chb.groove_check,
 case  when  chb.coating_io_face_check = 1 then ''合格''
       when chb.coating_io_face_check = 0 then ''不合格'' 
       else '''' end as coating_io_face_check_name ,
	   chb.coating_io_face_check,
 case  when  chb.coating_io_ends_check = 1 then ''合格''
       when chb.coating_io_ends_check = 0 then ''不合格'' 
       else '''' end as coating_io_ends_check_name ,chb.coating_io_ends_check, chb.checked_by,  to_char(chb.checked_date, ''YYYY-MM-DD'') as checked_date, chb.remarks, chb.create_user_id, chb.create_user_name, chb.create_datetime, chb.modify_user_id, chb.modify_user_name, chb.modify_datetime, chb.active,pro.project_name, pi.unit_name as construct_unit_name,te.tenders_name,mhb.hot_bends_code FROM daq_check_hot_bends chb LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = chb.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = chb.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = chb.tenders_oid left join (select oid,hot_bends_code from daq_material_hot_bends where active=1) mhb on mhb.oid=chb.hot_bends_oid WHERE chb.oid = :oid AND chb.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-3 09:32:03.79', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-21 15:32:41.99', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1e31cb33-0cb1-4da9-92d7-a68f907b950c', 'dx-test', 'F000055', 'pg_statistic', 'INSERT INTO pg_statistic( starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 ) VALUES ( :starelid, :staattnum, :stainherit, :stanullfrac, :stawidth, :stadistinct, :stakind1, :stakind2, :stakind3, :stakind4, :stakind5, :staop1, :staop2, :staop3, :staop4, :staop5, :stanumbers1, :stanumbers2, :stanumbers3, :stanumbers4, :stanumbers5, :stavalues1, :stavalues2, :stavalues3, :stavalues4, :stavalues5 )', 'UPDATE pg_statistic SET starelid=:starelid, staattnum=:staattnum, stainherit=:stainherit, stanullfrac=:stanullfrac, stawidth=:stawidth, stadistinct=:stadistinct, stakind1=:stakind1, stakind2=:stakind2, stakind3=:stakind3, stakind4=:stakind4, stakind5=:stakind5, staop1=:staop1, staop2=:staop2, staop3=:staop3, staop4=:staop4, staop5=:staop5, stanumbers1=:stanumbers1, stanumbers2=:stanumbers2, stanumbers3=:stanumbers3, stanumbers4=:stanumbers4, stanumbers5=:stanumbers5, stavalues1=:stavalues1, stavalues2=:stavalues2, stavalues3=:stavalues3, stavalues4=:stavalues4, stavalues5=:stavalues5 WHERE  = :', 'UPDATE pg_statistic SET ACTIVE = 0 WHERE  = :', 'SELECT starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 FROM pg_statistic WHERE 1 = 1  @where_append ', 'SELECT starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 FROM pg_statistic WHERE  = :', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 09:48:56.141', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 09:49:19.196', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1f5cb20d-ad23-459c-b559-39b8a0a4c0b1', '伴行道路管理表', 'F000016', 'daq_maintenance_road', 'INSERT INTO daq_maintenance_road( oid, road_name, road_code, project_oid, pipeline_oid, road_type, road_grade, road_length, land_area, province, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :road_name, :road_code, :project_oid, :pipeline_oid, :road_type, :road_grade, :road_length, :land_area, :province, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_maintenance_road SET oid=:oid, road_name=:road_name, road_code=:road_code, project_oid=:project_oid, pipeline_oid=:pipeline_oid, road_type=:road_type, road_grade=:road_grade, road_length=:road_length, land_area=:land_area, province=:province, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_maintenance_road SET active = 0 WHERE oid = :oid', 'SELECT mr.oid, mr.road_name, mr.road_code, mr.project_oid, pro.project_name, mr.pipeline_oid, pi.pipeline_name, mr.road_type, d.code_name AS road_type_name, mr.road_grade,dm.code_name AS road_grade_name, mr.road_length, mr.land_area, mr.province,a.name AS province_name, mr.remarks, mr.create_user_id, mr.create_user_name, mr.create_datetime, mr.modify_user_id, mr.modify_user_name, mr.modify_datetime, mr.active FROM daq_maintenance_road mr LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = mr.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = mr.pipeline_oid LEFT JOIN (SELECT oid, NAME FROM area) a ON a.oid = mr.province LEFT JOIN (select code_id, code_name, active from sys_domain) d ON d.code_id = mr.road_type LEFT JOIN (select code_id, code_name, active from sys_domain) dm ON dm.code_id = mr.road_grade WHERE mr.active = 1 AND pro.active = 1 AND pi.active = 1  @where_append  order by mr.create_datetime desc', 'SELECT mr.oid, mr.road_name, mr.road_code, mr.project_oid, pro.project_name, mr.pipeline_oid, pi.pipeline_name, mr.road_type, d.code_name AS road_type_name, mr.road_grade,dm.code_name AS road_grade_name, mr.road_length, mr.land_area, mr.province,a.name AS province_name, mr.remarks, mr.create_user_id, mr.create_user_name, mr.create_datetime, mr.modify_user_id, mr.modify_user_name, mr.modify_datetime, mr.active FROM daq_maintenance_road mr LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = mr.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = mr.pipeline_oid LEFT JOIN (SELECT oid, NAME FROM area) a ON a.oid = mr.province LEFT JOIN (select code_id, code_name, active from sys_domain) d ON d.code_id = mr.road_type LEFT JOIN (select code_id, code_name, active from sys_domain) dm ON dm.code_id = mr.road_grade WHERE mr.oid = :oid AND mr.active = 1 AND pro.active = 1 AND pi.active = 1 ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 15:02:59.82', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 10:09:39.604', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1f796d8c-3ad8-49dc-8d36-9204a8eb3345', '阴极保护智能光端机', 'F000172', 'daq_station_cp_intelligent_optical_terminal', 'INSERT INTO daq_station_cp_intelligent_optical_terminal( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des,(select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cp_intelligent_optical_terminal SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cp_intelligent_optical_terminal SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_cp_intelligent_optical_terminal wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1 AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_cp_intelligent_optical_terminal wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 02:08:15.866', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 11:00:23.322', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('1f9478cc-d363-477f-bdb5-a309a46d60f7', '可燃气体探测器', 'F000201', 'daq_station_flammable_gas_detector', 'INSERT INTO daq_station_flammable_gas_detector( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_flammable_gas_detector SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_flammable_gas_detector SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_flammable_gas_detector sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_flammable_gas_detector sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 09:07:34.162', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:34:31.01', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('20efe374-f7de-4160-9d5b-36b303a72c38', '弯头弯管', 'F000132', 'daq_station_elbow_pipe', 'INSERT INTO daq_station_elbow_pipe( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, elbow_pipe_code, front_pipe_type, front_pipe_code, back_pipe_type, back_pipe_code, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :elbow_pipe_code, :front_pipe_type, :front_pipe_code, :back_pipe_type, :back_pipe_code, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_elbow_pipe SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, elbow_pipe_code=:elbow_pipe_code, front_pipe_type=:front_pipe_type, front_pipe_code=:front_pipe_code, back_pipe_type=:back_pipe_type, back_pipe_code=:back_pipe_code, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_elbow_pipe SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.elbow_pipe_code, sss.front_pipe_type, sss.front_pipe_code, sss.back_pipe_type, sss.back_pipe_code, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, 
case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name, doma2.code_name as front_pipe_type_name, doma3.code_name as back_pipe_type_name  
FROM daq_station_elbow_pipe sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma2 ON doma2.code_id = sss.front_pipe_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma3 ON doma3.code_id = sss.back_pipe_type
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.elbow_pipe_code, sss.front_pipe_type, sss.front_pipe_code, sss.back_pipe_type, sss.back_pipe_code, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, 
case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name, doma2.code_name as front_pipe_type_name, doma3.code_name as back_pipe_type_name  
FROM daq_station_elbow_pipe sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma2 ON doma2.code_id = sss.front_pipe_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma3 ON doma3.code_id = sss.back_pipe_type
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 05:40:52.898', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-14 10:01:20.261', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2139c5e7-5658-4c47-b23e-860abbf2edd8', '压力变送器安装', 'F000204', 'daq_station_pressure_transmitter', 'INSERT INTO daq_station_pressure_transmitter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_pressure_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_pressure_transmitter set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pressure_transmitter where oid=:oid);
UPDATE daq_station_pressure_transmitter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_pressure_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_pressure_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.manufacture_number,
	sss.install_location,
	sss.detection_unit,
	to_char(sss.detection_date, ''YYYY-MM-DD'') as detection_date,
	sss.detection_result,
	sss.connection_mode,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name,
  doma.code_name as connection_mode_name
FROM daq_station_pressure_transmitter sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_transmitter where active=1) mac on mac.oid = sss.manufacture_number 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = sss.connection_mode
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.manufacture_number,
	sss.install_location,
	sss.detection_unit,
	to_char(sss.detection_date, ''YYYY-MM-DD'') as detection_date,
	sss.detection_result,
	sss.connection_mode,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name,
  doma.code_name as connection_mode_name
FROM daq_station_pressure_transmitter sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_transmitter where active=1) mac on mac.oid = sss.manufacture_number 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = sss.connection_mode
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 09:28:36.087', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-5 13:36:12.267', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('21dbe6d7-b584-4356-b7a0-98121bfe5f45', '工业电视监控前端设备', 'F000240', 'daq_station_industrial_tv_monitoring_front', 'INSERT INTO daq_station_industrial_tv_monitoring_front( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_cctv_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_cctv_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_industrial_tv_monitoring_front where oid=:oid);
UPDATE daq_station_industrial_tv_monitoring_front SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_cctv_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_industrial_tv_monitoring_front SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_code,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_industrial_tv_monitoring_front sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,material_code, active from daq_s_material_cctv_system where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_code,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_industrial_tv_monitoring_front sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,material_code, active from daq_s_material_cctv_system where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 06:51:33.528', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 10:52:48.265', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2254cbaf-3e27-4ece-a1e7-0eb24a2ea4b7', 'ee', 'F000056', 'pg_statistic', 'INSERT INTO pg_statistic( starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 ) VALUES ( :starelid, :staattnum, :stainherit, :stanullfrac, :stawidth, :stadistinct, :stakind1, :stakind2, :stakind3, :stakind4, :stakind5, :staop1, :staop2, :staop3, :staop4, :staop5, :stanumbers1, :stanumbers2, :stanumbers3, :stanumbers4, :stanumbers5, :stavalues1, :stavalues2, :stavalues3, :stavalues4, :stavalues5 )', 'UPDATE pg_statistic SET starelid=:starelid, staattnum=:staattnum, stainherit=:stainherit, stanullfrac=:stanullfrac, stawidth=:stawidth, stadistinct=:stadistinct, stakind1=:stakind1, stakind2=:stakind2, stakind3=:stakind3, stakind4=:stakind4, stakind5=:stakind5, staop1=:staop1, staop2=:staop2, staop3=:staop3, staop4=:staop4, staop5=:staop5, stanumbers1=:stanumbers1, stanumbers2=:stanumbers2, stanumbers3=:stanumbers3, stanumbers4=:stanumbers4, stanumbers5=:stanumbers5, stavalues1=:stavalues1, stavalues2=:stavalues2, stavalues3=:stavalues3, stavalues4=:stavalues4, stavalues5=:stavalues5 WHERE  = :', 'UPDATE pg_statistic SET ACTIVE = 0 WHERE  = :', 'SELECT starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 FROM pg_statistic WHERE 1 = 1  @where_append ', 'SELECT starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 FROM pg_statistic WHERE  = :', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 09:49:08.289', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 09:49:22.523', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('22c4c2a8-5ef8-4c70-9fcd-c2edeb221de2', '储罐拱顶', 'F000161', 'daq_station_storage_tank_vault', 'INSERT INTO daq_station_storage_tank_vault( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, vault_horizontal_radius, vault_side_length_1, vault_side_length_2, vault_side_length_3, vault_side_length_4, test_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :vault_horizontal_radius, :vault_side_length_1, :vault_side_length_2, :vault_side_length_3, :vault_side_length_4, :test_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_vault SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, vault_horizontal_radius=:vault_horizontal_radius, vault_side_length_1=:vault_side_length_1, vault_side_length_2=:vault_side_length_2, vault_side_length_3=:vault_side_length_3, vault_side_length_4=:vault_side_length_4, test_result=:test_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_vault SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.vault_horizontal_radius, sss.vault_side_length_1, sss.vault_side_length_2, sss.vault_side_length_3, sss.vault_side_length_4, case when sss.test_result=''1'' then ''合格'' when sss.test_result=''0'' then ''不合格'' end as test_result_name, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name  
FROM daq_station_storage_tank_vault sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.vault_horizontal_radius, sss.vault_side_length_1, sss.vault_side_length_2, sss.vault_side_length_3, sss.vault_side_length_4, case when sss.test_result=''1'' then ''合格'' when sss.test_result=''0'' then ''不合格'' end as test_result_name, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name  
FROM daq_station_storage_tank_vault sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 07:52:51.564', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:46:38.33', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('24e1a217-cbc5-4894-b330-3060df419c6a', '太阳能电源系统12', 'F000116', 'daq_s_material_solar_power_system', 'INSERT INTO daq_s_material_solar_power_system( oid, project_oid,  device_code, device_name, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_solar_power_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_solar_power_system SET active = 0 WHERE oid = :oid', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid 
WHERE
	1 = 1
AND msps.active = 1  @where_append  order by msps.create_datetime desc', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid  WHERE msps.oid = :oid AND msps.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 10:01:11.028', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 02:01:43.257', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('257ae8a0-db4e-4715-b827-ed614d4196ff', '中压开关柜', 'F000095', 'daq_s_material_medium_voltage_switchgear', 'INSERT INTO daq_s_material_medium_voltage_switchgear( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, voltage_switchgear_name, voltage_switchgear_type, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :voltage_switchgear_name, :voltage_switchgear_type, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_medium_voltage_switchgear SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, voltage_switchgear_name=:voltage_switchgear_name, voltage_switchgear_type=:voltage_switchgear_type, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_medium_voltage_switchgear SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.voltage_switchgear_name, sss.voltage_switchgear_type, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name, doma.code_name voltage_switchgear_name_name, doma1.code_name voltage_switchgear_type_name
FROM daq_s_material_medium_voltage_switchgear sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''medium_voltage_switchgear_name_domain'' and active=1 ) doma ON doma.code_id = sss.voltage_switchgear_name
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''medium_voltage_switchgear_type_domain'' and active=1 ) doma1 ON doma1.code_id = sss.voltage_switchgear_type
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.voltage_switchgear_name, sss.voltage_switchgear_type, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name, doma.code_name voltage_switchgear_name_name, doma1.code_name voltage_switchgear_type_name
FROM daq_s_material_medium_voltage_switchgear sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''medium_voltage_switchgear_name_domain'' and active=1 ) doma ON doma.code_id = sss.voltage_switchgear_name
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''medium_voltage_switchgear_type_domain'' and active=1 ) doma1 ON doma1.code_id = sss.voltage_switchgear_type
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 08:17:42.697', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:26:42.468', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2685f3e8-3fff-40e9-abbf-c197ac56961f', '配置测试', 'F000114', 'daq_s_material_heater', 'INSERT INTO daq_s_material_heater( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, heater_type, classification_code, material_code, specification_model, design_life, heater_material, manufacturer_of_control_cabinet, anti_explosion, control_cabinet_size, control_cabinet_type, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :heater_type, :classification_code, :material_code, :specification_model, :design_life, :heater_material, :manufacturer_of_control_cabinet, :anti_explosion, :control_cabinet_size, :control_cabinet_type, :manufacture_number, :manufacturer, :manufacture_date, :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_heater SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, heater_type=:heater_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, design_life=:design_life, heater_material=:heater_material, manufacturer_of_control_cabinet=:manufacturer_of_control_cabinet, anti_explosion=:anti_explosion, control_cabinet_size=:control_cabinet_size, control_cabinet_type=:control_cabinet_type, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=:manufacture_date, guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_heater SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.heater_type,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.design_life,
	wc.heater_material,
	wc.manufacturer_of_control_cabinet,
	wc.anti_explosion,
case when wc.anti_explosion=0 then ''否'' when wc.anti_explosion=1 then ''是'' end as anti_explosion_name,
	wc.control_cabinet_size,
	wc.control_cabinet_type,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name heater_type_name
FROM
	daq_s_material_heater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''heater_type_domain'' and active=1 ) doma ON doma.code_id = wc.heater_type	
 WHERE wc.oid = :oid AND wc.active = 1', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.heater_type,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.design_life,
	wc.heater_material,
	wc.manufacturer_of_control_cabinet,
	wc.anti_explosion,
case when wc.anti_explosion=0 then ''否'' when wc.anti_explosion=1 then ''是'' end as anti_explosion_name,
	wc.control_cabinet_size,
	wc.control_cabinet_type,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name heater_type_name
FROM
	daq_s_material_heater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''heater_type_domain'' and active=1 ) doma ON doma.code_id = wc.heater_type	
 WHERE wc.oid = :oid AND wc.active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:41:22.725', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 10:14:46.06', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('28a543cd-8ef3-4c87-af69-fe132f185716', '焊接工艺规程表', 'F000019', 'daq_weld_produce_specification', 'INSERT INTO daq_weld_produce_specification( oid, weld_produce_code, project_oid, applicable_type, welding_method_temp, pipe_diameter, pipe_ply, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, construct_unit ) VALUES ( :oid, :weld_produce_code, :project_oid, :applicable_type, :welding_method_temp, :pipe_diameter, :pipe_ply, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :current_unit_id )', 'UPDATE daq_weld_produce_specification SET oid=:oid, weld_produce_code=:weld_produce_code, project_oid=:project_oid, applicable_type=:applicable_type, welding_method_temp=:welding_method_temp, pipe_diameter=:pipe_diameter, pipe_ply=:pipe_ply, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name,  modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, construct_unit=:current_unit_id WHERE oid = :oid AND active = 1', 'UPDATE daq_weld_produce_specification SET active = 0 WHERE oid = :oid', 'SELECT wps.oid, wps.weld_produce_code, wps.project_oid, pro.project_name, wps.applicable_type, d.code_name as application_type_name, wps.welding_method_temp, dm.code_name as welding_method_temp_name, wps.pipe_diameter, wps.pipe_ply, wps.remarks, wps.create_user_id, wps.create_user_name, wps.create_datetime, wps.modify_user_id, wps.modify_user_name, wps.modify_datetime, wps.active FROM daq_weld_produce_specification wps LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active = 1) pro ON pro.oid = wps.project_oid LEFT JOIN (select code_id, code_name, active from sys_domain where active=1) d ON d.code_id = wps.applicable_type LEFT JOIN (select code_id, code_name, active from sys_domain where active=1) dm ON dm.code_id = wps.welding_method_temp WHERE wps.active = 1 @where_append order by wps.create_datetime desc', 'SELECT wps.oid, wps.weld_produce_code, wps.project_oid, pro.project_name, wps.applicable_type, d.code_name as application_type_name, wps.welding_method_temp, dm.code_name as welding_method_temp_name, wps.pipe_diameter, wps.pipe_ply, wps.remarks, wps.create_user_id, wps.create_user_name, wps.create_datetime, wps.modify_user_id, wps.modify_user_name, wps.modify_datetime, wps.active FROM daq_weld_produce_specification wps LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active = 1) pro ON pro.oid = wps.project_oid LEFT JOIN (select code_id, code_name, active from sys_domain where active=1) d ON d.code_id = wps.applicable_type LEFT JOIN (select code_id, code_name, active from sys_domain where active=1) dm ON dm.code_id = wps.welding_method_temp WHERE wps.oid = :oid AND wps.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-27 14:35:58.643', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 11:26:12.894', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2a6a3788-e8ce-467b-ad20-16ad96cb1412', '储罐浮顶', 'F000169', 'daq_station_storage_tank_floating_roof', 'INSERT INTO daq_station_storage_tank_floating_roof( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, floating_roof_diameter, floating_cabin_height, floating_cabin_quantity, floating_cabin_material, air_tightness_test_result, vacuum_test_result, oil_penetration_test_result, lifting_test_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :floating_roof_diameter, :floating_cabin_height, :floating_cabin_quantity, :floating_cabin_material, :air_tightness_test_result, :vacuum_test_result, :oil_penetration_test_result, :lifting_test_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_floating_roof SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, floating_roof_diameter=:floating_roof_diameter, floating_cabin_height=:floating_cabin_height, floating_cabin_quantity=:floating_cabin_quantity, floating_cabin_material=:floating_cabin_material, air_tightness_test_result=:air_tightness_test_result, vacuum_test_result=:vacuum_test_result, oil_penetration_test_result=:oil_penetration_test_result, lifting_test_result=:lifting_test_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_floating_roof SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.floating_roof_diameter,
	wc.floating_cabin_height,
	wc.floating_cabin_quantity,
	wc.floating_cabin_material,
	wc.air_tightness_test_result,
case when wc.air_tightness_test_result=1 then ''合格'' when wc.air_tightness_test_result=0 then ''不合格'' end as air_tightness_test_result_name,
	wc.vacuum_test_result,
case when wc.vacuum_test_result=1 then ''合格'' when wc.vacuum_test_result=0 then ''不合格'' end as vacuum_test_result_name,
	wc.oil_penetration_test_result,
case when wc.oil_penetration_test_result=1 then ''合格'' when wc.oil_penetration_test_result=0 then ''不合格'' end as oil_penetration_test_result_name,
	wc.lifting_test_result,
case when wc.lifting_test_result=1 then ''合格'' when wc.lifting_test_result=0 then ''不合格'' end as lifting_test_result_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_floating_roof wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid WHERE 1 = 1 AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.floating_roof_diameter,
	wc.floating_cabin_height,
	wc.floating_cabin_quantity,
	wc.floating_cabin_material,
	wc.air_tightness_test_result,
case when wc.air_tightness_test_result=1 then ''合格'' when wc.air_tightness_test_result=0 then ''不合格'' end as air_tightness_test_result_name,
	wc.vacuum_test_result,
case when wc.vacuum_test_result=1 then ''合格'' when wc.vacuum_test_result=0 then ''不合格'' end as vacuum_test_result_name,
	wc.oil_penetration_test_result,
case when wc.oil_penetration_test_result=1 then ''合格'' when wc.oil_penetration_test_result=0 then ''不合格'' end as oil_penetration_test_result_name,
	wc.lifting_test_result,
case when wc.lifting_test_result=1 then ''合格'' when wc.lifting_test_result=0 then ''不合格'' end as lifting_test_result_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_floating_roof wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 11:02:18.411', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:44:06.732', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2b915f40-7d79-4d47-af7b-75c1d81ac332', '储罐钢板试验', 'F000145', 'daq_station_storage_tank_steel_plate', 'INSERT INTO daq_station_storage_tank_steel_plate( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, typesetting_num, steel_plate_num, steel_plate_specifications, manufacturer, be_on_the_scene_datetime, construct_unit, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :typesetting_num, :steel_plate_num, :steel_plate_specifications, :manufacturer, (select :be_on_the_scene_datetime::timestamp), :construct_unit, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_steel_plate SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, typesetting_num=:typesetting_num, steel_plate_num=:steel_plate_num, steel_plate_specifications=:steel_plate_specifications, manufacturer=:manufacturer, be_on_the_scene_datetime=(select :be_on_the_scene_datetime::timestamp), construct_unit=:construct_unit, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_steel_plate SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.typesetting_num,
	wc.steel_plate_num,
	wc.steel_plate_specifications,
	wc.manufacturer,
	to_char(wc.be_on_the_scene_datetime, ''YYYY-MM-DD'') as be_on_the_scene_datetime,
	wc.construct_unit,
	wc.approve_status,
	case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_steel_plate wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid WHERE 1 = 1 AND wc.active = 1 @where_append 
and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.typesetting_num,
	wc.steel_plate_num,
	wc.steel_plate_specifications,
	wc.manufacturer,
	to_char(wc.be_on_the_scene_datetime, ''YYYY-MM-DD'') as be_on_the_scene_datetime,
	wc.construct_unit,
	wc.approve_status,
	case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_steel_plate wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 07:32:10.078', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:50:21.165', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2da8250b-2ec2-423a-a949-0617394bd92e', '太阳能电源系统测试', 'F000110', 'daq_s_material_solar_power_system', 'INSERT INTO daq_s_material_solar_power_system( oid, project_oid,  device_code, device_name, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_solar_power_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_solar_power_system SET active = 0 WHERE oid = :oid', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid 
WHERE
	1 = 1
AND msps.active = 1  @where_append  order by msps.create_datetime desc', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid  WHERE msps.oid = :oid AND msps.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:08:55.94', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:31:21.823', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2dd3f5d4-bfb9-4d12-8280-1cb5ef6a8497', '恒电位仪', 'F000115', 'daq_s_material_constant_potential_rectifier', 'INSERT INTO daq_s_material_constant_potential_rectifier( oid, project_oid, device_code, device_name, material_code, classification_code, specification_model, tag_number, syn_interrupt_function, manufacture_number, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :material_code, :classification_code, :specification_model, :tag_number, :syn_interrupt_function, :manufacture_number, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_constant_potential_rectifier SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, classification_code=:classification_code, specification_model=:specification_model, tag_number=:tag_number, syn_interrupt_function=:syn_interrupt_function, manufacture_number=:manufacture_number, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_constant_potential_rectifier SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.material_code,
	wc.classification_code,
	wc.specification_model,
	wc.tag_number,
	wc.syn_interrupt_function,
case when wc.syn_interrupt_function=0 then ''无'' when wc.syn_interrupt_function=1 then ''有'' end as syn_interrupt_function_name,
	wc.manufacture_number,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_constant_potential_rectifier wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
			LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
			LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
			LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid  WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc ', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.material_code,
	wc.classification_code,
	wc.specification_model,
	wc.tag_number,
	wc.syn_interrupt_function,
case when wc.syn_interrupt_function=0 then ''无'' when wc.syn_interrupt_function=1 then ''有'' end as syn_interrupt_function_name,
	wc.manufacture_number,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_constant_potential_rectifier wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
			LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
			LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
			LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 01:50:33.208', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:30:49.453', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2e537863-8459-4098-a8a0-668f89e2e8eb', 'asad', 'F000261', 'a', 'INSERT INTO a( aaa ) VALUES ( :aaa )', 'UPDATE a SET aaa=:aaa WHERE  = :', 'UPDATE a SET ACTIVE = 0 WHERE  = :', 'SELECT aaa FROM a WHERE 1 = 1  @where_append ', 'SELECT aaa FROM a WHERE  = :', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:15:19.139', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:15:19.139', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('2f5de7ce-1ab9-4c4b-abc1-ba849070d6b5', '小型发电设备', 'F000109', 'daq_s_material_small_power_generator', 'INSERT INTO daq_s_material_small_power_generator( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, small_power_generator_type, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :small_power_generator_type, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_small_power_generator SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, small_power_generator_type=:small_power_generator_type, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_small_power_generator SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.small_power_generator_type, case when sss.small_power_generator_type=1 then ''TEG'' when sss.small_power_generator_type=2 then ''CCVT'' end as small_power_generator_type_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_small_power_generator sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.small_power_generator_type, case when sss.small_power_generator_type=1 then ''TEG'' when sss.small_power_generator_type=2 then ''CCVT'' end as small_power_generator_type_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_small_power_generator sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 10:16:17.475', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:28:02.022', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('308b05d2-2df5-47e7-8442-69390fc7692b', '双金属温度计安装', 'F000215', 'daq_station_bimetallic_thermometer', 'INSERT INTO daq_station_bimetallic_thermometer( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode,(select :construct_date::timestamp) , :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_bimetallic_thermometer set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_bimetallic_thermometer set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_bimetallic_thermometer where oid=:oid);
UPDATE daq_station_bimetallic_thermometer SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_bimetallic_thermometer set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_bimetallic_thermometer SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_bimetallic_thermometer wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_bimetallic_thermometer where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_bimetallic_thermometer wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_bimetallic_thermometer where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 01:34:45.236', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 16:54:02.632', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('30f1b59b-568a-4778-a149-f37c2f55d939', '清管球通过指示器安装', 'F000185', 'daq_station_pigging_balls_indicator', 'INSERT INTO daq_station_pigging_balls_indicator( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_ys_pig_detector set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_ys_pig_detector set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pigging_balls_indicator where oid=:oid);
UPDATE daq_station_pigging_balls_indicator SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_ys_pig_detector set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_pigging_balls_indicator SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_pigging_balls_indicator sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_ys_pig_detector where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_pigging_balls_indicator sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_ys_pig_detector where active=1) mac on mac.oid = sta.manufacture_number WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:27:48.456', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 03:24:27.197', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('31201e04-afe2-425e-89db-5183926914a0', '大小头检查及信息记录表', 'F000033', 'daq_check_reducer', 'INSERT INTO daq_check_reducer( oid,project_oid,tenders_oid,construct_unit, reducer_code_oid, ovality, groove_check, coating_io_face_check, coating_io_ends_check, checked_by, checked_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid,:project_oid,:tenders_oid,:construct_unit, :reducer_code_oid, :ovality, :groove_check, :coating_io_face_check, :coating_io_ends_check, :checked_by, (select :checked_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_check_reducer SET oid=:oid, project_oid=:project_oid,tenders_oid=:tenders_oid,construct_unit=:construct_unit, reducer_code_oid=:reducer_code_oid, ovality=:ovality, groove_check=:groove_check, coating_io_face_check=:coating_io_face_check, coating_io_ends_check=:coating_io_ends_check, checked_by=:checked_by, checked_date=(select :checked_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_check_reducer SET active = 0 WHERE oid = :oid', 'SELECT cr.commit_status, cr.oid, cr.project_oid, cr.tenders_oid,cr.construct_unit,cr.reducer_code_oid, mr.reducer_code as reducer_code_name1,
case when cr.ovality=''1'' then ''合格''
     when cr.ovality=''0'' then ''不合格''
else '''' end as ovality_name,cr.ovality,
case when cr.groove_check=''1'' then ''合格''
     when cr.groove_check=''0'' then ''不合格''
else '''' end as groove_check_name,cr.groove_check,
case when cr.coating_io_face_check=''1'' then ''合格''
     when cr.coating_io_face_check=''0'' then ''不合格''
else '''' end as coating_io_face_check_name,cr.coating_io_face_check,
case when cr.coating_io_ends_check=''1'' then ''合格''
     when cr.coating_io_ends_check=''0'' then ''不合格''
else '''' end as coating_io_ends_check_name,cr.coating_io_ends_check,cr.checked_by, to_char(cr.checked_date, ''YYYY-MM-DD'') as checked_date, cr.remarks, cr.create_user_id, cr.create_user_name, cr.create_datetime, cr.modify_user_id, cr.modify_user_name, cr.modify_datetime, cr.active,pro.project_name, pi.unit_name,te.tenders_name FROM daq_check_reducer cr LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = cr.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = cr.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = cr.tenders_oid LEFT JOIN (select oid,reducer_code, active from daq_material_reducer where active=1) mr ON mr.oid = cr.reducer_code_oid WHERE cr.active = 1 @where_append and @privilege_strategy_sql order by cr.create_datetime,mr.reducer_code desc', 'SELECT cr.oid, cr.project_oid, cr.tenders_oid,cr.construct_unit,cr.reducer_code_oid, mr.reducer_code as reducer_code_name1,
case when cr.ovality=''1'' then ''合格''
     when cr.ovality=''0'' then ''不合格''
else '''' end as ovality_name,cr.ovality,
case when cr.groove_check=''1'' then ''合格''
     when cr.groove_check=''0'' then ''不合格''
else '''' end as groove_check_name,cr.groove_check,
case when cr.coating_io_face_check=''1'' then ''合格''
     when cr.coating_io_face_check=''0'' then ''不合格''
else '''' end as coating_io_face_check_name,cr.coating_io_face_check,
case when cr.coating_io_ends_check=''1'' then ''合格''
     when cr.coating_io_ends_check=''0'' then ''不合格''
else '''' end as coating_io_ends_check_name,cr.coating_io_ends_check,cr.checked_by, to_char(cr.checked_date, ''YYYY-MM-DD'') as checked_date, cr.remarks, cr.create_user_id, cr.create_user_name, cr.create_datetime, cr.modify_user_id, cr.modify_user_name, cr.modify_datetime, cr.active,pro.project_name, pi.unit_name,te.tenders_name FROM daq_check_reducer cr LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = cr.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = cr.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = cr.tenders_oid LEFT JOIN (select oid,reducer_code, active from daq_material_reducer where active=1) mr ON mr.oid = cr.reducer_code_oid WHERE cr.oid = :oid AND cr.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-3 09:54:47.141', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 14:20:08.624', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('34a167ba-7e59-4ae0-87ec-81d6a4d4185c', '消气器安装', 'F000126', 'daq_station_air_eliminater', 'INSERT INTO daq_station_air_eliminater( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, pressure_test_datetime, test_pressure, test_describe, test_conclusion, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :pressure_test_datetime, :test_pressure, :test_describe, :test_conclusion, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_air_eliminater SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, pressure_test_datetime=:pressure_test_datetime, test_pressure=:test_pressure, test_describe=:test_describe, test_conclusion=:test_conclusion, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_air_eliminater SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, pressure_test_datetime, test_pressure, test_describe, test_conclusion, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_station_air_eliminater WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, pressure_test_datetime, test_pressure, test_describe, test_conclusion, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_station_air_eliminater WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 08:53:09.911', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 14:02:54.45', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('35a57e65-86f8-40b7-9682-d8ae36c7135a', '可视对讲前端设备', 'F000236', 'daq_station_video_intercom_front', 'INSERT INTO daq_station_video_intercom_front( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_video_intercom_front SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_video_intercom_front SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_video_intercom_front wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_video_intercom_front wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 05:56:20.343', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:02:20.553', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('35c4a766-6242-4e78-817b-1d48eaa65d17', 'cesh', 'F000100', 'daq_s_material_prover_system', 'INSERT INTO daq_s_material_prover_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, repeablity_of_prover, range_ratio, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :pressure_rating, :repeablity_of_prover, :range_ratio, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, :manufacture_date, :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_prover_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, repeablity_of_prover=:repeablity_of_prover, range_ratio=:range_ratio, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=:manufacture_date, guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_prover_system SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, repeablity_of_prover, range_ratio, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_s_material_prover_system WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, repeablity_of_prover, range_ratio, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_s_material_prover_system WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 17:22:41.037', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 17:23:13.665', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('365963e0-7321-4afd-a9eb-8a6877647bde', '防腐补口剥离强度试验信息表', 'F000037', 'daq_weld_anticorrosion_test', 'INSERT INTO daq_weld_anticorrosion_test( oid, project_oid, pipeline_oid, tenders_oid, pipe_segment_or_cross_oid, weld_oid, relative_mileage, separate_method, pe_strength, light_peel_strength, peel_welds_strength, test_result, test_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :pipeline_oid, :tenders_oid, :pipe_segment_or_cross_oid, :weld_oid, :relative_mileage, :separate_method, :pe_strength, :light_peel_strength, :peel_welds_strength, :test_result, (select :test_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );', 'UPDATE daq_weld_anticorrosion_test SET oid=:oid, project_oid=:project_oid, pipeline_oid=:pipeline_oid, tenders_oid=:tenders_oid, pipe_segment_or_cross_oid=:pipe_segment_or_cross_oid, weld_oid=:weld_oid, relative_mileage=:relative_mileage, separate_method=:separate_method, pe_strength=:pe_strength, light_peel_strength=:light_peel_strength, peel_welds_strength=:peel_welds_strength, test_result=:test_result, test_date=(select :test_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;', 'UPDATE daq_weld_anticorrosion_test SET active = 0 WHERE oid = :oid;', 'SELECT wat.oid, wat.project_oid, pro.project_name, wat.pipeline_oid, pi.pipeline_name, wat.tenders_oid, te.tenders_name, wat.pipe_segment_or_cross_oid, vpsc.name as pipe_segment_or_cross_name, wat.weld_oid, cw.weld_code, wat.relative_mileage, wat.separate_method, wat.pe_strength, wat.light_peel_strength, wat.peel_welds_strength, wat.test_result, to_char(wat.test_date, ''YYYY-MM-DD'') as test_date, wat.construct_unit, u.unit_name as construct_unit_name, wat.supervision_unit, pu.unit_name as supervision_unit_name, wat.supervision_engineer, wat.collection_person, to_char(wat.collection_date, ''YYYY-MM-DD'') as collection_date,case when wat.approve_status = -1 then ''驳回'' when wat.approve_status = 1 then ''待审核'' when wat.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,wat.approve_status, wat.remarks, wat.create_user_id, wat.create_user_name, wat.create_datetime, wat.modify_user_id, wat.modify_user_name, wat.modify_datetime, wat.active FROM daq_weld_anticorrosion_test wat LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wat.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wat.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wat.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = wat.pipe_segment_or_cross_oid LEFT JOIN (select oid, weld_code from v_daq_weld_info) cw ON cw.oid = wat.weld_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wat.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wat.construct_unit WHERE wat.active = 1 @where_append and @privilege_strategy_sql order by wat.create_datetime,cw.weld_code desc', 'SELECT wat.oid, wat.project_oid, pro.project_name, wat.pipeline_oid, pi.pipeline_name, wat.tenders_oid, te.tenders_name, wat.pipe_segment_or_cross_oid, vpsc.name as pipe_segment_or_cross_name, wat.weld_oid, cw.weld_code, wat.relative_mileage, wat.separate_method, wat.pe_strength, wat.light_peel_strength, wat.peel_welds_strength, wat.test_result, to_char(wat.test_date, ''YYYY-MM-DD'') as test_date, wat.construct_unit, u.unit_name as construct_unit_name, wat.supervision_unit, pu.unit_name as supervision_unit_name, wat.supervision_engineer, wat.collection_person, to_char(wat.collection_date, ''YYYY-MM-DD'') as collection_date, case when wat.approve_status = -1 then ''驳回'' when wat.approve_status = 1 then ''待审核'' when wat.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,wat.approve_status, wat.remarks, wat.create_user_id, wat.create_user_name, wat.create_datetime, wat.modify_user_id, wat.modify_user_name, wat.modify_datetime, wat.active FROM daq_weld_anticorrosion_test wat LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wat.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wat.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wat.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = wat.pipe_segment_or_cross_oid LEFT JOIN (select oid, weld_code from v_daq_weld_info) cw ON cw.oid = wat.weld_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wat.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wat.construct_unit WHERE wat.oid = :oid AND wat.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-10 17:29:37.78', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 14:50:18.879', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('367dc9fa-aff7-40da-af0b-644f5ef41f7d', '办公网络系统', 'F000248', 'daq_station_office_network_sys', 'INSERT INTO daq_station_office_network_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_office_network_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_office_network_sys SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.debug_content_and_results,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	to_char(sta.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_office_network_sys sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.debug_content_and_results,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	to_char(sta.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_office_network_sys sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:40:48.628', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-30 09:59:41.471', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('388591ae-79d0-49e6-aae8-a8c962500b51', '高频开关电源系统', 'F000228', 'daq_station_high_frequency_switch_power_sys', 'INSERT INTO daq_station_high_frequency_switch_power_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_high_frequency_switch_power_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_high_frequency_switch_power_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_high_frequency_switch_power_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_high_frequency_switch_power_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 03:08:14.41', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:15:18.799', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('389aa7c0-e4e1-4df3-8d5e-8b66484285bd', '施工机组表', 'F000020', 'daq_work_unit', 'INSERT INTO daq_work_unit( oid, project_oid, work_unit_name, work_unit_code, work_unit_type, construct_unit, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :work_unit_name, :work_unit_code, :work_unit_type, :construct_unit, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_work_unit SET oid=:oid, project_oid=:project_oid, work_unit_name=:work_unit_name, work_unit_code=:work_unit_code, work_unit_type=:work_unit_type, construct_unit=:construct_unit, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_work_unit SET active = 0 WHERE oid = :oid', 'SELECT wu.oid, wu.project_oid, pro.project_name, wu.work_unit_name, wu.work_unit_code, wu.work_unit_type, d.code_name as work_unit_type_name, wu.construct_unit, w.unit_name as construct_unit_name, wu.remarks, wu.create_user_id, wu.create_user_name, wu.create_datetime, wu.modify_user_id, wu.modify_user_name, wu.modify_datetime, wu.active FROM daq_work_unit wu LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wu.project_oid LEFT JOIN (select code_id, code_name, active from sys_domain where active=1) d ON d.code_id = wu.work_unit_type left join ( select oid, unit_name, active from pri_unit where active=1 ) w on w.oid = wu.construct_unit  WHERE wu.active = 1 @where_append  and @privilege_strategy_sql order by wu.create_datetime desc', 'SELECT wu.oid, wu.project_oid, pro.project_name, wu.work_unit_name, wu.work_unit_code, wu.work_unit_type, d.code_name as work_unit_type_name, wu.construct_unit, w.unit_name as construct_unit_name, wu.remarks, wu.create_user_id, wu.create_user_name, wu.create_datetime, wu.modify_user_id, wu.modify_user_name, wu.modify_datetime, wu.active FROM daq_work_unit wu LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wu.project_oid LEFT JOIN (select code_id, code_name, active from sys_domain where active=1) d ON d.code_id = wu.work_unit_type left join ( select oid, unit_name, active from pri_unit where active=1 ) w on w.oid = wu.construct_unit where wu.oid=:oid ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-27 14:58:48.866', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 10:06:21.94', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3948898a-3f38-4671-88e2-678be16182e8', 'daq', 'F000051', 'daq_project', 'INSERT INTO daq_project( oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_name, :project_code, :pipe_network_type_code, :medium_type_code, :construct, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_project SET oid=:oid, project_name=:project_name, project_code=:project_code, pipe_network_type_code=:pipe_network_type_code, medium_type_code=:medium_type_code, construct=:construct, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE oid = :oid AND active = 1', '1', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-26 15:58:06.339', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-26 15:58:37.365', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3ac2f222-5d14-4b2b-92b8-5b465b2adfc7', '立式储罐', 'F000147', 'daq_station_vertical_storage_tank', 'INSERT INTO daq_station_vertical_storage_tank( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, picture_num, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :picture_num, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_vertical_storage_tank SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, picture_num=:picture_num, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_vertical_storage_tank SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.manufacture_number, sss.picture_num, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM daq_station_vertical_storage_tank sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.manufacture_number, sss.picture_num, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM daq_station_vertical_storage_tank sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 07:46:13.531', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 14:13:31.823', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3bda092a-d483-4f64-be91-8a97cfe698c1', '远程监控系统', 'F000183', 'daq_station_remote_monitoring_system', 'INSERT INTO daq_station_remote_monitoring_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_remote_monitoring_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_remote_monitoring_system SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name 
FROM daq_station_remote_monitoring_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name 
FROM daq_station_remote_monitoring_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:03:04.243', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:45:54.658', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3ceaab2c-f3fb-4c71-ad81-846819f4a87d', '管帽', 'F000131', 'daq_station_pipe_cap', 'INSERT INTO daq_station_pipe_cap( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, pipe_cap_code, connect_pipe_code, connect_method, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :pipe_cap_code, :connect_pipe_code, :connect_method, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pipe_cap SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, pipe_cap_code=:pipe_cap_code, connect_pipe_code=:connect_pipe_code, connect_method=:connect_method, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pipe_cap SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.pipe_cap_code,
	wc.connect_pipe_code,
	wc.connect_method,
	doma.code_name connect_method_name,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pipe_cap wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma ON doma.code_id = wc.connect_method WHERE 1 = 1 AND wc.active = 1 @where_append
and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.pipe_cap_code,
	wc.connect_pipe_code,
	wc.connect_method,
	doma.code_name connect_method_name,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pipe_cap wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma ON doma.code_id = wc.connect_method WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 05:37:29.655', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:43:31.234', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3d1760b0-549e-4313-9a1e-2d30f36e77e9', '储罐射线检测', 'F000152', 'daq_station_storage_tank_detection_ray', 'INSERT INTO daq_station_storage_tank_detection_ray( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, detection_report_num, detection_object, detection_position, negative_num, evaluation_grade, detection_deta, detection_unit, detection_person, supervision_unit, supervision_engineer, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :detection_report_num, :detection_object, :detection_position, :negative_num, :evaluation_grade, (select :detection_deta::timestamp), :detection_unit, :detection_person, :supervision_unit, :supervision_engineer, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_detection_ray SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, detection_report_num=:detection_report_num, detection_object=:detection_object, detection_position=:detection_position, negative_num=:negative_num, evaluation_grade=:evaluation_grade, detection_deta=(select :detection_deta::timestamp), detection_unit=:detection_unit, detection_person=:detection_person, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_detection_ray SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.detection_report_num, sss.detection_object, sss.detection_position, sss.negative_num, sss.evaluation_grade, to_char(sss.detection_deta, ''YYYY-MM-DD'') as detection_deta, sss.detection_unit, sss.detection_person, sss.supervision_unit, sss.supervision_engineer, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name, u.unit_name as detection_unit_name, dsst.device_name as storage_tank_name, doma.code_name as evaluation_grade_name
FROM daq_station_storage_tank_detection_ray sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''evaluation_grade_domain'' and active=1 ) doma ON doma.code_id = sss.evaluation_grade
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.detection_report_num, sss.detection_object, sss.detection_position, sss.negative_num, sss.evaluation_grade, to_char(sss.detection_deta, ''YYYY-MM-DD'') as detection_deta, sss.detection_unit, sss.detection_person, sss.supervision_unit, sss.supervision_engineer, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name, u.unit_name as detection_unit_name, dsst.device_name as storage_tank_name, doma.code_name as evaluation_grade_name
FROM daq_station_storage_tank_detection_ray sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''evaluation_grade_domain'' and active=1 ) doma ON doma.code_id = sss.evaluation_grade
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 03:06:58.854', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 13:51:25.867', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3d8aa47b-712d-4d49-b3de-179ac77a21d2', '差压变送器安装', 'F000209', 'daq_station_pressure_difference_transmitter', 'INSERT INTO daq_station_pressure_difference_transmitter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit,(select :detection_date::timestamp) , :detection_result, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_pressure_difference_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_pressure_difference_transmitter set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pressure_difference_transmitter where oid=:oid);
UPDATE daq_station_pressure_difference_transmitter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_pressure_difference_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_pressure_difference_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_difference_transmitter wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_difference_transmitter where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_difference_transmitter wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_difference_transmitter where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-9 02:51:06.597', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 13:59:07.158', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3d91aafc-dc7a-4450-a9a0-55b6b6f094b7', '工艺管道割口', 'F000127', 'daq_station_process_weld_cut', 'INSERT INTO daq_station_process_weld_cut( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, weld_oid, front_weld_oid, back_weld_oid, weld_cut_date, weld_cut_reason, work_unit_oid, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :weld_oid, :front_weld_oid, :back_weld_oid, (select :weld_cut_date::timestamp), :weld_cut_reason, :work_unit_oid, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_process_weld_cut SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, weld_oid=:weld_oid, front_weld_oid=:front_weld_oid, back_weld_oid=:back_weld_oid, weld_cut_date=(select :weld_cut_date::timestamp), weld_cut_reason=:weld_cut_reason, work_unit_oid=:work_unit_oid, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_process_weld_cut SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.weld_oid,
	dspw.weld_code weld_oid_name,
	wc.front_weld_oid,
	sp.weld_code front_weld_oid_name,
	wc.back_weld_oid,
	sp1.weld_code back_weld_oid_name,
	to_char(wc.weld_cut_date, ''YYYY-MM-DD'') as weld_cut_date,
	wc.weld_cut_reason,
	wc.work_unit_oid,
	wu.work_unit_code work_unit_oid_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
	case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_process_weld_cut wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = wc.weld_oid
LEFT JOIN (select oid , weld_code from daq_station_process_weld where active=1 and approve_status=2 ) sp on sp.oid = wc.front_weld_oid
LEFT JOIN (select oid , weld_code from daq_station_process_weld where active=1 and approve_status=2 ) sp1 on sp1.oid = wc.back_weld_oid
LEFT JOIN (select oid, work_unit_code, active from daq_work_unit where active=1) wu ON wu.oid = wc.work_unit_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.weld_oid,
	dspw.weld_code weld_oid_name,
	wc.front_weld_oid,
	sp.weld_code front_weld_oid_name,
	wc.back_weld_oid,
	sp1.weld_code back_weld_oid_name,
	to_char(wc.weld_cut_date, ''YYYY-MM-DD'') as weld_cut_date,
	wc.weld_cut_reason,
	wc.work_unit_oid,
	wu.work_unit_code work_unit_oid_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
	case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_process_weld_cut wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = wc.weld_oid
LEFT JOIN (select oid , weld_code from daq_station_process_weld where active=1 and approve_status=2 ) sp on sp.oid = wc.front_weld_oid
LEFT JOIN (select oid , weld_code from daq_station_process_weld where active=1 and approve_status=2 ) sp1 on sp1.oid = wc.back_weld_oid
LEFT JOIN (select oid, work_unit_code, active from daq_work_unit where active=1) wu ON wu.oid = wc.work_unit_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:22:06.29', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:45:14.67', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3dd612fb-ba25-4866-89d7-d8dd0031a9ad', '电加热器', 'F000086', 'daq_s_material_electric_heater', 'INSERT INTO daq_s_material_electric_heater( oid, project_oid, device_code, device_name, heat_exchanger_model, heating_type, classification_code, material_code, specification_model, electric_heater_weight, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :heat_exchanger_model, :heating_type, :classification_code, :material_code, :specification_model, :electric_heater_weight, :manufacture_number, :manufacturer,(select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_electric_heater SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, heat_exchanger_model=:heat_exchanger_model, heating_type=:heating_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, electric_heater_weight=:electric_heater_weight, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_electric_heater SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.heat_exchanger_model,
case when wc.heat_exchanger_model=1 then ''卧式'' when wc.heat_exchanger_model=2 then ''立式'' end as heat_exchanger_model_name,
	wc.heating_type,
case when wc.heating_type=1 then ''直接'' when wc.heating_type=2 then ''间接'' end as heating_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.electric_heater_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_electric_heater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
  WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc ', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.heat_exchanger_model,
case when wc.heat_exchanger_model=1 then ''卧式'' when wc.heat_exchanger_model=2 then ''立式'' end as heat_exchanger_model_name,
	wc.heating_type,
case when wc.heating_type=1 then ''直接'' when wc.heating_type=2 then ''间接'' end as heating_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.electric_heater_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_electric_heater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:54:03.38', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:41:09.859', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3ef8c2ac-d922-4462-872f-807004865041', '分析设备', 'F000090', 'daq_s_material_analysis_transmitter', 'INSERT INTO daq_s_material_analysis_transmitter( oid, project_oid,  device_code, device_name, desin_pressure, analysis_transmitter_type, classification_code, material_code, specification_model, installation_location, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :desin_pressure, :analysis_transmitter_type, :classification_code, :material_code, :specification_model, :installation_location, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_analysis_transmitter SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, desin_pressure=:desin_pressure, analysis_transmitter_type=:analysis_transmitter_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, installation_location=:installation_location, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_analysis_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	mat.oid,
	mat.project_oid,pro.project_name,
	mat.tenders_oid,te.tenders_name, 
	mat.pipeline_oid,pi.pipeline_name,
	mat.pipe_station_oid,ps.pipe_station_name,
	mat.device_code,
	mat.device_name,
	mat.desin_pressure,
	d.code_name as desin_pressure_name,
	mat.analysis_transmitter_type,
	dom.code_name as analysis_transmitter_type_name,
	mat.classification_code,
	mat.material_code,
	mat.specification_model,
	mat.installation_location,
	mat.tag_number,
	mat.manufacture_number,
	mat.manufacturer,
	to_char(mat.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mat.guarantee_period,
	mat.contract_number,
	mat.remarks,
	mat.create_user_id,
	mat.create_user_name,
	mat.create_datetime,
	mat.modify_user_id,
	mat.modify_user_name,
	mat.modify_datetime,
	mat.active
FROM
	daq_s_material_analysis_transmitter mat
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mat.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mat.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mat.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mat.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mat.desin_pressure
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=mat.analysis_transmitter_type 
WHERE
	1 = 1
AND mat.active = 1  @where_append  order by mat.create_datetime desc', 'SELECT
	mat.oid,
	mat.project_oid,pro.project_name,
	mat.tenders_oid,te.tenders_name, 
	mat.pipeline_oid,pi.pipeline_name,
	mat.pipe_station_oid,ps.pipe_station_name,
	mat.device_code,
	mat.device_name,
	mat.desin_pressure,
	d.code_name as desin_pressure_name,
	mat.analysis_transmitter_type,
	dom.code_name as analysis_transmitter_type_name,
	mat.classification_code,
	mat.material_code,
	mat.specification_model,
	mat.installation_location,
	mat.tag_number,
	mat.manufacture_number,
	mat.manufacturer,
	to_char(mat.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mat.guarantee_period,
	mat.contract_number,
	mat.remarks,
	mat.create_user_id,
	mat.create_user_name,
	mat.create_datetime,
	mat.modify_user_id,
	mat.modify_user_name,
	mat.modify_datetime,
	mat.active
FROM
	daq_s_material_analysis_transmitter mat
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mat.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mat.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mat.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mat.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mat.desin_pressure
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=mat.analysis_transmitter_type 
WHERE mat.oid = :oid AND mat.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 07:26:35.532', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-23 14:20:02.203', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3fd3d4c3-f3ec-44ca-b736-37831278d4e5', '站控系统', 'F000061', 'daq_s_material_scs_system', 'INSERT INTO daq_s_material_scs_system( oid, project_oid, device_code, device_name, safty_instrument_system, safty_instrument_system_sil_grade, fire_gas_system, ups_backup_time, scs_software, scs_version, plc_series, plc_cpu_model, io_net_type, display_configuration, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :safty_instrument_system, :safty_instrument_system_sil_grade, :fire_gas_system, :ups_backup_time, :scs_software, :scs_version, :plc_series, :plc_cpu_model, :io_net_type, :display_configuration, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_scs_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, safty_instrument_system=:safty_instrument_system, safty_instrument_system_sil_grade=:safty_instrument_system_sil_grade, fire_gas_system=:fire_gas_system, ups_backup_time=:ups_backup_time, scs_software=:scs_software, scs_version=:scs_version, plc_series=:plc_series, plc_cpu_model=:plc_cpu_model, io_net_type=:io_net_type, display_configuration=:display_configuration, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_scs_system SET active = 0 WHERE oid = :oid', 'SELECT
sss.commit_status,
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.safty_instrument_system,
	case when sss.safty_instrument_system=0 then ''无'' when sss.safty_instrument_system=1 then ''有'' end as safty_instrument_system_name,
	sss.safty_instrument_system_sil_grade,
	sd.code_name as safty_instrument_system_sil_grade_name,
	sss.fire_gas_system,
	case when sss.fire_gas_system=0 then ''无'' when sss.fire_gas_system=1 then ''有'' end as fire_gas_system_name,
	sss.ups_backup_time,
	sss.scs_software,
	d.code_name as scs_software_name,
	sss.scs_version,
	sss.plc_series,
	sss.plc_cpu_model,
	sss.io_net_type,
	sss.display_configuration,
	dom.code_name as display_configuration_name,
	sss.classification_code,
	sss.material_code,
	sss.specification_model,
	sss.tag_number,
	sss.manufacture_number,
	sss.manufacturer,
	to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sss.guarantee_period,
	sss.contract_number,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
	pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_scs_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=sss.safty_instrument_system_sil_grade 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sss.scs_software 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=sss.display_configuration 
WHERE
	1 = 1
AND sss.active = 1 @where_append  order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.safty_instrument_system,
	case when sss.safty_instrument_system=0 then ''无'' when sss.safty_instrument_system=1 then ''有'' end as safty_instrument_system_name,
	sss.safty_instrument_system_sil_grade,
	sd.code_name as safty_instrument_system_sil_grade_name,
	sss.fire_gas_system,
	case when sss.fire_gas_system=0 then ''无'' when sss.fire_gas_system=1 then ''有'' end as fire_gas_system_name,
	sss.ups_backup_time,
	sss.scs_software,
	d.code_name as scs_software_name,
	sss.scs_version,
	sss.plc_series,
	sss.plc_cpu_model,
	sss.io_net_type,
	sss.display_configuration,
	dom.code_name as display_configuration_name,
	sss.classification_code,
	sss.material_code,
	sss.specification_model,
	sss.tag_number,
	sss.manufacture_number,
	sss.manufacturer,
	to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sss.guarantee_period,
	sss.contract_number,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
	pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_scs_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=sss.safty_instrument_system_sil_grade 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sss.scs_software 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=sss.display_configuration  WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-28 07:50:51.27', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:55:44.719', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('3fd5abe0-1095-4d09-8f83-56cec1380fcb', '空气冷却器', 'F000078', 'daq_s_material_air_cooler', 'INSERT INTO daq_s_material_air_cooler( oid, project_oid,  device_code, device_name, air_cooler_type, classification_code, material_code, specification_model, motor_ip_code, motor_explosion_proof_level, maximum_working_pressure, minimum_working_pressure, air_cooler_weight, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :air_cooler_type, :classification_code, :material_code, :specification_model, :motor_ip_code, :motor_explosion_proof_level, :maximum_working_pressure, :minimum_working_pressure, :air_cooler_weight, :manufacture_number, :manufacturer,(select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_air_cooler SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, air_cooler_type=:air_cooler_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, motor_ip_code=:motor_ip_code, motor_explosion_proof_level=:motor_explosion_proof_level, maximum_working_pressure=:maximum_working_pressure, minimum_working_pressure=:minimum_working_pressure, air_cooler_weight=:air_cooler_weight, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_air_cooler SET active = 0 WHERE oid = :oid', 'SELECT
  wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.air_cooler_type,
	case when wc.air_cooler_type=1 then ''鼓风式'' when wc.air_cooler_type=2 then ''引风式'' end as air_cooler_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.motor_ip_code,
	wc.motor_explosion_proof_level,
	wc.maximum_working_pressure,
	wc.minimum_working_pressure,
	wc.air_cooler_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name motor_ip_code_name,doma1.code_name motor_explosion_proof_level_name
FROM
	daq_s_material_air_cooler wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
	LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''motor_ip_code_domain'' and active=1 ) doma ON doma.code_id = wc.motor_ip_code	
	LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''motor_explosion_proof_level_domain'' and active=1 ) doma1 ON doma1.code_id = wc.motor_explosion_proof_level	
	 WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc ', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.air_cooler_type,
	case when wc.air_cooler_type=1 then ''鼓风式'' when wc.air_cooler_type=2 then ''引风式'' end as air_cooler_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.motor_ip_code,
	wc.motor_explosion_proof_level,
	wc.maximum_working_pressure,
	wc.minimum_working_pressure,
	wc.air_cooler_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name motor_ip_code_name,doma1.code_name motor_explosion_proof_level_name
FROM
	daq_s_material_air_cooler wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
	LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''motor_ip_code_domain'' and active=1 ) doma ON doma.code_id = wc.motor_ip_code	
	LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''motor_explosion_proof_level_domain'' and active=1 ) doma1 ON doma1.code_id = wc.motor_explosion_proof_level WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:08:35.967', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:38:27.023', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('40b94935-5f0b-4a25-88bd-210a5b19c4d7', '阴极保护电位传送器', 'F000174', 'daq_station_cp_potential_transmitter', 'INSERT INTO daq_station_cp_potential_transmitter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cp_potential_transmitter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cp_potential_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	sss.install_location_des,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
  sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM
	daq_station_cp_potential_transmitter sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	sss.install_location_des,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
  sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM
	daq_station_cp_potential_transmitter sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 02:28:11.855', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:58:13.244', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4172bf1f-a64e-4a66-b476-88b4c0c4ad73', '站场/阀室管理表', 'F000015', 'daq_pipe_station', 'INSERT INTO daq_pipe_station( oid, pipe_station_name, pipe_station_code, project_oid, pipeline_oid, pipe_station_classification, pipe_station_type, province, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :pipe_station_name, :pipe_station_code, :project_oid, :pipeline_oid, :pipe_station_classification, :pipe_station_type, :province, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_pipe_station SET oid=:oid, pipe_station_name=:pipe_station_name, pipe_station_code=:pipe_station_code, project_oid=:project_oid, pipeline_oid=:pipeline_oid, pipe_station_classification=:pipe_station_classification, pipe_station_type=:pipe_station_type, province=:province, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_pipe_station SET active = 0 WHERE oid = :oid', 'SELECT ps.oid, ps.pipe_station_name, ps.pipe_station_code, ps.project_oid, pro.project_name, ps.pipeline_oid, pi.pipeline_name, ps.pipe_station_classification, d.code_name AS pipe_station_classification_name, ps.pipe_station_type, dm.code_name AS pipe_station_type_name, ps.province, A . NAME AS province_name, ps.remarks, ps.create_user_id, ps.create_user_name, ps.create_datetime, ps.modify_user_id, ps.modify_user_name, ps.modify_datetime, ps.active FROM daq_pipe_station ps LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = ps.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = ps.pipeline_oid LEFT JOIN (SELECT oid, NAME FROM area) A ON A .oid = ps.province LEFT JOIN (select code_id, code_name, active from sys_domain) d ON d.code_id = ps.pipe_station_classification LEFT JOIN (select code_id, code_name, active from sys_domain) dm ON dm.code_id = ps.pipe_station_type WHERE ps.active = 1 AND pro.active = 1 AND pi.active = 1 @where_append  order by ps.create_datetime desc', 'SELECT ps.oid, ps.pipe_station_name, ps.pipe_station_code, ps.project_oid, pro.project_name, ps.pipeline_oid, pi.pipeline_name, ps.pipe_station_classification, d.code_name AS pipe_station_classification_name, ps.pipe_station_type, dm.code_name AS pipe_station_type_name, ps.province, A . NAME AS province_name, ps.remarks, ps.create_user_id, ps.create_user_name, ps.create_datetime, ps.modify_user_id, ps.modify_user_name, ps.modify_datetime, ps.active FROM daq_pipe_station ps LEFT JOIN (SELECT oid, project_name, active FROM daq_project) pro ON pro.oid = ps.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline) pi ON pi.oid = ps.pipeline_oid LEFT JOIN (SELECT oid, NAME FROM area) A ON A .oid = ps.province LEFT JOIN (select code_id, code_name, active from sys_domain) d ON d.code_id = ps.pipe_station_classification LEFT JOIN (select code_id, code_name, active from sys_domain) dm ON dm.code_id = ps.pipe_station_type WHERE ps.oid = :oid AND ps.active = 1 AND pro.active = 1 AND pi.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 14:52:13.781', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-10-18 02:48:51.592', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('42c4fc17-2b7e-40af-b4a0-92c1913d4d56', '储罐真空试漏检测', 'F000159', 'daq_station_storage_tank_detection_vacuum_leak', 'INSERT INTO daq_station_storage_tank_detection_vacuum_leak( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, detection_report_num, detection_object, detection_position, negative_num, detection_length, evaluation_result, detection_deta, detection_unit, detection_person, supervision_unit, supervision_engineer, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :detection_report_num, :detection_object, :detection_position, :negative_num, :detection_length, :evaluation_result, (select :detection_deta::timestamp), :detection_unit, :detection_person, :supervision_unit, :supervision_engineer, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_detection_vacuum_leak SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, detection_report_num=:detection_report_num, detection_object=:detection_object, detection_position=:detection_position, negative_num=:negative_num, detection_length=:detection_length, evaluation_result=:evaluation_result, detection_deta=(select :detection_deta::timestamp), detection_unit=:detection_unit, detection_person=:detection_person, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_detection_vacuum_leak SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.detection_report_num, sss.detection_object, sss.detection_position, sss.negative_num, sss.detection_length, sss.evaluation_result, case when sss.evaluation_result=1 then ''合格'' when sss.evaluation_result=0 then ''不合格'' end as evaluation_result_name, to_char(sss.detection_deta, ''YYYY-MM-DD'') as detection_deta, sss.detection_unit, sss.detection_person, sss.supervision_unit, sss.supervision_engineer, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as detection_unit_name,dsst.device_name as storage_tank_name 
FROM daq_station_storage_tank_detection_vacuum_leak sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc
', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.detection_report_num, sss.detection_object, sss.detection_position, sss.negative_num, sss.detection_length, sss.evaluation_result, case when sss.evaluation_result=1 then ''合格'' when sss.evaluation_result=0 then ''不合格'' end as evaluation_result_name, to_char(sss.detection_deta, ''YYYY-MM-DD'') as detection_deta, sss.detection_unit, sss.detection_person, sss.supervision_unit, sss.supervision_engineer, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as detection_unit_name,dsst.device_name as storage_tank_name 
FROM daq_station_storage_tank_detection_vacuum_leak sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 07:00:48.453', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:41:27.047', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4424d2bd-b351-4804-abe0-f3cb3426f5f2', '绝缘件(站场)', 'F000139', 'daq_station_insulators', 'INSERT INTO daq_station_insulators( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, insulators_code, insulators_name, manufacture_number, front_connect_code, front_connect_method, back_connect_code, back_connect_method, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :insulators_code, :insulators_name, :manufacture_number, :front_connect_code, :front_connect_method, :back_connect_code, :back_connect_method, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_insulators SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, insulators_code=:insulators_code, insulators_name=:insulators_name, manufacture_number=:manufacture_number, front_connect_code=:front_connect_code, front_connect_method=:front_connect_method, back_connect_code=:back_connect_code, back_connect_method=:back_connect_method, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_insulators SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.insulators_code,
	wc.insulators_name,
	wc.manufacture_number,
	wc.front_connect_code,
	wc.front_connect_method,
	doma.code_name front_connect_method_name,
	wc.back_connect_code,
	wc.back_connect_method,
	doma1.code_name back_connect_method_name,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_insulators wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma ON doma.code_id = wc.front_connect_method	
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma1 ON doma1.code_id = wc.back_connect_method	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.insulators_code,
	wc.insulators_name,
	wc.manufacture_number,
	wc.front_connect_code,
	wc.front_connect_method,
	doma.code_name front_connect_method_name,
	wc.back_connect_code,
	wc.back_connect_method,
	doma1.code_name back_connect_method_name,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_insulators wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma ON doma.code_id = wc.front_connect_method	
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma1 ON doma1.code_id = wc.back_connect_method	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 07:30:11.794', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:48:24.745', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('44c58b6f-65c5-4170-beea-fefad3f1b139', '阴极保护内腐蚀检测', 'F000111', 'daq_s_material_internal_corrosion_supervisory', 'INSERT INTO daq_s_material_internal_corrosion_supervisory( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, material_code, classification_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :material_code, :classification_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_internal_corrosion_supervisory SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, classification_code=:classification_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_internal_corrosion_supervisory SET active = 0 WHERE oid = :oid', 'SELECT
	mics.oid,
	mics.project_oid,pro.project_name,
	mics.tenders_oid,te.tenders_name, 
	mics.pipeline_oid,pi.pipeline_name,
	mics.pipe_station_oid,ps.pipe_station_name,
	mics.device_code,
	mics.device_name,
	mics.material_code,
	mics.classification_code,
	mics.specification_model,
	mics.tag_number,
	mics.manufacture_number,
	mics.manufacturer,
	to_char(mics.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mics.guarantee_period,
	mics.contract_number,
	mics.remarks,
	mics.create_user_id,
	mics.create_user_name,
	mics.create_datetime,
	mics.modify_user_id,
	mics.modify_user_name,
	mics.modify_datetime,
	mics.active
FROM
	daq_s_material_internal_corrosion_supervisory mics
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mics.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mics.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mics.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mics.pipe_station_oid 
WHERE
	1 = 1
AND mics.active = 1  @where_append order by mics.create_datetime desc', 'SELECT
	mics.oid,
	mics.project_oid,pro.project_name,
	mics.tenders_oid,te.tenders_name, 
	mics.pipeline_oid,pi.pipeline_name,
	mics.pipe_station_oid,ps.pipe_station_name,
	mics.device_code,
	mics.device_name,
	mics.material_code,
	mics.classification_code,
	mics.specification_model,
	mics.tag_number,
	mics.manufacture_number,
	mics.manufacturer,
	to_char(mics.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mics.guarantee_period,
	mics.contract_number,
	mics.remarks,
	mics.create_user_id,
	mics.create_user_name,
	mics.create_datetime,
	mics.modify_user_id,
	mics.modify_user_name,
	mics.modify_datetime,
	mics.active
FROM
	daq_s_material_internal_corrosion_supervisory mics
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mics.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mics.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mics.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mics.pipe_station_oid 
 WHERE mics.oid = :oid AND mics.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 01:18:20.013', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:30:23.247', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('455b65c2-7c2a-42d2-84fe-d91140b95bc1', '压力变送器', 'F000069', 'daq_s_material_pressure_transmitter', 'INSERT INTO daq_s_material_pressure_transmitter( oid, project_oid,  device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_pressure_transmitter SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_pressure_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	mpt.oid,
	mpt.project_oid,pro.project_name,
	mpt.tenders_oid,te.tenders_name, 
	mpt.pipeline_oid,pi.pipeline_name,
	mpt.pipe_station_oid,ps.pipe_station_name,
	mpt.device_code,
	mpt.device_name,
	mpt.equipment_type,
	mpt.desin_pressure,
	d.code_name as desin_pressure_name,
	mpt.classification_code,
	mpt.material_code,
	mpt.specification_model,
	mpt.tag_number,
	mpt.manufacture_number,
	mpt.manufacturer,
	to_char(mpt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpt.guarantee_period,
	mpt.contract_number,
	mpt.remarks,
	mpt.create_user_id,
	mpt.create_user_name,
	mpt.create_datetime,
	mpt.modify_user_id,
	mpt.modify_user_name,
	mpt.modify_datetime,
	mpt.active
FROM
	daq_s_material_pressure_transmitter mpt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpt.desin_pressure 
WHERE
	1 = 1
AND mpt.active = 1 @where_append  order by mpt.create_datetime desc', 'SELECT
	mpt.oid,
	mpt.project_oid,pro.project_name,
	mpt.tenders_oid,te.tenders_name, 
	mpt.pipeline_oid,pi.pipeline_name,
	mpt.pipe_station_oid,ps.pipe_station_name,
	mpt.device_code,
	mpt.device_name,
	mpt.equipment_type,
	mpt.desin_pressure,
	d.code_name as desin_pressure_name,
	mpt.classification_code,
	mpt.material_code,
	mpt.specification_model,
	mpt.tag_number,
	mpt.manufacture_number,
	mpt.manufacturer,
	to_char(mpt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpt.guarantee_period,
	mpt.contract_number,
	mpt.remarks,
	mpt.create_user_id,
	mpt.create_user_name,
	mpt.create_datetime,
	mpt.modify_user_id,
	mpt.modify_user_name,
	mpt.modify_datetime,
	mpt.active
FROM
	daq_s_material_pressure_transmitter mpt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpt.desin_pressure  WHERE mpt.oid = :oid AND mpt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 03:13:08.246', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-18 09:27:52.771', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('45cd8161-6164-4826-bf4e-b95645842e09', '清管三通', 'F000135', 'daq_station_pigging_tee', 'INSERT INTO daq_station_pigging_tee( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, pigging_tee_code, pigging_tee_name, manufacture_number, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :pigging_tee_code, :pigging_tee_name, :manufacture_number, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pigging_tee SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, pigging_tee_code=:pigging_tee_code, pigging_tee_name=:pigging_tee_name, manufacture_number=:manufacture_number, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pigging_tee SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.pigging_tee_code,
	wc.pigging_tee_name,
	wc.manufacture_number,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pigging_tee wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.pigging_tee_code,
	wc.pigging_tee_name,
	wc.manufacture_number,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pigging_tee wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 06:20:36.758', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:49:55.518', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('488c95e7-8d8c-4926-8767-8fd6ef743c7b', '工艺管道焊口', 'F000122', 'daq_station_process_weld', 'INSERT INTO daq_station_process_weld( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, line_position_num, weld_code, weld_type, weld_method, front_pipe_type, front_pipe_code, back_pipe_type, back_pipe_code, weld_rod_batch_num, weld_wire_batch_num, weld_produce, work_unit_oid, weld_worker_oid, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :line_position_num, :weld_code, :weld_type, :weld_method, :front_pipe_type, :front_pipe_code, :back_pipe_type, :back_pipe_code, :weld_rod_batch_num, :weld_wire_batch_num, :weld_produce, :work_unit_oid, :weld_worker_oid, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_process_weld SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, line_position_num=:line_position_num, weld_code=:weld_code, weld_type=:weld_type, weld_method=:weld_method, front_pipe_type=:front_pipe_type, front_pipe_code=:front_pipe_code, back_pipe_type=:back_pipe_type, back_pipe_code=:back_pipe_code, weld_rod_batch_num=:weld_rod_batch_num, weld_wire_batch_num=:weld_wire_batch_num, weld_produce=:weld_produce, work_unit_oid=:work_unit_oid, weld_worker_oid=:weld_worker_oid, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_process_weld SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.line_position_num, sss.weld_code, sss.weld_type, sss.weld_method, sss.front_pipe_type, sss.front_pipe_code, sss.back_pipe_type, sss.back_pipe_code, sss.weld_rod_batch_num, sss.weld_wire_batch_num, sss.weld_produce, sss.work_unit_oid, sss.weld_worker_oid, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status,
case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
 sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dwps.weld_produce_code as weld_produce_code,wu.work_unit_code as work_unit_code,dwp.personnel_name as weld_worker_name, doma.code_name as weld_type_name, doma1.code_name as weld_method_name, doma2.code_name as front_pipe_type_name, doma3.code_name as back_pipe_type_name  
FROM daq_station_process_weld sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, work_unit_code, active from daq_work_unit where active=1) wu ON wu.oid = sss.work_unit_oid 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''weld_type_domain'' and active=1 ) doma ON doma.code_id = sss.weld_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''weld_method_domain'' and active=1 ) doma1 ON doma1.code_id = sss.weld_method
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma2 ON doma2.code_id = sss.front_pipe_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma3 ON doma3.code_id = sss.back_pipe_type
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
left join (select oid, weld_produce_code, active from daq_weld_produce_specification where active=1) dwps on sss.weld_produce=dwps.oid
left join (select oid, personnel_name from daq_work_personnel where active=1) dwp on sss.weld_worker_oid=dwp.oid
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.line_position_num, sss.weld_code, sss.weld_type, sss.weld_method, sss.front_pipe_type, sss.front_pipe_code, sss.back_pipe_type, sss.back_pipe_code, sss.weld_rod_batch_num, sss.weld_wire_batch_num, sss.weld_produce, sss.work_unit_oid, sss.weld_worker_oid, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status,
case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
 sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dwps.weld_produce_code as weld_produce_code,wu.work_unit_code as work_unit_code,dwp.personnel_name as weld_worker_name, doma.code_name as weld_type_name, doma1.code_name as weld_method_name, doma2.code_name as front_pipe_type_name, doma3.code_name as back_pipe_type_name  
FROM daq_station_process_weld sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, work_unit_code, active from daq_work_unit where active=1) wu ON wu.oid = sss.work_unit_oid 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''weld_type_domain'' and active=1 ) doma ON doma.code_id = sss.weld_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''weld_method_domain'' and active=1 ) doma1 ON doma1.code_id = sss.weld_method
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma2 ON doma2.code_id = sss.front_pipe_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma3 ON doma3.code_id = sss.back_pipe_type
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
left join (select oid, weld_produce_code, active from daq_weld_produce_specification where active=1) dwps on sss.weld_produce=dwps.oid
left join (select oid, personnel_name from daq_work_personnel where active=1) dwp on sss.weld_worker_oid=dwp.oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 06:48:32.832', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 15:11:59.184', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('497bb95b-7abe-48e9-8c61-9d0affd4a891', '测试', 'F000120', 'daq_s_material_sgs_system', 'INSERT INTO daq_s_material_sgs_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :pressure_rating, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, :manufacture_date, :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_sgs_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=:manufacture_date, guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_sgs_system SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_s_material_sgs_system WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_s_material_sgs_system WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 14:16:06.248', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 15:09:04.504', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4b3d5ce2-8abd-4ce7-bf11-93f8fea65423', '焊口割口信息表', 'F000035', 'daq_weld_cut', 'INSERT INTO daq_weld_cut( oid, project_oid, pipeline_oid, tenders_oid, pipe_segment_or_cross_oid, weld_oid, front_weld_oid, back_weld_oid, cut_weld_date, construct_unit, work_unit_oid, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :pipeline_oid, :tenders_oid, :pipe_segment_or_cross_oid, :weld_oid, :front_weld_oid, :back_weld_oid, (select :cut_weld_date::timestamp), :construct_unit, :work_unit_oid, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );update daq_construction_weld set is_cut=1 where oid=:weld_oid;update daq_weld_rework_weld set is_cut=1 where oid=:weld_oid;', 'update daq_construction_weld set is_cut=0 where oid=(select weld_oid from daq_weld_cut where oid=:oid);update daq_weld_rework_weld set is_cut=0 where oid=(select weld_oid from daq_weld_cut where oid=:oid);UPDATE daq_weld_cut SET oid=:oid, project_oid=:project_oid, pipeline_oid=:pipeline_oid, tenders_oid=:tenders_oid, pipe_segment_or_cross_oid=:pipe_segment_or_cross_oid, weld_oid=:weld_oid, front_weld_oid=:front_weld_oid, back_weld_oid=:back_weld_oid, cut_weld_date=(select :cut_weld_date::timestamp), construct_unit=:construct_unit, work_unit_oid=:work_unit_oid, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), approve_status=:approve_status, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name,  modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;update daq_construction_weld set is_cut=1 where oid=:weld_oid;update daq_weld_rework_weld set is_cut=1 where oid=:weld_oid;', 'UPDATE daq_weld_cut SET active = 0 WHERE oid = :oid;update daq_construction_weld set is_cut=0 where oid=(select weld_oid from daq_weld_cut where oid=:oid);update daq_weld_rework_weld set is_cut=0 where oid=(select weld_oid from daq_weld_cut where oid=:oid);', 'SELECT wc.oid,wc.project_oid,pro.project_name,wc.pipeline_oid,pi.pipeline_name,wc.tenders_oid,te.tenders_name,wc.pipe_segment_or_cross_oid,vpsc.name as pipe_segment_or_cross_name, wc.weld_oid, wc.front_weld_oid, wc.back_weld_oid,w.weld_code as cut_weld_code,bw.weld_code as back_weld_code,fw.weld_code as front_weld_code, to_char(wc.cut_weld_date, ''YYYY-MM-DD'') as cut_weld_date,wc.construct_unit,u.unit_name as construct_unit_name,wc.work_unit_oid, wu.work_unit_code, wc.supervision_unit,pu.unit_name as supervision_unit_name, wc.supervision_engineer, wc.collection_person, to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, wc.remarks,wc.create_user_id,wc.create_user_name, wc.create_datetime, wc.modify_user_id,wc.modify_user_name, wc.modify_datetime,wc.active,wc.approve_status FROM daq_weld_cut wc LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = wc.pipe_segment_or_cross_oid LEFT JOIN (select oid, work_unit_code, active from daq_work_unit where active=1) wu ON wu.oid = wc.work_unit_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit left join (select oid,weld_code from daq_construction_weld where active=1 and approve_status=2 union all select oid,rework_weld_code as weld_code from daq_weld_rework_weld where active=1 and approve_status=2) w on w.oid=wc.weld_oid left join(select oid,weld_code from daq_construction_weld where active=1 and approve_status=2 union all select oid,rework_weld_code as weld_code from daq_weld_rework_weld where active=1 and approve_status=2) bw on bw.oid=wc.back_weld_oid left join(select oid,weld_code from daq_construction_weld where active=1 and approve_status=2 union all select oid,rework_weld_code as weld_code from daq_weld_rework_weld where active=1 and approve_status=2) fw on fw.oid=wc.front_weld_oid WHERE wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT wc.oid,wc.project_oid,pro.project_name,wc.pipeline_oid,pi.pipeline_name,wc.tenders_oid,te.tenders_name,wc.pipe_segment_or_cross_oid,vpsc.name as pipe_segment_or_cross_name, wc.weld_oid, wc.front_weld_oid, wc.back_weld_oid,w.weld_code as cut_weld_code,bw.weld_code as back_weld_code,fw.weld_code as front_weld_code, to_char(wc.cut_weld_date, ''YYYY-MM-DD'') as cut_weld_date,wc.construct_unit,u.unit_name as construct_unit_name,wc.work_unit_oid, wu.work_unit_code, wc.supervision_unit,pu.unit_name as supervision_unit_name, wc.supervision_engineer, wc.collection_person, to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, wc.remarks,wc.create_user_id,wc.create_user_name, wc.create_datetime, wc.modify_user_id,wc.modify_user_name, wc.modify_datetime,wc.active,wc.approve_status FROM daq_weld_cut wc LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = wc.pipe_segment_or_cross_oid LEFT JOIN (select oid, work_unit_code, active from daq_work_unit where active=1) wu ON wu.oid = wc.work_unit_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit left join (select oid,weld_code from daq_construction_weld where active=1 and approve_status=2 union all select oid,rework_weld_code as weld_code from daq_weld_rework_weld where active=1 and approve_status=2) w on w.oid=wc.weld_oid left join(select oid,weld_code from daq_construction_weld where active=1 and approve_status=2 union all select oid,rework_weld_code as weld_code from daq_weld_rework_weld where active=1 and approve_status=2) bw on bw.oid=wc.back_weld_oid left join(select oid,weld_code from daq_construction_weld where active=1 and approve_status=2 union all select oid,rework_weld_code as weld_code from daq_weld_rework_weld where active=1 and approve_status=2) fw on fw.oid=wc.front_weld_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-10 14:11:35.273', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 11:19:45.545', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4cdf17c2-7628-40f8-a016-5b89d71e1f60', '返修口', 'F000151', 'daq_station_storage_tank_weld_rework', 'INSERT INTO daq_station_storage_tank_weld_rework( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, weld_code, rework_weld_reason, rework_weld_size, rework_weld_datetime, weld_worker_oid, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :weld_code, :rework_weld_reason, :rework_weld_size, (select :rework_weld_datetime::timestamp), :weld_worker_oid, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_station_storage_tank_weld_rework set rework_weld_code = (select concat((select weld_code from daq_station_storage_tank_weld where oid=:weld_code),''-R'')) where oid=:oid', 'UPDATE daq_station_storage_tank_weld_rework SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, weld_code=:weld_code,  rework_weld_reason=:rework_weld_reason, rework_weld_size=:rework_weld_size, rework_weld_datetime=(select :rework_weld_datetime::timestamp), weld_worker_oid=:weld_worker_oid, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_station_storage_tank_weld_rework set rework_weld_code = (select concat((select weld_code from daq_station_storage_tank_weld where oid=:weld_code),''-R'')) where oid=:oid', 'UPDATE daq_station_storage_tank_weld_rework SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.weld_code,
	stw.weld_code_name,
	wc.rework_weld_code,
	wc.rework_weld_reason,
	wc.rework_weld_size,
to_char(wc.rework_weld_datetime, ''YYYY-MM-DD'') as rework_weld_datetime,
	wc.weld_worker_oid,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_weld_rework wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, weld_code as weld_code_name from daq_station_storage_tank_weld where active=1 and approve_status=2) stw ON stw.oid=wc.weld_code WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.weld_code,
	stw.weld_code_name,
	wc.rework_weld_code,
	wc.rework_weld_reason,
	wc.rework_weld_size,
to_char(wc.rework_weld_datetime, ''YYYY-MM-DD'') as rework_weld_datetime,
	wc.weld_worker_oid,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_weld_rework wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, weld_code as weld_code_name from daq_station_storage_tank_weld where active=1 and approve_status=2) stw ON stw.oid=wc.weld_code WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 02:30:44.646', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 13:53:02.857', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4d5f93d9-9ecc-4a14-9253-16476ef0ac6c', '交换机', 'F000180', 'daq_station_switch', 'INSERT INTO daq_station_switch( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_switch SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_switch SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_switch sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_switch sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 06:28:43.727', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:49:13.207', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4e7650bf-ee61-473c-9d77-e7fe7c344eb3', '手动报警按钮', 'F000191', 'daq_station_manual_alarm_button', 'INSERT INTO daq_station_manual_alarm_button( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_manual_alarm_button SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_manual_alarm_button SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_manual_alarm_button sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_manual_alarm_button sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:59:54.563', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:59:54.563', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4f77b98c-862e-4053-8e68-406f2ad8fd98', '路由器', 'F000188', 'daq_station_router', 'INSERT INTO daq_station_router( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_router SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_router SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_router wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_router wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:45:27.033', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 17:06:44.636', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4f8dc4f6-a5fd-4fca-ac0c-684b9ff6835b', 'SCADA系统', 'F000059', 'daq_s_material_scada_system', 'INSERT INTO daq_s_material_scada_system( oid, project_oid, device_code, device_name, scada_type, scada_software, scada_version, specification_model, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :scada_type, :scada_software, :scada_version, :specification_model, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_scada_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, scada_type=:scada_type, scada_software=:scada_software, scada_version=:scada_version, specification_model=:specification_model, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_scada_system SET active = 0 WHERE oid = :oid', 'SELECT
sss.commit_status,
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.scada_type,
	d.code_name as scada_type_name,
	sss.scada_software,
	dom.code_name as scada_software_name, 
	sss.scada_version,
	sss.specification_model,
	sss.manufacture_number,
	sss.manufacturer,
	to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sss.guarantee_period,
	sss.contract_number,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM
	daq_s_material_scada_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sss.scada_type 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=sss.scada_software 
WHERE
	1 = 1
AND sss.active = 1  @where_append  order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.scada_type,
	d.code_name as scada_type_name,
	sss.scada_type,
	sss.scada_software,
	dom.code_name as scada_software_name,
	sss.scada_version,
	sss.specification_model,
	sss.manufacture_number,
	sss.manufacturer,
	to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sss.guarantee_period,
	sss.contract_number,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM
	daq_s_material_scada_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sss.scada_type 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=sss.scada_software 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-28 11:11:11.353', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:53:40.701', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('4fd9bf78-5960-4d1d-a9f6-77df59ad5456', '工艺焊口返修', 'F000138', 'daq_station_process_weld_rework', 'INSERT INTO daq_station_process_weld_rework( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, weld_oid, rework_reason, weld_rod_batch_num, weld_wire_batch_num, weld_produce, work_unit_oid, weld_worker_oid, rework_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :weld_oid, :rework_reason, :weld_rod_batch_num, :weld_wire_batch_num, :weld_produce, :work_unit_oid, :weld_worker_oid, (select :rework_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_station_process_weld_rework set rework_weld_code=(select concat((select weld_code from daq_station_process_weld where oid=:weld_oid),''-R'')) where oid=:oid', 'UPDATE daq_station_process_weld_rework SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, weld_oid=:weld_oid, rework_reason=:rework_reason, weld_rod_batch_num=:weld_rod_batch_num, weld_wire_batch_num=:weld_wire_batch_num, weld_produce=:weld_produce, work_unit_oid=:work_unit_oid, weld_worker_oid=:weld_worker_oid, rework_datetime=(select :rework_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_station_process_weld_rework set rework_weld_code=(select concat((select weld_code from daq_station_process_weld where oid=:weld_oid),''-R'')) where oid=:oid', 'UPDATE daq_station_process_weld_rework SET active = 0 WHERE oid = :oid', 'SELECT
	spwr.oid,
	spwr.project_oid,pro.project_name,
	spwr.tenders_oid,te.tenders_name, 
	spwr.pipeline_oid,pi.pipeline_name,
	spwr.pipe_station_oid,ps.pipe_station_name,
	spwr.weld_oid,spw.weld_code,
	spwr.rework_weld_code,
	spwr.rework_reason,
	spwr.weld_rod_batch_num,
	spwr.weld_wire_batch_num,
	spwr.weld_produce,dwps.weld_produce_code,
	spwr.work_unit_oid,wu.work_unit_code,
	spwr.weld_worker_oid,dwp.personnel_name,
	to_char(spwr.rework_datetime, ''YYYY-MM-DD'') as rework_datetime,
	spwr.construct_unit,
	u.unit_name as construct_unit_name,
	spwr.supervision_unit,
	pu.unit_name as supervision_unit_name,
	spwr.supervision_engineer,
	spwr.collection_person,
	to_char(spwr.collection_date, ''YYYY-MM-DD'') as collection_date,
	spwr.approve_status,
	case when spwr.approve_status = -1 then ''驳回'' when spwr.approve_status = 1 then ''待审核'' when spwr.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	spwr.remarks,
	spwr.create_user_id,
	spwr.create_user_name,
	spwr.create_datetime,
	spwr.modify_user_id,
	spwr.modify_user_name,
	spwr.modify_datetime,
	spwr.active
FROM
	daq_station_process_weld_rework spwr
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = spwr.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = spwr.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =spwr.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=spwr.pipe_station_oid 
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) spw on spw.oid=spwr.weld_oid 
left join (select oid, weld_produce_code from daq_weld_produce_specification where active=1) dwps on dwps.oid=spwr.weld_produce
LEFT JOIN (select oid, work_unit_code from daq_work_unit where active=1) wu ON wu.oid = spwr.work_unit_oid 
left join (select oid, personnel_name from daq_work_personnel where active=1) dwp on dwp.oid=spwr.weld_worker_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = spwr.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = spwr.construct_unit 
WHERE
	1 = 1
AND spwr.active = 1 @where_append and @privilege_strategy_sql  order by spwr.create_datetime desc', 'SELECT
	spwr.oid,
	spwr.project_oid,pro.project_name,
	spwr.tenders_oid,te.tenders_name, 
	spwr.pipeline_oid,pi.pipeline_name,
	spwr.pipe_station_oid,ps.pipe_station_name,
	spwr.weld_oid,spw.weld_code,
	spwr.rework_weld_code,
	spwr.rework_reason,
	spwr.weld_rod_batch_num,
	spwr.weld_wire_batch_num,
	spwr.weld_produce,dwps.weld_produce_code,
	spwr.work_unit_oid,wu.work_unit_code,
	spwr.weld_worker_oid,dwp.personnel_name,
	to_char(spwr.rework_datetime, ''YYYY-MM-DD'') as rework_datetime,
	spwr.construct_unit,
	u.unit_name as construct_unit_name,
	spwr.supervision_unit,
	pu.unit_name as supervision_unit_name,
	spwr.supervision_engineer,
	spwr.collection_person,
	to_char(spwr.collection_date, ''YYYY-MM-DD'') as collection_date,
	spwr.approve_status,
	case when spwr.approve_status = -1 then ''驳回'' when spwr.approve_status = 1 then ''待审核'' when spwr.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	spwr.remarks,
	spwr.create_user_id,
	spwr.create_user_name,
	spwr.create_datetime,
	spwr.modify_user_id,
	spwr.modify_user_name,
	spwr.modify_datetime,
	spwr.active
FROM
	daq_station_process_weld_rework spwr
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = spwr.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = spwr.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =spwr.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=spwr.pipe_station_oid 
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) spw on spw.oid=spwr.weld_oid 
left join (select oid, weld_produce_code from daq_weld_produce_specification where active=1) dwps on dwps.oid=spwr.weld_produce
LEFT JOIN (select oid, work_unit_code from daq_work_unit where active=1) wu ON wu.oid = spwr.work_unit_oid 
left join (select oid, personnel_name from daq_work_personnel where active=1) dwp on dwp.oid=spwr.weld_worker_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = spwr.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = spwr.construct_unit 
WHERE spwr.oid = :oid AND spwr.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 15:29:00.629', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-25 09:51:47.335', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('5092a0d3-3788-4fd0-85d8-9f979fb0cc55', '储罐渗透检测', 'F000153', 'daq_station_storage_tank_detection_infiltration', 'INSERT INTO daq_station_storage_tank_detection_infiltration( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, detection_report_num, detection_object, detection_position, negative_num, detection_length, detection_type, evaluation_grade, evaluation_result, weld_oid, defect_position, defect_properties, defect_length, detection_deta, detection_unit, detection_person, supervision_unit, supervision_engineer, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :detection_report_num, :detection_object, :detection_position, :negative_num, :detection_length, :detection_type, :evaluation_grade, :evaluation_result, :weld_oid, :defect_position, :defect_properties, :defect_length, (select :detection_deta::timestamp), :detection_unit, :detection_person, :supervision_unit, :supervision_engineer, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_detection_infiltration SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, detection_report_num=:detection_report_num, detection_object=:detection_object, detection_position=:detection_position, negative_num=:negative_num, detection_length=:detection_length, detection_type=:detection_type, evaluation_grade=:evaluation_grade, evaluation_result=:evaluation_result, weld_oid=:weld_oid, defect_position=:defect_position, defect_properties=:defect_properties, defect_length=:defect_length, detection_deta=(select :detection_deta::timestamp), detection_unit=:detection_unit, detection_person=:detection_person, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_detection_infiltration SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.detection_report_num, sss.detection_object, sss.detection_position, sss.negative_num, sss.detection_length, sss.detection_type, sss.evaluation_grade, sss.evaluation_result, case when sss.evaluation_result=1 then ''合格'' when sss.evaluation_result=0 then ''不合格'' end as evaluation_result_name, sss.weld_oid, sss.defect_position, sss.defect_properties, sss.defect_length, to_char(sss.detection_deta, ''YYYY-MM-DD'') as detection_deta, sss.detection_unit, sss.detection_person, sss.supervision_unit, sss.supervision_engineer, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name, pi.pipeline_name, te.tenders_name, ps.pipe_station_name, dspw.weld_code as weld_code, pu.unit_name as supervision_unit_name, u.unit_name as detection_unit_name, dsst.device_name as storage_tank_name, doma1.code_name as detection_type_name, doma.code_name as evaluation_grade_name, doma2.code_name as defect_properties_name  
FROM daq_station_storage_tank_detection_infiltration sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = sss.weld_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''evaluation_grade_domain'' and active=1 ) doma ON doma.code_id = sss.evaluation_grade
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''detection_type_domain'' and active=1 ) doma1 ON doma1.code_id = sss.detection_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''defect_properties_domain'' and active=1 ) doma2 ON doma2.code_id = sss.defect_properties
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.detection_report_num, sss.detection_object, sss.detection_position, sss.negative_num, sss.detection_length, sss.detection_type, sss.evaluation_grade, sss.evaluation_result, case when sss.evaluation_result=1 then ''合格'' when sss.evaluation_result=0 then ''不合格'' end as evaluation_result_name, sss.weld_oid, sss.defect_position, sss.defect_properties, sss.defect_length, to_char(sss.detection_deta, ''YYYY-MM-DD'') as detection_deta, sss.detection_unit, sss.detection_person, sss.supervision_unit, sss.supervision_engineer, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name, pi.pipeline_name, te.tenders_name, ps.pipe_station_name, dspw.weld_code as weld_code, pu.unit_name as supervision_unit_name, u.unit_name as detection_unit_name, dsst.device_name as storage_tank_name, doma1.code_name as detection_type_name, doma.code_name as evaluation_grade_name, doma2.code_name as defect_properties_name  
FROM daq_station_storage_tank_detection_infiltration sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = sss.weld_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''evaluation_grade_domain'' and active=1 ) doma ON doma.code_id = sss.evaluation_grade
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''detection_type_domain'' and active=1 ) doma1 ON doma1.code_id = sss.detection_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''defect_properties_domain'' and active=1 ) doma2 ON doma2.code_id = sss.defect_properties
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 03:42:19.711', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:39:23.223', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('5100ede6-62c4-491b-91ce-3bed17041e27', '大小头信息表', 'F000028', 'daq_material_reducer', 'INSERT INTO daq_material_reducer(project_oid, oid, reducer_code, certification_num, coating_type, inlet_diameter, inlet_wall_thickness, outlet_diameter, outlet_wall_thickness, material, steel_grade, axis_location, manufacturer, manufacturer_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ,construct_unit) VALUES (:project_oid, :oid, :reducer_code, :certification_num, :coating_type, :inlet_diameter, :inlet_wall_thickness, :outlet_diameter, :outlet_wall_thickness, :material, :steel_grade, :axis_location, :manufacturer, (select :manufacturer_date::timestamp), :remarks, :current_user_id, :current_user_name, (select :current_datetime::timestamp), :current_user_id, :current_user_name,(select :current_datetime::timestamp), :active ,:current_unit_id)', 'UPDATE daq_material_reducer SET oid=:oid, reducer_code=:reducer_code, certification_num=:certification_num, coating_type=:coating_type, inlet_diameter=:inlet_diameter, inlet_wall_thickness=:inlet_wall_thickness, outlet_diameter=:outlet_diameter, outlet_wall_thickness=:outlet_wall_thickness, material=:material, steel_grade=:steel_grade, axis_location=:axis_location, manufacturer=:manufacturer, manufacturer_date=(select :manufacturer_date::timestamp), project_oid=:project_oid, pipeline_oid=:pipeline_oid, tenders_oid=:tenders_oid, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=(select :current_datetime::timestamp), active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_material_reducer SET active = 0 WHERE oid = :oid', 'SELECT mr.commit_status, mr.oid,	mr.project_oid,	pro.project_name,	mr.pipeline_oid,	pi.pipeline_name,	mr.tenders_oid,	te.tenders_name,	mr.reducer_code,	mr.certification_num,	mr.coating_type,d.code_name,	mr.inlet_diameter,	mr.inlet_wall_thickness, mr.outlet_diameter,	mr.outlet_wall_thickness,	mr.material,	mr.steel_grade,	mr.axis_location,	mr.manufacturer,	to_char(mr.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date,	case when is_use=''1'' then ''是'' else ''否'' END as is_use,	mr.remarks,	mr.create_user_id,	mr.create_user_name, mr.create_datetime,	mr.modify_user_id,	mr.modify_user_name,	mr.modify_datetime,	mr.active FROM daq_material_reducer mr LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mr.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mr.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mr.tenders_oid  LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mr.coating_type WHERE mr.active = 1 @where_append and @privilege_strategy_sql order by mr.create_datetime,mr.reducer_code desc', 'SELECT mr.oid,	mr.project_oid,	pro.project_name,	mr.pipeline_oid,	pi.pipeline_name,	mr.tenders_oid,	te.tenders_name,	mr.reducer_code,	mr.certification_num,	mr.coating_type,d.code_name,	mr.inlet_diameter,	mr.inlet_wall_thickness, mr.outlet_diameter,	mr.outlet_wall_thickness,	mr.material,	mr.steel_grade,	mr.axis_location,	mr.manufacturer,	to_char(mr.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date,	case when is_use=''1'' then ''是'' else ''否'' END as is_use,	mr.remarks,	mr.create_user_id,	mr.create_user_name, mr.create_datetime,	mr.modify_user_id,	mr.modify_user_name,	mr.modify_datetime,	mr.active FROM daq_material_reducer mr LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mr.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mr.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mr.tenders_oid  LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mr.coating_type WHERE	mr.oid = :oid AND mr.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-29 18:09:14.92', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 14:09:48.092', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('52133f13-15c7-4b2f-bdcf-59d8420b7abd', '液位计数安装', 'F000218', 'daq_station_level_gauge', 'INSERT INTO daq_station_level_gauge( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_level_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_level_gauge set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_level_gauge where oid=:oid);
UPDATE daq_station_level_gauge SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_level_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_level_gauge SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_level_gauge sta 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_level_gauge where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_level_gauge sta 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_level_gauge where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 01:52:13.526', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-25 09:51:14.342', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('59de35af-3dae-4c45-8e8f-397133501c3e', '仪表风压缩机撬', 'F000082', 'daq_s_material_instrument_compressor', 'INSERT INTO daq_s_material_instrument_compressor( oid, project_oid, device_code, device_name, compressor_type, classification_code, material_code, specification_model, tag_number, design_pressure, max_design_temperature, min_design_temperature, electromotor_rated_power_factor, air_compressor_weight, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :compressor_type, :classification_code, :material_code, :specification_model, :tag_number, :design_pressure, :max_design_temperature, :min_design_temperature, :electromotor_rated_power_factor, :air_compressor_weight, :manufacture_number, :manufacturer,(select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_instrument_compressor SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, compressor_type=:compressor_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, design_pressure=:design_pressure, max_design_temperature=:max_design_temperature, min_design_temperature=:min_design_temperature, electromotor_rated_power_factor=:electromotor_rated_power_factor, air_compressor_weight=:air_compressor_weight, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_instrument_compressor SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.compressor_type,
case when wc.compressor_type=1 then ''离心式'' when wc.compressor_type=2 then ''容积式'' end as compressor_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.tag_number,
	wc.design_pressure,
	wc.max_design_temperature,
	wc.min_design_temperature,
	wc.electromotor_rated_power_factor,
	wc.air_compressor_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name electromotor_rated_power_factor_name
FROM
	daq_s_material_instrument_compressor wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''electromotor_rated_power_factor_domain'' and active=1 ) doma ON doma.code_id = wc.electromotor_rated_power_factor WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.compressor_type,
case when wc.compressor_type=1 then ''离心式'' when wc.compressor_type=2 then ''容积式'' end as compressor_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.tag_number,
	wc.design_pressure,
	wc.max_design_temperature,
	wc.min_design_temperature,
	wc.electromotor_rated_power_factor,
	wc.air_compressor_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name electromotor_rated_power_factor_name
FROM
	daq_s_material_instrument_compressor wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''electromotor_rated_power_factor_domain'' and active=1 ) doma ON doma.code_id = wc.electromotor_rated_power_factor WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:35:20.619', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:39:55.435', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('5afafa17-ef43-4847-b51e-407d620a6025', '温度开关', 'F000221', 'daq_station_temperature_switch', 'INSERT INTO daq_station_temperature_switch( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, set_value, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :set_value, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_temperature_switch SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, set_value=:set_value, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_temperature_switch SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_temperature_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_temperature_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 02:55:20.032', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:27:36.111', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('5b56a6d2-d578-4284-81f0-07f08f232e86', '大屏幕显示系统-LSS', 'F000255', 'daq_station_large_screen_display_sys', 'INSERT INTO daq_station_large_screen_display_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_large_screen_display_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_large_screen_display_sys SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.debug_content_and_results,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_large_screen_display_sys sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.debug_content_and_results,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_large_screen_display_sys sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 16:21:10.465', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-23 17:39:11.931', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('5b7bfe1c-9be3-4258-90bf-77e62d9c22f3', '加热炉', 'F000102', 'daq_s_material_heater', 'INSERT INTO daq_s_material_heater( oid, project_oid, device_code, device_name, heater_type, classification_code, material_code, specification_model, design_life, heater_material, manufacturer_of_control_cabinet, anti_explosion, control_cabinet_size, control_cabinet_type, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :heater_type, :classification_code, :material_code, :specification_model, :design_life, :heater_material, :manufacturer_of_control_cabinet, :anti_explosion, :control_cabinet_size, :control_cabinet_type, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_heater SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, heater_type=:heater_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, design_life=:design_life, heater_material=:heater_material, manufacturer_of_control_cabinet=:manufacturer_of_control_cabinet, anti_explosion=:anti_explosion, control_cabinet_size=:control_cabinet_size, control_cabinet_type=:control_cabinet_type, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_heater SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.heater_type,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.design_life,
	wc.heater_material,
	wc.manufacturer_of_control_cabinet,
	wc.anti_explosion,
case when wc.anti_explosion=0 then ''否'' when wc.anti_explosion=1 then ''是'' end as anti_explosion_name,
	wc.control_cabinet_size,
	wc.control_cabinet_type,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name heater_type_name
FROM
	daq_s_material_heater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''heater_type_domain'' and active=1 ) doma ON doma.code_id = wc.heater_type	
 WHERE 1 = 1  AND  wc.active = 1 @where_append order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.heater_type,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.design_life,
	wc.heater_material,
	wc.manufacturer_of_control_cabinet,
	wc.anti_explosion,
case when wc.anti_explosion=0 then ''否'' when wc.anti_explosion=1 then ''是'' end as anti_explosion_name,
	wc.control_cabinet_size,
	wc.control_cabinet_type,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name heater_type_name
FROM
	daq_s_material_heater wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''heater_type_domain'' and active=1 ) doma ON doma.code_id = wc.heater_type	
 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:31:19.792', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-12 17:49:17.335', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('5bdffad4-d388-48db-9da9-59decee0acdc', '储罐焊缝', 'F000150', 'daq_station_storage_tank_weld', 'INSERT INTO daq_station_storage_tank_weld( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, typesetting_num, weld_code, wled_location, weld_method, weather_condition, weld_rod_batch_num, weld_wire_batch_num, weld_produce, work_unit_oid, weld_worker_oid, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :typesetting_num, :weld_code, :wled_location, :weld_method, :weather_condition, :weld_rod_batch_num, :weld_wire_batch_num, :weld_produce, :work_unit_oid, :weld_worker_oid, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_weld SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, typesetting_num=:typesetting_num, weld_code=:weld_code, wled_location=:wled_location, weld_method=:weld_method, weather_condition=:weather_condition, weld_rod_batch_num=:weld_rod_batch_num, weld_wire_batch_num=:weld_wire_batch_num, weld_produce=:weld_produce, work_unit_oid=:work_unit_oid, weld_worker_oid=:weld_worker_oid, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_weld SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.typesetting_num, sss.weld_code, sss.wled_location, sss.weld_method, sss.weather_condition, sss.weld_rod_batch_num, sss.weld_wire_batch_num, sss.weld_produce, sss.work_unit_oid, sss.weld_worker_oid, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name ,dwps.weld_produce_code as weld_produce_code,wu.work_unit_code as work_unit_code,dwp.personnel_name as weld_worker_name, doma.code_name as weld_method_name
FROM daq_station_storage_tank_weld sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
left join (select oid, weld_produce_code from daq_weld_produce_specification where active=1) dwps on dwps.oid=sss.weld_produce
LEFT JOIN (select oid, work_unit_code from daq_work_unit where active=1) wu ON wu.oid = sss.work_unit_oid 
left join (select oid, personnel_name from daq_work_personnel where active=1) dwp on dwp.oid=sss.weld_worker_oid 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''weld_method_domain'' and active=1 ) doma ON doma.code_id = sss.weld_method
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.typesetting_num, sss.weld_code, sss.wled_location, sss.weld_method, sss.weather_condition, sss.weld_rod_batch_num, sss.weld_wire_batch_num, sss.weld_produce, sss.work_unit_oid, sss.weld_worker_oid, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name ,dwps.weld_produce_code as weld_produce_code,wu.work_unit_code as work_unit_code,dwp.personnel_name as weld_worker_name, doma.code_name as weld_method_name
FROM daq_station_storage_tank_weld sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
left join (select oid, weld_produce_code from daq_weld_produce_specification where active=1) dwps on dwps.oid=sss.weld_produce
LEFT JOIN (select oid, work_unit_code from daq_work_unit where active=1) wu ON wu.oid = sss.work_unit_oid 
left join (select oid, personnel_name from daq_work_personnel where active=1) dwp on dwp.oid=sss.weld_worker_oid 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''weld_method_domain'' and active=1 ) doma ON doma.code_id = sss.weld_method
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 02:11:26.159', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 14:08:32.359', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('5ec8a6ea-01c9-4436-ae7d-d21b9c1cc510', 'asdfasd', 'F000259', 'a', 'INSERT INTO a( aaa ) VALUES ( :aaa )', 'UPDATE a SET aaa=:aaa WHERE  = :', 'UPDATE a SET ACTIVE = 0 WHERE  = :', 'SELECT aaa FROM a WHERE 1 = 1  @where_append ', 'SELECT aaa FROM a WHERE  = :', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:13:41.691', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:13:58.856', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('6032c472-cf6c-458e-980c-e0866f97ef8a', '自用气撬表', 'F000118', 'daq_station_gas_lever', 'INSERT INTO daq_station_gas_lever( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_gas_lever SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_gas_lever SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_gas_lever sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_gas_lever sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 02:55:04.277', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:36:56.413', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('60d7a0f5-3a10-405c-b387-a87a5fa667cc', '电加热器安装', 'F000125', 'daq_station_electric_heater', 'INSERT INTO daq_station_electric_heater( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, running_record_time, ambient_temperature, device_voltage, electric_current, inlet_pressure, inlet_temperature, outlet_pressure, outlet_temperature, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, construct_date ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :running_record_time::timestamp), :ambient_temperature, :device_voltage, :electric_current, :inlet_pressure, :inlet_temperature, :outlet_pressure, :outlet_temperature, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, (select :construct_date::timestamp) );
update daq_s_material_electric_heater set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_electric_heater set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_electric_heater where oid=:oid);
UPDATE daq_station_electric_heater SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, running_record_time=(select :running_record_time::timestamp), ambient_temperature=:ambient_temperature, device_voltage=:device_voltage, electric_current=:electric_current, inlet_pressure=:inlet_pressure, inlet_temperature=:inlet_temperature, outlet_pressure=:outlet_pressure, outlet_temperature=:outlet_temperature, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, construct_date=(select :construct_date::timestamp) WHERE oid = :oid AND active = 1;
update daq_s_material_electric_heater set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_electric_heater SET active = 0 WHERE oid = :oid', 'SELECT
	seh.oid,
	seh.project_oid,pro.project_name,
	seh.tenders_oid,te.tenders_name, 
	seh.pipeline_oid,pi.pipeline_name,
	seh.pipe_station_oid,ps.pipe_station_name,
	seh.device_code,
	seh.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(seh.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	seh.ambient_temperature,
	seh.device_voltage,
	seh.electric_current,
	seh.inlet_pressure,
	seh.inlet_temperature,
	seh.outlet_pressure,
	seh.outlet_temperature,
	seh.construct_unit,
	u.unit_name as construct_unit_name,
	seh.supervision_unit,
	pu.unit_name as supervision_unit_name,
	seh.supervision_engineer,
	seh.collection_person,
	to_char(seh.collection_date, ''YYYY-MM-DD'') as collection_date,
	seh.approve_status,
	case when seh.approve_status = -1 then ''驳回'' when seh.approve_status = 1 then ''待审核'' when seh.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	seh.remarks,
	seh.create_user_id,
	seh.create_user_name,
	seh.create_datetime,
	seh.modify_user_id,
	seh.modify_user_name,
	seh.modify_datetime,
	seh.active,
	to_char(seh.construct_date, ''YYYY-MM-DD'') as construct_date
FROM
	daq_station_electric_heater seh
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = seh.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = seh.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =seh.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=seh.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = seh.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = seh.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_electric_heater where active=1) mac on mac.oid = seh.manufacture_number 
WHERE
	1 = 1
AND seh.active = 1 @where_append and @privilege_strategy_sql order by seh.create_datetime desc', 'SELECT
	seh.oid,
	seh.project_oid,pro.project_name,
	seh.tenders_oid,te.tenders_name, 
	seh.pipeline_oid,pi.pipeline_name,
	seh.pipe_station_oid,ps.pipe_station_name,
	seh.device_code,
	seh.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(seh.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	seh.ambient_temperature,
	seh.device_voltage,
	seh.electric_current,
	seh.inlet_pressure,
	seh.inlet_temperature,
	seh.outlet_pressure,
	seh.outlet_temperature,
	seh.construct_unit,
	u.unit_name as construct_unit_name,
	seh.supervision_unit,
	pu.unit_name as supervision_unit_name,
	seh.supervision_engineer,
	seh.collection_person,
	to_char(seh.collection_date, ''YYYY-MM-DD'') as collection_date,
	seh.approve_status,
	case when seh.approve_status = -1 then ''驳回'' when seh.approve_status = 1 then ''待审核'' when seh.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	seh.remarks,
	seh.create_user_id,
	seh.create_user_name,
	seh.create_datetime,
	seh.modify_user_id,
	seh.modify_user_name,
	seh.modify_datetime,
	seh.active,
	to_char(seh.construct_date, ''YYYY-MM-DD'') as construct_date
FROM
	daq_station_electric_heater seh
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = seh.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = seh.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =seh.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=seh.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = seh.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = seh.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_electric_heater where active=1) mac on mac.oid = seh.manufacture_number 
WHERE seh.oid = :oid AND seh.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 08:32:24.154', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:12:38.253', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('617092af-e58b-4b1d-80ad-b799ecca146d', '感温探测器', 'F000197', 'daq_station_temperature_sensor', 'INSERT INTO daq_station_temperature_sensor( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_temperature_sensor SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_temperature_sensor SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_temperature_sensor sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_temperature_sensor sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:38:09.967', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:43:59.929', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('623ef4c8-0798-43c5-b38a-4c9c427cbe70', '测试', 'F000057', 'pg_attribute', 'INSERT INTO pg_attribute( attrelid, attname, atttypid, attstattarget, attlen, attnum, attndims, attcacheoff, atttypmod, attbyval, attstorage, attalign, attnotnull, atthasdef, attisdropped, attislocal, attinhcount, attcollation, attacl, attoptions, attfdwoptions ) VALUES ( :attrelid, :attname, :atttypid, :attstattarget, :attlen, :attnum, :attndims, :attcacheoff, :atttypmod, :attbyval, :attstorage, :attalign, :attnotnull, :atthasdef, :attisdropped, :attislocal, :attinhcount, :attcollation, :attacl, :attoptions, :attfdwoptions )', 'UPDATE pg_attribute SET attrelid=:attrelid, attname=:attname, atttypid=:atttypid, attstattarget=:attstattarget, attlen=:attlen, attnum=:attnum, attndims=:attndims, attcacheoff=:attcacheoff, atttypmod=:atttypmod, attbyval=:attbyval, attstorage=:attstorage, attalign=:attalign, attnotnull=:attnotnull, atthasdef=:atthasdef, attisdropped=:attisdropped, attislocal=:attislocal, attinhcount=:attinhcount, attcollation=:attcollation, attacl=:attacl, attoptions=:attoptions, attfdwoptions=:attfdwoptions WHERE  = :', 'UPDATE pg_attribute SET ACTIVE = 0 WHERE  = :', 'SELECT attrelid, attname, atttypid, attstattarget, attlen, attnum, attndims, attcacheoff, atttypmod, attbyval, attstorage, attalign, attnotnull, atthasdef, attisdropped, attislocal, attinhcount, attcollation, attacl, attoptions, attfdwoptions FROM pg_attribute WHERE 1 = 1  @where_append ', 'SELECT attrelid, attname, atttypid, attstattarget, attlen, attnum, attndims, attcacheoff, atttypmod, attbyval, attstorage, attalign, attnotnull, atthasdef, attisdropped, attislocal, attinhcount, attcollation, attacl, attoptions, attfdwoptions FROM pg_attribute WHERE  = :', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 10:17:48.651', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 02:47:14.332', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('624576b3-f377-4013-982c-86a4ed30048a', '压力表安装', 'F000208', 'daq_station_pressure_gauge', 'INSERT INTO daq_station_pressure_gauge( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode,(select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_pressure_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_pressure_gauge set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pressure_gauge where oid=:oid);
UPDATE daq_station_pressure_gauge SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_pressure_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_pressure_gauge SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_gauge wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_gauge where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_gauge wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_gauge where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-9 02:22:41.584', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-4 17:38:51.133', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('628ba7e8-21f9-44a7-a419-0db5c6ff2ceb', '清管球通过指示器', 'F000088', 'daq_s_material_ys_pig_detector', 'INSERT INTO daq_s_material_ys_pig_detector( oid, project_oid, device_code, device_name, pressure_rating, set_point, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :pressure_rating, :set_point, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_ys_pig_detector SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, set_point=:set_point, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_ys_pig_detector SET active = 0 WHERE oid = :oid', 'SELECT
	mpd.oid,
	mpd.project_oid,pro.project_name,
	mpd.tenders_oid,te.tenders_name, 
	mpd.pipeline_oid,pi.pipeline_name,
	mpd.pipe_station_oid,ps.pipe_station_name,
	mpd.device_code,
	mpd.device_name,
	mpd.pressure_rating,
	d.code_name as pressure_rating_name,
	mpd.set_point,
	mpd.classification_code,
	mpd.material_code,
	mpd.specification_model,
	mpd.tag_number,
	mpd.manufacture_number,
	mpd.manufacturer,
	to_char(mpd.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpd.guarantee_period,
	mpd.contract_number,
	mpd.remarks,
	mpd.create_user_id,
	mpd.create_user_name,
	mpd.create_datetime,
	mpd.modify_user_id,
	mpd.modify_user_name,
	mpd.modify_datetime,
	mpd.active
FROM
	daq_s_material_ys_pig_detector mpd
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpd.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpd.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpd.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpd.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpd.pressure_rating
WHERE
	1 = 1
AND mpd.active = 1  @where_append order by mpd.create_datetime desc', 'SELECT
	mpd.oid,
	mpd.project_oid,pro.project_name,
	mpd.tenders_oid,te.tenders_name, 
	mpd.pipeline_oid,pi.pipeline_name,
	mpd.pipe_station_oid,ps.pipe_station_name,
	mpd.device_code,
	mpd.device_name,
	mpd.pressure_rating,
	d.code_name as pressure_rating_name,
	mpd.set_point,
	mpd.classification_code,
	mpd.material_code,
	mpd.specification_model,
	mpd.tag_number,
	mpd.manufacture_number,
	mpd.manufacturer,
	to_char(mpd.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpd.guarantee_period,
	mpd.contract_number,
	mpd.remarks,
	mpd.create_user_id,
	mpd.create_user_name,
	mpd.create_datetime,
	mpd.modify_user_id,
	mpd.modify_user_name,
	mpd.modify_datetime,
	mpd.active
FROM
	daq_s_material_ys_pig_detector mpd
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpd.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpd.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpd.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpd.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpd.pressure_rating
WHERE mpd.oid = :oid AND mpd.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 07:11:50.705', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:22:20.598', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('63198ab2-8e68-450c-997c-f2ac95a2b035', '工业电视监控系统', 'F000087', 'daq_s_material_cctv_system', 'INSERT INTO daq_s_material_cctv_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, cctv_sys_mode, cctv_sys_capability, material_code, classification_code, specification_model, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :cctv_sys_mode, :cctv_sys_capability, :material_code, :classification_code, :specification_model, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_cctv_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, cctv_sys_mode=:cctv_sys_mode, cctv_sys_capability=:cctv_sys_capability, material_code=:material_code, classification_code=:classification_code, specification_model=:specification_model, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_cctv_system SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.cctv_sys_mode, case when sss.cctv_sys_mode=1 then ''NVS'' when sss.cctv_sys_mode=2 then ''DVR'' end as cctv_sys_mode_name, sss.cctv_sys_capability, sss.material_code, sss.classification_code, sss.specification_model, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_cctv_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.cctv_sys_mode, case when sss.cctv_sys_mode=1 then ''NVS'' when sss.cctv_sys_mode=2 then ''DVR'' end as cctv_sys_mode_name, sss.cctv_sys_capability, sss.material_code, sss.classification_code, sss.specification_model, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_cctv_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 07:04:07.68', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-15 10:20:08.545', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('63bbdbf4-3017-48e1-9d37-ec8527213024', '工艺管线', 'F000119', 'daq_station_process_pipeline', 'INSERT INTO daq_station_process_pipeline( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, start_location, end_location, above_ground_length, underground_length, pipe_segment_materialid, above_ground_anticorrosive, underground_anticorrosive, anticorrosive_coating, anticorrosive_structure, insulating_tube, insulating_type, insulating_insulating, check_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :start_location, :end_location, :above_ground_length, :underground_length, :pipe_segment_materialid, :above_ground_anticorrosive, :underground_anticorrosive, :anticorrosive_coating, :anticorrosive_structure, :insulating_tube, :insulating_type, :insulating_insulating, (select :check_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_process_pipeline SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, start_location=:start_location, end_location=:end_location, above_ground_length=:above_ground_length, underground_length=:underground_length, pipe_segment_materialid=:pipe_segment_materialid, above_ground_anticorrosive=:above_ground_anticorrosive, underground_anticorrosive=:underground_anticorrosive, anticorrosive_coating=:anticorrosive_coating, anticorrosive_structure=:anticorrosive_structure, insulating_tube=:insulating_tube, insulating_type=:insulating_type, insulating_insulating=:insulating_insulating, check_datetime=(select :check_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_process_pipeline SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.start_location,
	wc.end_location,
	wc.above_ground_length,
	wc.underground_length,
	wc.pipe_segment_materialid,
	wc.above_ground_anticorrosive,
	wc.underground_anticorrosive,
	wc.anticorrosive_coating,
	wc.anticorrosive_structure,
	wc.insulating_tube,
case when wc.insulating_tube=1 then ''保温管'' when wc.insulating_tube=2 then ''裸管'' end as insulating_tube_name,
	wc.insulating_type,
	wc.insulating_insulating,
	to_char(wc.check_datetime, ''YYYY-MM-DD'') as check_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
	case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name pipe_segment_materialid_name,doma1.code_name insulating_type_name,
  pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_process_pipeline wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pipe_segment_materialid_domain'' and active=1 ) doma ON doma.code_id = wc.pipe_segment_materialid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''insulating_type_domain'' and active=1 ) doma1 ON doma1.code_id = wc.insulating_type
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.start_location,
	wc.end_location,
	wc.above_ground_length,
	wc.underground_length,
	wc.pipe_segment_materialid,
	wc.above_ground_anticorrosive,
	wc.underground_anticorrosive,
	wc.anticorrosive_coating,
	wc.anticorrosive_structure,
	wc.insulating_tube,
case when wc.insulating_tube=1 then ''保温管'' when wc.insulating_tube=2 then ''裸管'' end as insulating_tube_name,
	wc.insulating_type,
	wc.insulating_insulating,
	to_char(wc.check_datetime, ''YYYY-MM-DD'') as check_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
	case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,doma.code_name pipe_segment_materialid_name,doma1.code_name insulating_type_name,
  pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_process_pipeline wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pipe_segment_materialid_domain'' and active=1 ) doma ON doma.code_id = wc.pipe_segment_materialid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''insulating_type_domain'' and active=1 ) doma1 ON doma1.code_id = wc.insulating_type
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 02:57:12.086', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:53:33.91', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('6431183f-291a-4ca9-98d8-03ae056612d8', '服务器与工作站', 'F000187', 'daq_station_server_and_station', 'INSERT INTO daq_station_server_and_station( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, device_brand, mac_address, ip_address, subnet_mask_address, getway_address, dns_address, spare_dns_address, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :device_brand, :mac_address, :ip_address, :subnet_mask_address, :getway_address, :dns_address, :spare_dns_address, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_server_and_station SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, device_brand=:device_brand, mac_address=:mac_address, ip_address=:ip_address, subnet_mask_address=:subnet_mask_address, getway_address=:getway_address, dns_address=:dns_address, spare_dns_address=:spare_dns_address, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_server_and_station SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.device_brand,
	wc.mac_address,
	wc.ip_address,
	wc.subnet_mask_address,
	wc.getway_address,
	wc.dns_address,
	wc.spare_dns_address,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_server_and_station wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.device_brand,
	wc.mac_address,
	wc.ip_address,
	wc.subnet_mask_address,
	wc.getway_address,
	wc.dns_address,
	wc.spare_dns_address,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_server_and_station wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:29:44.522', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 17:07:17.335', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('64c729e6-c121-45e0-8122-b142705dea83', '压力容器安装', 'F000162', 'daq_station_pressure_container', 'INSERT INTO daq_station_pressure_container( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, device_model, install_location_des, safe_valve_check_pressure, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :device_model, :install_location_des, :safe_valve_check_pressure, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pressure_container SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, device_model=:device_model, install_location_des=:install_location_des, safe_valve_check_pressure=:safe_valve_check_pressure, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pressure_container SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.device_model,
	case when sta.device_model = 1 then ''卧式'' when sta.device_model = 2 then ''立式'' else '''' end as device_model_name,
	sta.install_location_des,
	sta.safe_valve_check_pressure,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_pressure_container sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.device_model,
	case when sta.device_model = 1 then ''卧式'' when sta.device_model = 2 then ''立式'' else '''' end as device_model_name,
	sta.install_location_des,
	sta.safe_valve_check_pressure,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_pressure_container sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 08:04:35.544', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:31:10.172', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('66076700-35aa-436c-adea-12858633cbb9', '储罐', 'F000144', 'daq_station_storage_tank', 'INSERT INTO daq_station_storage_tank( oid, project_oid,tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, picture_num, storage_tank_format, actual_height, safe_level, min_safe_level, max_safe_level, footwall_thickness, wall_thickness, cathodic_protection_install_info, cathodic_protection_check_info, makespan_datetime, completion_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid,:device_code, :device_name, :manufacture_number, :picture_num, :storage_tank_format, :actual_height, :safe_level, :min_safe_level, :max_safe_level, :footwall_thickness, :wall_thickness, :cathodic_protection_install_info, :cathodic_protection_check_info, (select :makespan_datetime::timestamp),(select :completion_datetime::timestamp) , :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid,device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, picture_num=:picture_num, storage_tank_format=:storage_tank_format, actual_height=:actual_height, safe_level=:safe_level, min_safe_level=:min_safe_level, max_safe_level=:max_safe_level, footwall_thickness=:footwall_thickness, wall_thickness=:wall_thickness, cathodic_protection_install_info=:cathodic_protection_install_info, cathodic_protection_check_info=:cathodic_protection_check_info, makespan_datetime=(select :makespan_datetime::timestamp), completion_datetime=(select :completion_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date= (select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.picture_num,
	wc.storage_tank_format,
	doma.code_name storage_tank_format_name,
	wc.actual_height,
	wc.safe_level,
	wc.min_safe_level,
	wc.max_safe_level,
	wc.footwall_thickness,
	wc.wall_thickness,
	wc.cathodic_protection_install_info,
	wc.cathodic_protection_check_info,
to_char(wc.makespan_datetime, ''YYYY-MM-DD'') as makespan_datetime,
to_char(wc.completion_datetime, ''YYYY-MM-DD'') as completion_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''storage_tank_format_domain'' and active=1 ) doma ON doma.code_id = wc.storage_tank_format WHERE 1 = 1 AND wc.active = 1 @where_append order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.picture_num,
	wc.storage_tank_format,
	doma.code_name storage_tank_format_name,
	wc.actual_height,
	wc.safe_level,
	wc.min_safe_level,
	wc.max_safe_level,
	wc.footwall_thickness,
	wc.wall_thickness,
	wc.cathodic_protection_install_info,
	wc.cathodic_protection_check_info,
to_char(wc.makespan_datetime, ''YYYY-MM-DD'') as makespan_datetime,
to_char(wc.completion_datetime, ''YYYY-MM-DD'') as completion_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''storage_tank_format_domain'' and active=1 ) doma ON doma.code_id = wc.storage_tank_format WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 06:47:52.183', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:34:16.963', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('670c7ead-25b9-4e43-8305-0837e76696a0', '管线管理表', 'F000006', 'daq_pipeline', 'INSERT INTO daq_pipeline( oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, pipeline_diameter, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime ) VALUES ( :oid, :pipeline_name, :pipeline_code, :project_oid, :pipeline_type, :pipeline_length, :pipeline_grade, :design_pressure, :start_point, :end_point, :design_flowrate, :pipeline_diameter, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime )', 'UPDATE daq_pipeline SET oid=:oid, pipeline_name=:pipeline_name, pipeline_code=:pipeline_code, project_oid=:project_oid, pipeline_type=:pipeline_type, pipeline_length=:pipeline_length, pipeline_grade=:pipeline_grade, design_pressure=:design_pressure, start_point=:start_point, end_point=:end_point, design_flowrate=:design_flowrate, pipeline_diameter=:pipeline_diameter, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_pipeline SET active = 0 WHERE oid = :oid', 'SELECT p.oid, p.pipeline_name,	p.pipeline_code, pro.project_name,	p.project_oid, p.pipeline_type,	d.code_name as pipeline_type_name,	p.pipeline_length, p.pipeline_grade,	p.design_pressure,	p.start_point,p.end_point,	p.design_flowrate,	p.pipeline_diameter,	p.remarks,	p.create_user_id,	p.create_user_name,	p.create_datetime,	p.modify_user_id,	p.modify_user_name,	p.modify_datetime,	p.active FROM daq_pipeline p LEFT JOIN (select oid,project_name from daq_project where active=1) pro on p.project_oid=pro.oid  LEFT JOIN (select code_id,code_name from sys_domain where active=1) d ON P.pipeline_type = d.code_id  WHERE  p.active = 1 @where_append order by p.create_datetime desc', 'SELECT p.oid, p.pipeline_name,	p.pipeline_code, pro.project_name,	p.project_oid, p.pipeline_type,	d.code_name as pipeline_type_name,	p.pipeline_length, p.pipeline_grade,	p.design_pressure,	p.start_point,p.end_point,	p.design_flowrate,	p.pipeline_diameter,	p.remarks,	p.create_user_id,	p.create_user_name,	p.create_datetime,	p.modify_user_id,	p.modify_user_name,	p.modify_datetime,	p.active FROM daq_pipeline p LEFT JOIN (select oid,project_name from daq_project where active=1) pro on p.project_oid=pro.oid  LEFT JOIN (select code_id,code_name from sys_domain where active=1) d ON P.pipeline_type = d.code_id  WHERE p.oid = :oid AND p.active = 1 ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 16:20:08.302', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 09:37:25.502', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('68100e16-ede5-46ff-b9c7-e2cf7c4b33a6', 'gf_tttttttttttttttt', 'F000023', 'test_pipeline', 'INSERT INTO custom_fun_function test_pipeline( oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_diameter, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, order_num, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :pipeline_name, :pipeline_code, :project_oid, :pipeline_type, :pipeline_length, :pipeline_diameter, :pipeline_grade, :design_pressure, :start_point, :end_point, :design_flowrate, :order_num, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE test_pipeline SET oid=:oid, pipeline_name=:pipeline_name, pipeline_code=:pipeline_code, project_oid=:project_oid, pipeline_type=:pipeline_type, pipeline_length=:pipeline_length, pipeline_diameter=:pipeline_diameter, pipeline_grade=:pipeline_grade, design_pressure=:design_pressure, start_point=:start_point, end_point=:end_point, design_flowrate=:design_flowrate, order_num=:order_num, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE test_pipeline SET active = 0 WHERE oid = :oid', 'SELECT oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_diameter, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, order_num, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_pipeline WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_diameter, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, order_num, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_pipeline WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-28 17:06:57.071', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-23 14:15:02.727', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('6a585484-0b9f-4be3-9a41-00b443b62ace', '绝缘接头信息表', 'F000027', 'daq_material_insulated_joint', 'INSERT INTO daq_material_insulated_joint(project_oid, oid, manufacturer_code, certification_num, diameter, pressure, insulated_resistance, manufacturer, manufacturer_date,remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ,construct_unit) VALUES (:project_oid, :oid, :manufacturer_code, :certification_num, :diameter, :pressure, :insulated_resistance, :manufacturer, (select :manufacturer_date::timestamp), :remarks, :current_user_id, :current_user_name, (select :current_datetime::timestamp), :current_user_id, :current_user_name, (select :current_datetime::timestamp), :active ,:current_unit_id)', 'UPDATE daq_material_insulated_joint SET project_oid=:project_oid,oid=:oid, manufacturer_code=:manufacturer_code, certification_num=:certification_num, diameter=:diameter, pressure=:pressure, insulated_resistance=:insulated_resistance, manufacturer=:manufacturer, manufacturer_date=(select :manufacturer_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=(select :current_datetime::timestamp), active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_material_insulated_joint SET active = 0 WHERE oid = :oid', 'SELECT mij.commit_status, mij.oid, mij.project_oid, pro.project_name, mij.pipeline_oid, pi.pipeline_name, mij.tenders_oid, te.tenders_name, mij.manufacturer_code, mij.certification_num, mij.diameter, mij.pressure, mij.insulated_resistance, mij.manufacturer,to_char(mij.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date, case when is_use=''1'' then ''是'' else ''否'' END as is_use, mij.remarks, mij.create_user_id, mij.create_user_name, mij.create_datetime, mij.modify_user_id, mij.modify_user_name, mij.modify_datetime, mij.active FROM daq_material_insulated_joint mij LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mij.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mij.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mij.tenders_oid WHERE mij.active = 1 @where_append and @privilege_strategy_sql order by mij.create_datetime,mij.manufacturer_code desc', 'SELECT mij.oid, mij.project_oid, pro.project_name, mij.pipeline_oid, pi.pipeline_name, mij.tenders_oid, te.tenders_name, mij.manufacturer_code, mij.certification_num, mij.diameter, mij.pressure, mij.insulated_resistance, mij.manufacturer, to_char(mij.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date, case when is_use=''1'' then ''是'' else ''否'' END as is_use, mij.remarks, mij.create_user_id, mij.create_user_name, mij.create_datetime, mij.modify_user_id, mij.modify_user_name, mij.modify_datetime, mij.active FROM daq_material_insulated_joint mij LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mij.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mij.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mij.tenders_oid WHERE mij.oid = :oid AND mij.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-29 17:13:25.145', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 14:08:45.105', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('6bd5cfe7-454e-4b4a-b7c4-8ce1950a7eef', '油浸电力变压器', 'F000091', 'daq_s_material_oil_immersed_type_transformer', 'INSERT INTO daq_s_material_oil_immersed_type_transformer( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_oil_immersed_type_transformer SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_oil_immersed_type_transformer SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, 
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_oil_immersed_type_transformer sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, 
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_oil_immersed_type_transformer sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 07:54:58.92', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:26:18.702', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('730d0cab-c070-4f18-9571-0dae60055521', 'x', 'F000039', 'daq_appendages_mark_stake', 'INSERT INTO custom_fun_function daq_appendages_mark_stake( oid, project_oid, tenders_oid, pipeline_oid, pipe_segment_or_cross_oid, mark_stake_oid, median_stake_oid, relative_mileage, pointx, pointy, stake_structure, burial_date, stake_function, burial_depth, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, geo_state, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, geom ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_segment_or_cross_oid, :mark_stake_oid, :median_stake_oid, :relative_mileage, :pointx, :pointy, :stake_structure, :burial_date, :stake_function, :burial_depth, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, :collection_date, :geo_state, :approve_status, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, :geom )', 'UPDATE daq_appendages_mark_stake SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_segment_or_cross_oid=:pipe_segment_or_cross_oid, mark_stake_oid=:mark_stake_oid, median_stake_oid=:median_stake_oid, relative_mileage=:relative_mileage, pointx=:pointx, pointy=:pointy, stake_structure=:stake_structure, burial_date=:burial_date, stake_function=:stake_function, burial_depth=:burial_depth, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=:collection_date, geo_state=:geo_state, approve_status=:approve_status, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, geom=:geom WHERE oid = :oid AND active = 1', 'UPDATE daq_appendages_mark_stake SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_segment_or_cross_oid, mark_stake_oid, median_stake_oid, relative_mileage, pointx, pointy, stake_structure, burial_date, stake_function, burial_depth, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, geo_state, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, geom FROM daq_appendages_mark_stake WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_segment_or_cross_oid, mark_stake_oid, median_stake_oid, relative_mileage, pointx, pointy, stake_structure, burial_date, stake_function, burial_depth, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, geo_state, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, geom FROM daq_appendages_mark_stake WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-18 11:21:35.38', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-23 14:14:41.361', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('73fe6cff-56d9-47f9-82f2-d9c89c83e990', '空气冷却器安装', 'F000121', 'daq_station_air_coolers', 'INSERT INTO daq_station_air_coolers( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, manufacture_number, air_coolers_type, running_record_time, ambient_temperature, inlet_pressure, inlet_temperature, outlet_pressure, outlet_temperature, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :manufacture_number, :air_coolers_type, (select :running_record_time::timestamp), :ambient_temperature, :inlet_pressure, :inlet_temperature, :outlet_pressure, :outlet_temperature, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_air_cooler set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_air_cooler set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_air_coolers where oid=:oid);
UPDATE daq_station_air_coolers SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, manufacture_number=:manufacture_number, air_coolers_type=:air_coolers_type, running_record_time=(select :running_record_time::timestamp), ambient_temperature=:ambient_temperature, inlet_pressure=:inlet_pressure, inlet_temperature=:inlet_temperature, outlet_pressure=:outlet_pressure, outlet_temperature=:outlet_temperature, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_air_cooler set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_air_coolers SET active = 0 WHERE oid = :oid', 'SELECT
	sac.oid,
	sac.project_oid,pro.project_name,
	sac.tenders_oid,te.tenders_name, 
	sac.pipeline_oid,pi.pipeline_name,
	sac.pipe_station_oid,ps.pipe_station_name,
	sac.device_code,
	sac.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sac.air_coolers_type,
	d.code_name as air_coolers_type_name,
	to_char(sac.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	sac.ambient_temperature,
	sac.inlet_pressure,
	sac.inlet_temperature,
	sac.outlet_pressure,
	sac.outlet_temperature,
	sac.construct_unit,
	u.unit_name as construct_unit_name,
	sac.supervision_unit,
	sac.supervision_engineer,
	pu.unit_name as supervision_unit_name,
	sac.collection_person,
	to_char(sac.collection_date, ''YYYY-MM-DD'') as collection_date,
	sac.approve_status,
	case when sac.approve_status = -1 then ''驳回'' when sac.approve_status = 1 then ''待审核'' when sac.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sac.remarks,
	sac.create_user_id,
	sac.create_user_name,
	sac.create_datetime,
	sac.modify_user_id,
	sac.modify_user_name,
	sac.modify_datetime,
	sac.active
FROM
	daq_station_air_coolers sac
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sac.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sac.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sac.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sac.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sac.air_coolers_type  
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sac.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sac.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_air_cooler where active=1) mac on mac.oid = sac.manufacture_number 
WHERE
	1 = 1
AND sac.active = 1 @where_append and @privilege_strategy_sql  order by sac.create_datetime desc', 'SELECT
	sac.oid,
	sac.project_oid,pro.project_name,
	sac.tenders_oid,te.tenders_name, 
	sac.pipeline_oid,pi.pipeline_name,
	sac.pipe_station_oid,ps.pipe_station_name,
	sac.device_code,
	sac.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sac.air_coolers_type,
	d.code_name as air_coolers_type_name,
	to_char(sac.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	sac.ambient_temperature,
	sac.inlet_pressure,
	sac.inlet_temperature,
	sac.outlet_pressure,
	sac.outlet_temperature,
	sac.construct_unit,
	u.unit_name as construct_unit_name,
	sac.supervision_unit,
	sac.supervision_engineer,
	pu.unit_name as supervision_unit_name,
	sac.collection_person,
	to_char(sac.collection_date, ''YYYY-MM-DD'') as collection_date,
	sac.approve_status,
	case when sac.approve_status = -1 then ''驳回'' when sac.approve_status = 1 then ''待审核'' when sac.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sac.remarks,
	sac.create_user_id,
	sac.create_user_name,
	sac.create_datetime,
	sac.modify_user_id,
	sac.modify_user_name,
	sac.modify_datetime,
	sac.active
FROM
	daq_station_air_coolers sac
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sac.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sac.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sac.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sac.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sac.air_coolers_type  
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sac.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sac.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_air_cooler where active=1) mac on mac.oid = sac.manufacture_number 
WHERE
	1 = 1
AND sac.active = 1 and sac.oid = :oid ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 06:21:12.844', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:09:30.74', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('743a75ba-111a-46e2-916c-129ce64e6e54', '阴极保护在线监测系统', 'F000170', 'daq_station_cp_monitoring_system', 'INSERT INTO daq_station_cp_monitoring_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results,(select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cp_monitoring_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cp_monitoring_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_cp_monitoring_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE 1 = 1 AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_cp_monitoring_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 01:50:33.13', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 11:04:42.862', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('786cff9b-437f-4373-93a5-f2ca97e9a2c9', '防腐补伤信息表', 'F000038', 'daq_weld_anticorrosion_repair', 'INSERT INTO daq_weld_anticorrosion_repair( oid, project_oid, pipeline_oid, tenders_oid, pipe_segment_or_cross_oid, weld_oid, relative_mileage, anticorrosion_position, anticorrosion_describe, anticorrosion_method, detection_voltage, construction_date, construction_person, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :pipeline_oid, :tenders_oid, :pipe_segment_or_cross_oid, :weld_oid, :relative_mileage, :anticorrosion_position, :anticorrosion_describe, :anticorrosion_method, :detection_voltage, (select :construction_date::timestamp), :construction_person, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,  (select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_weld_anticorrosion_repair SET oid=:oid, project_oid=:project_oid, pipeline_oid=:pipeline_oid, tenders_oid=:tenders_oid, pipe_segment_or_cross_oid=:pipe_segment_or_cross_oid, weld_oid=:weld_oid, relative_mileage=:relative_mileage, anticorrosion_position=:anticorrosion_position, anticorrosion_describe=:anticorrosion_describe, anticorrosion_method=:anticorrosion_method, detection_voltage=:detection_voltage, construction_date=(select :construction_date::timestamp), construction_person=:construction_person, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_weld_anticorrosion_repair SET active = 0 WHERE oid = :oid', 'SELECT war.oid, war.project_oid, pro.project_name, war.pipeline_oid, pi.pipeline_name, war.tenders_oid, te.tenders_name, war.pipe_segment_or_cross_oid, vpsc.name as pipe_segment_or_cross_name, war.weld_oid, cw.weld_code, war.relative_mileage, war.anticorrosion_position, war.anticorrosion_describe, war.anticorrosion_method, d.code_name, war.detection_voltage,to_char(war.construction_date, ''YYYY-MM-DD'') as construction_date, war.construction_person, war.construct_unit, u.unit_name as construct_unit_name, war.supervision_unit, pu.unit_name as supervision_unit_name, war.supervision_engineer, war.collection_person,to_char(war.collection_date, ''YYYY-MM-DD'') as collection_date,case when war.approve_status = -1 then ''驳回'' when war.approve_status = 1 then ''待审核'' when war.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,war.approve_status, war.remarks, war.create_user_id, war.create_user_name, war.create_datetime, war.modify_user_id, war.modify_user_name, war.modify_datetime, war.active FROM daq_weld_anticorrosion_repair war LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = war.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = war.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = war.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = war.pipe_segment_or_cross_oid LEFT JOIN (select oid, weld_code from v_daq_weld_info) cw ON cw.oid = war.weld_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = war.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = war.construct_unit LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) d ON d.code_id = war.anticorrosion_method WHERE war.active = 1 @where_append and @privilege_strategy_sql order by war.create_datetime,cw.weld_code desc', 'SELECT war.oid, war.project_oid, pro.project_name, war.pipeline_oid, pi.pipeline_name, war.tenders_oid, te.tenders_name, war.pipe_segment_or_cross_oid, vpsc.name as pipe_segment_or_cross_name, war.weld_oid, cw.weld_code, war.relative_mileage, war.anticorrosion_position, war.anticorrosion_describe, war.anticorrosion_method, d.code_name, war.detection_voltage,to_char(war.construction_date, ''YYYY-MM-DD'') as construction_date, war.construction_person, war.construct_unit, u.unit_name as construct_unit_name, war.supervision_unit, pu.unit_name as supervision_unit_name, war.supervision_engineer, war.collection_person,to_char(war.collection_date, ''YYYY-MM-DD'') as collection_date,case when war.approve_status = -1 then ''驳回'' when war.approve_status = 1 then ''待审核'' when war.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,war.approve_status, war.remarks, war.create_user_id, war.create_user_name, war.create_datetime, war.modify_user_id, war.modify_user_name, war.modify_datetime, war.active FROM daq_weld_anticorrosion_repair war LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = war.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = war.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = war.tenders_oid LEFT JOIN (select oid,name from v_daq_pipe_segment_cross) vpsc on vpsc.oid = war.pipe_segment_or_cross_oid LEFT JOIN (select oid, weld_code from v_daq_weld_info) cw ON cw.oid = war.weld_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = war.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = war.construct_unit LEFT JOIN (select code_id,code_name, active from sys_domain where active=1) d ON d.code_id = war.anticorrosion_method WHERE war.oid = :oid AND war.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-11 09:25:54.05', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 14:51:29.953', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('79e46e26-16ec-413d-a634-8b31fd12f8d3', '泄漏检测控系统', 'F000195', 'daq_station_leak_detection_system', 'INSERT INTO daq_station_leak_detection_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_leak_detection_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_leak_detection_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_leak_detection_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE 1 = 1 AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_leak_detection_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:18:40.983', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:37:29.134', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('7a155898-6389-4805-8de1-88e119e51077', '分析系统安装', 'F000205', 'daq_station_analysis_system', 'INSERT INTO daq_station_analysis_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :debug_content_and_results,(select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_analysis_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_analysis_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_analysis_system where oid=:oid);
UPDATE daq_station_analysis_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_analysis_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_analysis_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_analysis_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_analysis_system where active=1) mac on mac.oid = wc.manufacture_number  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_analysis_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_analysis_system where active=1) mac on mac.oid = wc.manufacture_number  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 09:34:42.568', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:18:30.081', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('7abe21d5-7622-49f5-a0d1-ef8ddfdd502b', '公网数字电路', 'F000232', 'daq_station_public_network_digital_circuit', 'INSERT INTO daq_station_public_network_digital_circuit( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, access_type, circuit_bandwidth, circuit_num, opening_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :access_type, :circuit_bandwidth, :circuit_num, (select :opening_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_public_network_digital_circuit SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, access_type=:access_type, circuit_bandwidth=:circuit_bandwidth, circuit_num=:circuit_num, opening_date=(select :opening_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_public_network_digital_circuit SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.access_type,
	case when sta.access_type = 1 then ''DDN'' when sta.access_type = 21 then ''数字电路'' when sta.access_type = 3 then ''无线'' else '''' end as access_type_name,
	sta.circuit_bandwidth,
	sta.circuit_num,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person, 
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.opening_date, ''YYYY-MM-DD'') as opening_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_public_network_digital_circuit sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.access_type,
	case when sta.access_type = 1 then ''DDN'' when sta.access_type = 21 then ''数字电路'' when sta.access_type = 3 then ''无线'' else '''' end as access_type_name,
	sta.circuit_bandwidth,
	sta.circuit_num,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person, 
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.opening_date, ''YYYY-MM-DD'') as opening_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_public_network_digital_circuit sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 03:36:31.457', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:19:21.277', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('7cb4920b-aef1-4a06-a4ec-20b5a980e209', '远程诊断与维护系统', 'F000192', 'daq_station_diagnosis_and_maintenance', 'INSERT INTO daq_station_diagnosis_and_maintenance( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_diagnosis_and_maintenance SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_diagnosis_and_maintenance SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_diagnosis_and_maintenance sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_diagnosis_and_maintenance sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:00:05.383', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 17:05:34.222', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('7d7db782-b319-4c3d-b6f4-136cbc24d0c0', 'OTN光纤通信设备', 'F000073', 'daq_s_material_otn_fiber_transmission', 'INSERT INTO daq_s_material_otn_fiber_transmission( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, classification_code, material_code, specification_model, tag_number, otn_capability, nms_mode, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :classification_code, :material_code, :specification_model, :tag_number, :otn_capability, :nms_mode, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_otn_fiber_transmission SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, otn_capability=:otn_capability, nms_mode=:nms_mode, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_otn_fiber_transmission SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.classification_code, sss.material_code, sss.specification_model, sss.tag_number, sss.otn_capability, sss.nms_mode, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name nms_mode_name,doma1.code_name otn_capability_name
FROM   daq_s_material_otn_fiber_transmission sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''nms_mode_domain'' and active=1 ) doma ON doma.code_id = sss.nms_mode
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''otn_capability_domain'' and active=1 ) doma1 ON doma1.code_id = sss.otn_capability
WHERE 1 = 1  AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.classification_code, sss.material_code, sss.specification_model, sss.tag_number, sss.otn_capability, sss.nms_mode, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name nms_mode_name,doma1.code_name otn_capability_name
FROM   daq_s_material_otn_fiber_transmission sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''nms_mode_domain'' and active=1 ) doma ON doma.code_id = sss.nms_mode
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''otn_capability_domain'' and active=1 ) doma1 ON doma1.code_id = sss.otn_capability
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 03:39:16.473', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:32:40.828', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('7dbf100d-ca88-420e-bb45-b685b4b47acb', '压缩机电机表', 'F000048', 'daq_dynamic_compressor_motor', 'INSERT INTO daq_dynamic_compressor_motor( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, compressor_motor_name, manufacture_number, picture_code, empty_debug_record, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, construct_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :compressor_motor_name, :manufacture_number, :picture_code, :empty_debug_record, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), (select :construct_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime )', 'UPDATE daq_dynamic_compressor_motor SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, compressor_motor_name=:compressor_motor_name, manufacture_number=:manufacture_number, picture_code=:picture_code, empty_debug_record=:empty_debug_record, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), construct_date=(select :construct_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_dynamic_compressor_motor SET active = 0 WHERE oid = :oid', 'SELECT	dcm.oid,	dcm.project_oid,	dcm.tenders_oid,	dcm.pipeline_oid,	dcm.pipe_station_oid,	dcm.device_code,	dcm.compressor_motor_name,	dcm.manufacture_number,	dcm.picture_code,	dcm.empty_debug_record,	dcm.construct_unit,	dcm.supervision_unit,	dcm.supervision_engineer,	dcm.collection_person,	to_char(dcm.collection_date, ''YYYY-MM-DD'') as collection_date,	to_char(dcm.construct_date, ''YYYY-MM-DD'') as construct_date,	case when dcm.approve_status = -1 then ''驳回'' when dcm.approve_status = 1 then ''待审核'' when dcm.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,dcm.approve_status,	dcm.remarks, dcm.create_user_id,	dcm.create_user_name,	dcm.create_datetime,	dcm.modify_user_id,	dcm.modify_user_name,	dcm.modify_datetime,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,	dcm.active FROM daq_dynamic_compressor_motor dcm LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = dcm.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = dcm.pipeline_oid 	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = dcm.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=dcm.pipe_station_oid 	LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = dcm.supervision_unit 	LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = dcm.construct_unit WHERE 1 = 1 AND dcm.active = 1 @where_append and @privilege_strategy_sql order by dcm.create_datetime desc', 'SELECT	dcm.oid,	dcm.project_oid,	dcm.tenders_oid,	dcm.pipeline_oid,	dcm.pipe_station_oid,	dcm.device_code,	dcm.compressor_motor_name,	dcm.manufacture_number,	dcm.picture_code,	dcm.empty_debug_record,	dcm.construct_unit,	dcm.supervision_unit,	dcm.supervision_engineer,	dcm.collection_person,	to_char(dcm.collection_date, ''YYYY-MM-DD'') as collection_date,	to_char(dcm.construct_date, ''YYYY-MM-DD'') as construct_date,	case when dcm.approve_status = -1 then ''驳回'' when dcm.approve_status = 1 then ''待审核'' when dcm.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,dcm.approve_status,	dcm.remarks, dcm.create_user_id,	dcm.create_user_name,	dcm.create_datetime,	dcm.modify_user_id,	dcm.modify_user_name,	dcm.modify_datetime,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,	dcm.active FROM daq_dynamic_compressor_motor dcm LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = dcm.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = dcm.pipeline_oid 	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = dcm.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=dcm.pipe_station_oid 	LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = dcm.supervision_unit 	LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = dcm.construct_unit  WHERE dcm.oid = :oid AND dcm.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-11-9 01:51:53.887', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 16:01:37.488', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('7f752211-552e-4f9e-894a-f9679403127a', '计量系统安装', 'F000198', 'daq_station_metering_system', 'INSERT INTO daq_station_metering_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_metering_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_metering_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_metering_system where oid=:oid);
UPDATE daq_station_metering_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_metering_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_metering_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_metering_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_metering_system where active=1) mac on mac.oid = wc.manufacture_number  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_metering_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_metering_system where active=1) mac on mac.oid = wc.manufacture_number  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:44:56.771', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 17:03:10.11', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('80708bbb-c039-4489-81f8-80ef80eb4f2c', '管线管理测试', 'F000004', 'test_pipeline', 'INSERT INTO custom_fun_function test_pipeline( oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_diameter, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, order_num, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :pipeline_name, :pipeline_code, :project_oid, :pipeline_type, :pipeline_length, :pipeline_diameter, :pipeline_grade, :design_pressure, :start_point, :end_point, :design_flowrate, :order_num, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE test_pipeline SET oid=:oid, pipeline_name=:pipeline_name, pipeline_code=:pipeline_code, project_oid=:project_oid, pipeline_type=:pipeline_type, pipeline_length=:pipeline_length, pipeline_diameter=:pipeline_diameter, pipeline_grade=:pipeline_grade, design_pressure=:design_pressure, start_point=:start_point, end_point=:end_point, design_flowrate=:design_flowrate, order_num=:order_num, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE test_pipeline SET active = 0 WHERE oid = :oid', 'SELECT t.oid, t.pipeline_name, t.pipeline_code, p.project_name,t.project_oid, s.code_name as pipeline_type_name,t.pipeline_type, t.pipeline_length, t.pipeline_diameter, ss.code_name as pipeline_grade_name, t.pipeline_grade, t.design_pressure, t.start_point, t.end_point, t.design_flowrate, t.order_num, t.remarks, t.create_user_id, t.create_user_name, t.create_datetime, t.modify_user_id, t.modify_user_name, t.modify_datetime, t.active FROM test_pipeline t left join test_project p on t.project_oid = p.oid left join sys_domain s on t.pipeline_type=s.code_id left join sys_domain ss on t.pipeline_grade = ss.code_id WHERE 1 = 1  AND t.active = 1 @where_append ', 'SELECT t.oid, t.pipeline_name, t.pipeline_code, p.project_name,t.project_oid, s.code_name as pipeline_type_name,t.pipeline_type, t.pipeline_length, t.pipeline_diameter, ss.code_name as pipeline_grade_name, t.pipeline_grade, t.design_pressure, t.start_point, t.end_point, t.design_flowrate, t.order_num, t.remarks, t.create_user_id, t.create_user_name, t.create_datetime, t.modify_user_id, t.modify_user_name, t.modify_datetime, t.active FROM test_pipeline t left join test_project p on t.project_oid = p.oid left join sys_domain s on t.pipeline_type=s.code_id left join sys_domain ss on t.pipeline_grade = ss.code_id WHERE t.oid = :oid AND t.active = 1 ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-4 18:28:24.413', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:37.403', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('80fca6ac-ba91-4d3d-8c27-5f5b6fd25566', '标定系统', 'F000066', 'daq_s_material_prover_system', 'INSERT INTO daq_s_material_prover_system( oid, project_oid, device_code, device_name, pressure_rating, repeablity_of_prover, range_ratio, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :pressure_rating, :repeablity_of_prover, :range_ratio, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_prover_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, repeablity_of_prover=:repeablity_of_prover, range_ratio=:range_ratio, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_prover_system SET active = 0 WHERE oid = :oid', 'SELECT
	mps.oid,
	mps.project_oid,pro.project_name,
	mps.tenders_oid,te.tenders_name,
	mps.pipeline_oid,pi.pipeline_name,
	mps.pipe_station_oid, ps.pipe_station_name,
	mps.device_code,
	mps.device_name,
	mps.pressure_rating,
	d.code_name as pressure_rating_name,
	mps.repeablity_of_prover,
	mps.range_ratio,
	mps.desin_pressure,
	dom.code_name as desin_pressure_name,
	mps.classification_code,
	mps.material_code,
	mps.specification_model,
	mps.tag_number,
	mps.manufacture_number,
	mps.manufacturer,
	to_char(mps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mps.guarantee_period,
	mps.contract_number,
	mps.remarks,
	mps.create_user_id,
	mps.create_user_name,
	mps.create_datetime,
	mps.modify_user_id,
	mps.modify_user_name,
	mps.modify_datetime,
	mps.active
FROM
	daq_s_material_prover_system mps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mps.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mps.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=mps.desin_pressure 
WHERE
	1 = 1
AND mps.active = 1 @where_append order by mps.create_datetime desc', 'SELECT
	mps.oid,
	mps.project_oid,pro.project_name,
	mps.tenders_oid,te.tenders_name,
	mps.pipeline_oid,pi.pipeline_name,
	mps.pipe_station_oid, ps.pipe_station_name,
	mps.device_code,
	mps.device_name,
	mps.pressure_rating,
	d.code_name as pressure_rating_name,
	mps.repeablity_of_prover,
	mps.range_ratio,
	mps.desin_pressure,
	dom.code_name as desin_pressure_name,
	mps.classification_code,
	mps.material_code,
	mps.specification_model,
	mps.tag_number,
	mps.manufacture_number,
	mps.manufacturer,
	to_char(mps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mps.guarantee_period,
	mps.contract_number,
	mps.remarks,
	mps.create_user_id,
	mps.create_user_name,
	mps.create_datetime,
	mps.modify_user_id,
	mps.modify_user_name,
	mps.modify_datetime,
	mps.active
FROM
	daq_s_material_prover_system mps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mps.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mps.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) dom on dom.code_id=mps.desin_pressure  WHERE mps.oid = :oid AND mps.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 10:00:28.558', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-25 09:20:06.684', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8128b4f3-8bd5-410e-bf3b-6bd858a4551f', '平均温度计安装', 'F000220', 'daq_station_age_temperature_transmitter', 'INSERT INTO daq_station_age_temperature_transmitter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, set_value, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :set_value, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_age_temperature_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_age_temperature_transmitter set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_age_temperature_transmitter where oid=:oid);
UPDATE daq_station_age_temperature_transmitter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, set_value=:set_value, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_age_temperature_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_age_temperature_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_age_temperature_transmitter sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_age_temperature_transmitter where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_age_temperature_transmitter sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_age_temperature_transmitter where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 02:41:10.134', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:28:15.28', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8200cd24-2b70-4b3f-8702-f2d8fedc2f80', '限流孔板', 'F000143', 'daq_station_limiter_pore_plate', 'INSERT INTO daq_station_limiter_pore_plate( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, limiter_pore_plate_code, limiter_pore_plate_name, manufacture_number, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :limiter_pore_plate_code, :limiter_pore_plate_name, :manufacture_number, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_limiter_pore_plate SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, limiter_pore_plate_code=:limiter_pore_plate_code, limiter_pore_plate_name=:limiter_pore_plate_name, manufacture_number=:manufacture_number, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_limiter_pore_plate SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.limiter_pore_plate_code, sss.limiter_pore_plate_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_limiter_pore_plate sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.limiter_pore_plate_code, sss.limiter_pore_plate_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_limiter_pore_plate sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1
', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 07:56:03.431', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:47:03.434', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('82cb8520-a6ef-4f5b-a54f-60a58bf0ea88', '用户测试', 'F000001', 'pri_user', 'INSERT INTO custom_fun_function pri_user( oid, user_name, login_name, password, password_expired_date, validdate, address, phone, email, unit_id, user_type, addata, description, ext_field1, ext_field2, ext_field3, ext_field4, ext_field5, find_pass_validcode, find_pass_validtime, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :user_name, :login_name, :password, :password_expired_date, :validdate, :address, :phone, :email, :unit_id, :user_type, :addata, :description, :ext_field1, :ext_field2, :ext_field3, :ext_field4, :ext_field5, :find_pass_validcode, :find_pass_validtime, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE pri_user SET oid=:oid, user_name=:user_name, login_name=:login_name, password=:password, password_expired_date=:password_expired_date, validdate=:validdate, address=:address, phone=:phone, email=:email, unit_id=:unit_id, user_type=:user_type, addata=:addata, description=:description, ext_field1=:ext_field1, ext_field2=:ext_field2, ext_field3=:ext_field3, ext_field4=:ext_field4, ext_field5=:ext_field5, find_pass_validcode=:find_pass_validcode, find_pass_validtime=:find_pass_validtime, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE pri_user SET active = 0 WHERE oid = :oid', 'SELECT oid, user_name, login_name, password, password_expired_date, validdate, address, phone, email, unit_id, user_type, addata, description, ext_field1, ext_field2, ext_field3, ext_field4, ext_field5, find_pass_validcode, find_pass_validtime, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM pri_user WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, user_name, login_name, password, password_expired_date, validdate, address, phone, email, unit_id, user_type, addata, description, ext_field1, ext_field2, ext_field3, ext_field4, ext_field5, find_pass_validcode, find_pass_validtime, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM pri_user WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-5-22 15:17:44.672', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 18:28:44.034', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('83c8877c-1da8-4977-ad0d-6b91373921cd', '压缩机', 'F000060', 'daq_s_material_compressor', 'INSERT INTO daq_s_material_compressor( oid, project_oid,device_code, device_name, compressor_model, max_design_temperature, min_design_temperature, classification_code, material_code, specification_model, lubricating_oil_type, lubricating_oil_manufac, lubricating_oil_volume, lubricating_oil_material, lubricating_pump_flowrate, lubricating_filter_precision, dry_gas_seal_system_model, dry_gas_seal_system_manufac, seal_type, seal_gas_type, seal_gas_filter_precision, impeller_material, bearing_material, inlet_f_sealing_surface_type, inlet_f_standard, inlet_f_nominal_diameter, inlet_f_pressure_rating, outlet_f_sealing_surface_type, outlet_flange_standard_, outlet_f_nominal_diameter, outlet_f_pressure_rating, compressor_weight, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :compressor_model, :max_design_temperature, :min_design_temperature, :classification_code, :material_code, :specification_model, :lubricating_oil_type, :lubricating_oil_manufac, :lubricating_oil_volume, :lubricating_oil_material, :lubricating_pump_flowrate, :lubricating_filter_precision, :dry_gas_seal_system_model, :dry_gas_seal_system_manufac, :seal_type, :seal_gas_type, :seal_gas_filter_precision, :impeller_material, :bearing_material, :inlet_f_sealing_surface_type, :inlet_f_standard, :inlet_f_nominal_diameter, :inlet_f_pressure_rating, :outlet_f_sealing_surface_type, :outlet_flange_standard_, :outlet_f_nominal_diameter, :outlet_f_pressure_rating, :compressor_weight, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_compressor SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, compressor_model=:compressor_model, max_design_temperature=:max_design_temperature, min_design_temperature=:min_design_temperature, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, lubricating_oil_type=:lubricating_oil_type, lubricating_oil_manufac=:lubricating_oil_manufac, lubricating_oil_volume=:lubricating_oil_volume, lubricating_oil_material=:lubricating_oil_material, lubricating_pump_flowrate=:lubricating_pump_flowrate, lubricating_filter_precision=:lubricating_filter_precision, dry_gas_seal_system_model=:dry_gas_seal_system_model, dry_gas_seal_system_manufac=:dry_gas_seal_system_manufac, seal_type=:seal_type, seal_gas_type=:seal_gas_type, seal_gas_filter_precision=:seal_gas_filter_precision, impeller_material=:impeller_material, bearing_material=:bearing_material, inlet_f_sealing_surface_type=:inlet_f_sealing_surface_type, inlet_f_standard=:inlet_f_standard, inlet_f_nominal_diameter=:inlet_f_nominal_diameter, inlet_f_pressure_rating=:inlet_f_pressure_rating, outlet_f_sealing_surface_type=:outlet_f_sealing_surface_type, outlet_flange_standard_=:outlet_flange_standard_, outlet_f_nominal_diameter=:outlet_f_nominal_diameter, outlet_f_pressure_rating=:outlet_f_pressure_rating, compressor_weight=:compressor_weight, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_compressor SET active = 0 WHERE oid = :oid', 'SELECT
   sss.commit_status,
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
  case when sss.compressor_model=1 then ''离心式'' when sss.compressor_model=2 then ''往复式'' end as compressor_model_name,
	sss.compressor_model,
	sss.max_design_temperature,
	sss.min_design_temperature,
	sss.classification_code,
	sss.material_code,
	sss.specification_model,
	sss.lubricating_oil_type,
	sss.lubricating_oil_manufac,
	sss.lubricating_oil_volume,
	sss.lubricating_oil_material,
	sss.lubricating_pump_flowrate,
	sss.lubricating_filter_precision,
	sss.dry_gas_seal_system_model,
	sss.dry_gas_seal_system_manufac,
	sss.seal_type,
	sss.seal_gas_type,
	sss.seal_gas_filter_precision,
	sss.impeller_material,
	sss.bearing_material,
	sss.inlet_f_sealing_surface_type,
	sss.inlet_f_standard,
	sss.inlet_f_nominal_diameter,
	sss.inlet_f_pressure_rating,
	sss.outlet_f_sealing_surface_type,
	sss.outlet_flange_standard_,
	sss.outlet_f_nominal_diameter,
	sss.outlet_f_pressure_rating,
	sss.compressor_weight,
	sss.manufacture_number,
	sss.manufacturer,
	to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sss.guarantee_period,
	sss.contract_number,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
	pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name inlet_f_pressure_rating_name,doma1.code_name outlet_f_pressure_rating_name
FROM
	daq_s_material_compressor  sss
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
  LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''flange_pressure_rating_domain'' and active=1 ) doma ON doma.code_id = sss.inlet_f_pressure_rating
	LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''flange_pressure_rating_domain'' and active=1 ) doma1 ON doma1.code_id = sss.outlet_f_pressure_rating
WHERE
	1 = 1
AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
  case when sss.compressor_model=1 then ''离心式'' when sss.compressor_model=2 then ''往复式'' end as compressor_model_name,
	sss.compressor_model,
	sss.max_design_temperature,
	sss.min_design_temperature,
	sss.classification_code,
	sss.material_code,
	sss.specification_model,
	sss.lubricating_oil_type,
	sss.lubricating_oil_manufac,
	sss.lubricating_oil_volume,
	sss.lubricating_oil_material,
	sss.lubricating_pump_flowrate,
	sss.lubricating_filter_precision,
	sss.dry_gas_seal_system_model,
	sss.dry_gas_seal_system_manufac,
	sss.seal_type,
	sss.seal_gas_type,
	sss.seal_gas_filter_precision,
	sss.impeller_material,
	sss.bearing_material,
	sss.inlet_f_sealing_surface_type,
	sss.inlet_f_standard,
	sss.inlet_f_nominal_diameter,
	sss.inlet_f_pressure_rating,
	sss.outlet_f_sealing_surface_type,
	sss.outlet_flange_standard_,
	sss.outlet_f_nominal_diameter,
	sss.outlet_f_pressure_rating,
	sss.compressor_weight,
	sss.manufacture_number,
	sss.manufacturer,
	to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sss.guarantee_period,
	sss.contract_number,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
	pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name inlet_f_pressure_rating_name,doma1.code_name outlet_f_pressure_rating_name
FROM
	daq_s_material_compressor  sss
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
  LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''flange_pressure_rating_domain'' and active=1 ) doma ON doma.code_id = sss.inlet_f_pressure_rating
	LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''flange_pressure_rating_domain'' and active=1 ) doma1 ON doma1.code_id = sss.outlet_f_pressure_rating
WHERE sss.oid = :oid AND sss.active = 1 ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-28 07:39:17.654', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-14 14:17:02.9', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('85204d81-c916-41dc-9783-1887100c45c9', '111', 'F000009', 'test_project', 'INSERT INTO custom_fun_function test_project( oid, project_name, project_code, construct, engineering_id, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, medium_type ) VALUES ( :oid, :project_name, :project_code, :construct, :engineering_id, :remark, :ordernum, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, :medium_type )', 'UPDATE test_project SET oid=:oid, project_name=:project_name, project_code=:project_code, construct=:construct, engineering_id=:engineering_id, remark=:remark, ordernum=:ordernum, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, medium_type=:medium_type WHERE oid = :oid AND active = 1', 'UPDATE test_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, construct, engineering_id, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, medium_type FROM test_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, construct, engineering_id, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, medium_type FROM test_project WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 18:08:39.266', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:29.442', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('852253d8-1aa8-48d7-87d3-13d7611d8444', '阴极保护系统', 'F000171', 'daq_station_cp_system', 'INSERT INTO daq_station_cp_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, protection_medthod, pipeline_pc_number, station_pc_number, potential_transmitter_number, intelligent_optical_terminal_num, complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :protection_medthod, :pipeline_pc_number, :station_pc_number, :potential_transmitter_number, :intelligent_optical_terminal_num, (select :complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cp_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, protection_medthod=:protection_medthod, pipeline_pc_number=:pipeline_pc_number, station_pc_number=:station_pc_number, potential_transmitter_number=:potential_transmitter_number, intelligent_optical_terminal_num=:intelligent_optical_terminal_num, complete_date=(select :complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cp_system SET active = 0 WHERE oid = :oid', 'SELECT
	dscs.oid,
	dscs.project_oid,
	dscs.tenders_oid,
	dscs.pipeline_oid,
	dscs.pipe_station_oid,
	dscs.device_code,
	dscs.device_name,
	dscs.protection_medthod,
  case when dscs.protection_medthod=1 then ''牺牲阳极'' when dscs.protection_medthod=2 then ''强制电流'' end as protection_medthod_name,
	dscs.pipeline_pc_number,
	dscs.station_pc_number,
	dscs.potential_transmitter_number,
	dscs.intelligent_optical_terminal_num,
	to_char(dscs.complete_date, ''YYYY-MM-DD'') as complete_date,
	dscs.construct_unit,
	dscs.supervision_unit,
	dscs.supervision_engineer,
	dscs.collection_person,
	to_char(dscs.collection_date, ''YYYY-MM-DD'') as collection_date,
	dscs.approve_status,
  case when dscs.approve_status = -1 then ''驳回'' when dscs.approve_status = 1 then ''待审核'' when dscs.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	dscs.remarks,
	dscs.create_user_id,
	dscs.create_user_name,
	dscs.create_datetime,
	dscs.modify_user_id,
	dscs.modify_user_name,
	dscs.modify_datetime,
  dscs.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM
	daq_station_cp_system dscs
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = dscs.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = dscs.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = dscs.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=dscs.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = dscs.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = dscs.construct_unit 
WHERE 1 = 1 AND dscs.active = 1 @where_append and @privilege_strategy_sql order by dscs.create_datetime desc', 'SELECT
	dscs.oid,
	dscs.project_oid,
	dscs.tenders_oid,
	dscs.pipeline_oid,
	dscs.pipe_station_oid,
	dscs.device_code,
	dscs.device_name,
	dscs.protection_medthod,
  case when dscs.protection_medthod=1 then ''牺牲阳极'' when dscs.protection_medthod=2 then ''强制电流'' end as protection_medthod_name,
	dscs.pipeline_pc_number,
	dscs.station_pc_number,
	dscs.potential_transmitter_number,
	dscs.intelligent_optical_terminal_num,
	to_char(dscs.complete_date, ''YYYY-MM-DD'') as complete_date,
	dscs.construct_unit,
	dscs.supervision_unit,
	dscs.supervision_engineer,
	dscs.collection_person,
	to_char(dscs.collection_date, ''YYYY-MM-DD'') as collection_date,
	dscs.approve_status,
  case when dscs.approve_status = -1 then ''驳回'' when dscs.approve_status = 1 then ''待审核'' when dscs.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	dscs.remarks,
	dscs.create_user_id,
	dscs.create_user_name,
	dscs.create_datetime,
	dscs.modify_user_id,
	dscs.modify_user_name,
	dscs.modify_datetime,
  dscs.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM
	daq_station_cp_system dscs
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = dscs.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = dscs.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = dscs.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=dscs.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = dscs.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = dscs.construct_unit 
WHERE dscs.oid = :oid AND dscs.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 01:55:24.353', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:23:00.557', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('865f2ae9-4ac7-4009-a3e5-15ea666eb124', 'dvvfd', 'F000022', 'test_engineering', 'INSERT INTO custom_fun_function test_engineering( oid, engineering_name, engineering_code, construct, company_name, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :engineering_name, :engineering_code, :construct, :company_name, :remark, :ordernum, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE test_engineering SET oid=:oid, engineering_name=:engineering_name, engineering_code=:engineering_code, construct=:construct, company_name=:company_name, remark=:remark, ordernum=:ordernum, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE test_engineering SET active = 0 WHERE oid = :oid', 'SELECT oid, engineering_name, engineering_code, construct, company_name, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_engineering WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, engineering_name, engineering_code, construct, company_name, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_engineering WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-28 15:40:55.233', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-28 15:42:02.519', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('869b9d7f-1e0a-47d8-b6d7-fdf096634ef2', '平均温度计', 'F000081', 'daq_s_material_age_temperature_transmitter', 'INSERT INTO daq_s_material_age_temperature_transmitter( oid, project_oid, device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_age_temperature_transmitter SET oid=:oid, project_oid=:project_oid,  device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_age_temperature_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	matt.oid,
	matt.project_oid,pro.project_name,
	matt.tenders_oid,te.tenders_name, 
	matt.pipeline_oid,pi.pipeline_name,
	matt.pipe_station_oid,ps.pipe_station_name,
	matt.device_code,
	matt.device_name,
	matt.equipment_type,
	matt.desin_pressure,
	d.code_name as desin_pressure_name,
	matt.classification_code,
	matt.material_code,
	matt.specification_model,
	matt.tag_number,
	matt.manufacture_number,
	matt.manufacturer,
	to_char(matt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	matt.guarantee_period,
	matt.contract_number,
	matt.remarks,
	matt.create_user_id,
	matt.create_user_name,
	matt.create_datetime,
	matt.modify_user_id,
	matt.modify_user_name,
	matt.modify_datetime,
	matt.active
FROM
	daq_s_material_age_temperature_transmitter matt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = matt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = matt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = matt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=matt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=matt.desin_pressure 
WHERE
	1 = 1
AND matt.active = 1 @where_append  order by matt.create_datetime desc', 'SELECT
	matt.oid,
	matt.project_oid,pro.project_name,
	matt.tenders_oid,te.tenders_name, 
	matt.pipeline_oid,pi.pipeline_name,
	matt.pipe_station_oid,ps.pipe_station_name,
	matt.device_code,
	matt.device_name,
	matt.equipment_type,
	matt.desin_pressure,
	d.code_name as desin_pressure_name,
	matt.classification_code,
	matt.material_code,
	matt.specification_model,
	matt.tag_number,
	matt.manufacture_number,
	matt.manufacturer,
	to_char(matt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	matt.guarantee_period,
	matt.contract_number,
	matt.remarks,
	matt.create_user_id,
	matt.create_user_name,
	matt.create_datetime,
	matt.modify_user_id,
	matt.modify_user_name,
	matt.modify_datetime,
	matt.active
FROM
	daq_s_material_age_temperature_transmitter matt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = matt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = matt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = matt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=matt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=matt.desin_pressure  WHERE matt.oid = :oid AND matt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:32:26.743', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-23 14:18:35.02', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('872acc01-b882-41ca-9f9f-643aef3b7af1', '执行机构', 'F000203', 'daq_station_executing_agency', 'INSERT INTO daq_station_executing_agency( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_executing_agency SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_executing_agency SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_executing_agency sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_executing_agency sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 09:16:25.5', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:32:27.3', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('887e619c-cf76-49e4-9054-41f395d3af27', '阀室监控系统', 'F000184', 'daq_station_monitoring_system', 'INSERT INTO daq_station_monitoring_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_monitoring_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_monitoring_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_monitoring_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_monitoring_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:18:01.29', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:45:08.471', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('88ad5717-a99d-4167-804d-c91dd7b94eb0', '过滤器安装', 'F000156', 'daq_station_filter', 'INSERT INTO daq_station_filter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, pressure_test_date, pressure_test, pressure_process_des, test_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :pressure_test_date::timestamp), :pressure_test, :pressure_process_des, :test_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_filter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number
', 'update daq_s_material_filter set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_filter where oid=:oid);
UPDATE daq_station_filter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, pressure_test_date=(select :pressure_test_date::timestamp), pressure_test=:pressure_test, pressure_process_des=:pressure_process_des, test_result=:test_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_filter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_filter SET active = 0 WHERE oid = :oid', 'SELECT
	sf.oid,
	sf.project_oid,pro.project_name,
	sf.tenders_oid,te.tenders_name, 
	sf.pipeline_oid,pi.pipeline_name,
	sf.pipe_station_oid,ps.pipe_station_name,
	sf.device_code,
	sf.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sf.pressure_test_date, ''YYYY-MM-DD'') as pressure_test_date,
	sf.pressure_test,
	sf.pressure_process_des,
	sf.test_result,																				
	case when sf.test_result = 1 then ''合格'' when sf.test_result = 0 then ''不合格'' else '''' end as test_result_name,
	to_char(sf.construct_date, ''YYYY-MM-DD'') as construct_date,
	sf.construct_unit,
	u.unit_name as construct_unit_name,
	sf.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sf.supervision_engineer,
	sf.collection_person,
	to_char(sf.collection_date, ''YYYY-MM-DD'') as collection_date,
	sf.approve_status,
	case when sf.approve_status = -1 then ''驳回'' when sf.approve_status = 1 then ''待审核'' when sf.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sf.remarks,
	sf.create_user_id,
	sf.create_user_name,
	sf.create_datetime,
	sf.modify_user_id,
	sf.modify_user_name,
	sf.modify_datetime,
	sf.active
FROM
	daq_station_filter sf
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sf.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sf.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sf.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sf.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sf.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sf.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_filter where active=1) mac on mac.oid = sf.manufacture_number 
WHERE
	1 = 1
AND sf.active = 1 @where_append and @privilege_strategy_sql  order by sf.create_datetime desc', 'SELECT
	sf.oid,
	sf.project_oid,pro.project_name,
	sf.tenders_oid,te.tenders_name, 
	sf.pipeline_oid,pi.pipeline_name,
	sf.pipe_station_oid,ps.pipe_station_name,
	sf.device_code,
	sf.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sf.pressure_test_date, ''YYYY-MM-DD'') as pressure_test_date,
	sf.pressure_test,
	sf.pressure_process_des,
	sf.test_result,																				
	case when sf.test_result = 1 then ''合格'' when sf.test_result = 0 then ''不合格'' else '''' end as test_result_name,
	to_char(sf.construct_date, ''YYYY-MM-DD'') as construct_date,
	sf.construct_unit,
	u.unit_name as construct_unit_name,
	sf.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sf.supervision_engineer,
	sf.collection_person,
	to_char(sf.collection_date, ''YYYY-MM-DD'') as collection_date,
	sf.approve_status,
	case when sf.approve_status = -1 then ''驳回'' when sf.approve_status = 1 then ''待审核'' when sf.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sf.remarks,
	sf.create_user_id,
	sf.create_user_name,
	sf.create_datetime,
	sf.modify_user_id,
	sf.modify_user_name,
	sf.modify_datetime,
	sf.active
FROM
	daq_station_filter sf
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sf.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sf.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sf.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sf.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sf.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sf.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_filter where active=1) mac on mac.oid = sf.manufacture_number 
WHERE sf.oid = :oid AND sf.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 06:14:40.835', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:32:58.535', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('893d4087-ca8f-4132-9b68-db495705d279', '感烟探测器', 'F000194', 'daq_station_smoke_detector', 'INSERT INTO daq_station_smoke_detector( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_smoke_detector SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_smoke_detector SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_smoke_detector sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_smoke_detector sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:10:07.092', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:33:20.503', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8a1f8a3c-b669-461f-afae-e1b6d9da5d75', '发电机组', 'F000104', 'daq_s_material_generator_set', 'INSERT INTO daq_s_material_generator_set( oid, project_oid,device_code, device_name, generator_set_type, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :generator_set_type, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_generator_set SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, generator_set_type=:generator_set_type, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_generator_set SET active = 0 WHERE oid = :oid', 'SELECT
	sgs.oid,
	sgs.project_oid,pro.project_name,
	sgs.tenders_oid,te.tenders_name, 
	sgs.pipeline_oid,pi.pipeline_name,
	sgs.pipe_station_oid,ps.pipe_station_name,
	sgs.device_code,
	sgs.device_name,
	sgs.generator_set_type,
	d.code_name as generator_set_type_name,
	sgs.material_code,
	sgs.specification_model,
	sgs.tag_number,
	sgs.manufacture_number,
	sgs.manufacturer,
	to_char(sgs.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sgs.guarantee_period,
	sgs.contract_number,
	sgs.remarks,
	sgs.create_user_id,
	sgs.create_user_name,
	sgs.create_datetime,
	sgs.modify_user_id,
	sgs.modify_user_name,
	sgs.modify_datetime,
	sgs.active
FROM
	daq_s_material_generator_set sgs
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sgs.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sgs.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sgs.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sgs.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sgs.generator_set_type  
WHERE
	1 = 1
AND sgs.active = 1  @where_append  order by sgs.create_datetime desc', 'SELECT
	sgs.oid,
	sgs.project_oid,pro.project_name,
	sgs.tenders_oid,te.tenders_name, 
	sgs.pipeline_oid,pi.pipeline_name,
	sgs.pipe_station_oid,ps.pipe_station_name,
	sgs.device_code,
	sgs.device_name,
	sgs.generator_set_type,
	d.code_name as generator_set_type_name,
	sgs.material_code,
	sgs.specification_model,
	sgs.tag_number,
	sgs.manufacture_number,
	sgs.manufacturer,
	to_char(sgs.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	sgs.guarantee_period,
	sgs.contract_number,
	sgs.remarks,
	sgs.create_user_id,
	sgs.create_user_name,
	sgs.create_datetime,
	sgs.modify_user_id,
	sgs.modify_user_name,
	sgs.modify_datetime,
	sgs.active
FROM
	daq_s_material_generator_set sgs
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sgs.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sgs.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sgs.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sgs.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sgs.generator_set_type  WHERE sgs.oid = :oid AND sgs.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:43:40.247', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:28:19.276', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8a48761b-1d5b-412d-86ba-332cf71196d9', '液位开关', 'F000216', 'daq_station_level_gauge_switch', 'INSERT INTO daq_station_level_gauge_switch( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, set_value, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :set_value, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_level_gauge_switch SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, set_value=:set_value, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_level_gauge_switch SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_level_gauge_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_level_gauge_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 09:38:58.049', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:28:55.942', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8ae1d0cb-2905-474c-9352-e1492c192dad', '起重机安装', 'F000167', 'daq_station_crane', 'INSERT INTO daq_station_crane( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_crane SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_crane SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_crane sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_crane sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 09:24:38.948', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:09:39.793', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8b99e7e9-010a-477b-87b8-6b80139a4ebc', '放空火炬', 'F000093', 'daq_s_material_flare', 'INSERT INTO daq_s_material_flare( oid, project_oid, device_code, device_name, flare_type, classification_code, material_code, specification_model, design_life, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :flare_type, :classification_code, :material_code, :specification_model, :design_life, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_flare SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, flare_type=:flare_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, design_life=:design_life, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_flare SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.flare_type,
case when wc.flare_type=1 then ''拉绳式'' when wc.flare_type=2 then ''自立式'' end as flare_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.design_life,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM 
	daq_s_material_flare wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE 1 = 1 AND wc.active = 1 @where_append order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.flare_type,
case when wc.flare_type=1 then ''拉绳式'' when wc.flare_type=2 then ''自立式'' end as flare_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.design_life,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM 
	daq_s_material_flare wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 08:04:55.154', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:44:14.726', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8c583080-e7cf-483f-ad04-2ed0f91847ff', '法兰(站场)', 'F000136', 'daq_station_flange', 'INSERT INTO daq_station_flange( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, flange_code, front_connect_code, front_connect_method, back_connect_code, back_connect_method, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :flange_code, :front_connect_code, :front_connect_method, :back_connect_code, :back_connect_method, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_flange SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, flange_code=:flange_code, front_connect_code=:front_connect_code, front_connect_method=:front_connect_method, back_connect_code=:back_connect_code, back_connect_method=:back_connect_method, construct_datetime= (select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:create_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_flange SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.flange_code, sss.front_connect_code, sss.front_connect_method, sss.back_connect_code, sss.back_connect_method, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name, doma2.code_name as front_connect_method_name, doma3.code_name as back_connect_code_name
FROM daq_station_flange sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma2 ON doma2.code_id = sss.front_connect_method
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma3 ON doma3.code_id = sss.back_connect_method
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.flange_code, sss.front_connect_code, sss.front_connect_method, sss.back_connect_code, sss.back_connect_method, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name, doma2.code_name as front_connect_method_name, doma3.code_name as back_connect_code_name
FROM daq_station_flange sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma2 ON doma2.code_id = sss.front_connect_method
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''process_pipe_type_domain'' and active=1 ) doma3 ON doma3.code_id = sss.back_connect_method
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 06:33:46.202', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:49:30.136', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8d726526-5fd2-43dc-8098-e78d82efeb03', '会议电视设备', 'F000075', 'daq_s_material_video_conference', 'INSERT INTO daq_s_material_video_conference( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, vct_mode, material_code, classification_code, specification_model, tag_number, mcu_capability, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :vct_mode, :material_code, :classification_code, :specification_model, :tag_number, :mcu_capability, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_video_conference SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, vct_mode=:vct_mode, material_code=:material_code, classification_code=:classification_code, specification_model=:specification_model, tag_number=:tag_number, mcu_capability=:mcu_capability, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_video_conference SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.vct_mode, case when sss.vct_mode=1 then ''一体'' when sss.vct_mode=2 then ''分体'' end as vct_mode_name,
sss.material_code, sss.classification_code, sss.specification_model, sss.tag_number, sss.mcu_capability, case when sss.mcu_capability=1 then ''新建'' when sss.mcu_capability=2 then ''扩容'' end as mcu_capability_name,
sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM daq_s_material_video_conference sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.vct_mode, case when sss.vct_mode=1 then ''一体'' when sss.vct_mode=2 then ''分体'' end as vct_mode_name,
sss.material_code, sss.classification_code, sss.specification_model, sss.tag_number, sss.mcu_capability, case when sss.mcu_capability=1 then ''新建'' when sss.mcu_capability=2 then ''扩容'' end as mcu_capability_name,
sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM daq_s_material_video_conference sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 05:57:07.989', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:31:48.391', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8dca5a87-9c58-4c18-8cc3-7baff340479e', '光纤通信系统', 'F000222', 'daq_station_fo_communication_sys', 'INSERT INTO daq_station_fo_communication_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_fo_communication_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_fo_communication_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_fo_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_fo_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 05:58:35.102', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:31:07.492', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8dd9895c-6710-4b6f-b156-56ca663ab063', '储罐网壳', 'F000168', 'daq_station_storage_tank_latticed_shell', 'INSERT INTO daq_station_storage_tank_latticed_shell( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, latticed_shell_model, latticed_shell_structure, test_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :latticed_shell_model, :latticed_shell_structure, :test_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_latticed_shell SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, latticed_shell_model=:latticed_shell_model, latticed_shell_structure=:latticed_shell_structure, test_result=:test_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_latticed_shell SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.storage_tank_oid,
	sst.device_code,
	sta.latticed_shell_model,
	sta.latticed_shell_structure,
	sta.test_result,
	case when sta.test_result = 0 then ''不合格'' when sta.test_result= 1 then ''合格'' else '''' end as test_result_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_storage_tank_latticed_shell sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, device_code, active from daq_station_storage_tank where active=1) sst on sst.oid = sta.storage_tank_oid 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.storage_tank_oid,
	sst.device_code,
	sta.latticed_shell_model,
	sta.latticed_shell_structure,
	sta.test_result,
	case when sta.test_result = 0 then ''不合格'' when sta.test_result= 1 then ''合格'' else '''' end as test_result_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_storage_tank_latticed_shell sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, device_code, active from daq_station_storage_tank where active=1) sst on sst.oid = sta.storage_tank_oid 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 09:59:45.349', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 11:12:56.497', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('8ff6c21c-7d50-4327-a8a4-37c6f3faa119', 'sdaaaaaaaaaaaaaaaaa', 'F000012', 'pg_attrdef', 'INSERT INTO custom_fun_function pg_attrdef( adrelid, adnum, adbin, adsrc ) VALUES ( :adrelid, :adnum, :adbin, :adsrc )', 'UPDATE pg_attrdef SET adrelid=:adrelid, adnum=:adnum, adbin=:adbin, adsrc=:adsrc WHERE  = :', 'UPDATE pg_attrdef SET ACTIVE = 0 WHERE  = :', 'SELECT adrelid, adnum, adbin, adsrc FROM pg_attrdef WHERE 1 = 1  @where_append ', 'SELECT adrelid, adnum, adbin, adsrc FROM pg_attrdef WHERE  = :', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 13:44:10.693', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:23.482', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('90a8d3c4-5dfe-48a5-9798-26c87451ac27', '清管器收发球装置装置表', 'F000049', 'daq_static_receiver_launcher_device', 'INSERT INTO daq_static_receiver_launcher_device( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, main_tube_length, device_type, length_from_equip_to_board, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :main_tube_length, :device_type, :length_from_equip_to_board, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime )', 'UPDATE daq_static_receiver_launcher_device SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, main_tube_length=:main_tube_length, device_type=:device_type, length_from_equip_to_board=:length_from_equip_to_board, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_static_receiver_launcher_device SET active = 0 WHERE oid = :oid', 'SELECT srld.oid,srld.project_oid,srld.tenders_oid,srld.pipeline_oid,srld.pipe_station_oid,srld.device_code,srld.device_name,srld.manufacture_number,srld.main_tube_length,srld.device_type, srld.length_from_equip_to_board,to_char(srld.construct_date, ''YYYY-MM-DD'') as construct_date,srld.construct_unit,srld.supervision_unit,srld.supervision_engineer,srld.collection_person, to_char(srld.collection_date, ''YYYY-MM-DD'') as collection_date,case when srld.approve_status = -1 then ''驳回'' when srld.approve_status = 1 then ''待审核'' when srld.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,srld.approve_status,srld.remarks,srld.create_user_id,srld.create_user_name,srld.create_datetime,srld.modify_user_id,srld.modify_user_name, srld.modify_datetime, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,srld.active FROM daq_static_receiver_launcher_device  srld  LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = srld.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = srld.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = srld.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=srld.pipe_station_oid  LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = srld.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = srld.construct_unit WHERE 1 = 1 AND srld.active = 1 @where_append and @privilege_strategy_sql order by srld.create_datetime desc', 'SELECT srld.oid,srld.project_oid,srld.tenders_oid,srld.pipeline_oid,srld.pipe_station_oid,srld.device_code,srld.device_name,srld.manufacture_number,srld.main_tube_length,srld.device_type, srld.length_from_equip_to_board,to_char(srld.construct_date, ''YYYY-MM-DD'') as construct_date,srld.construct_unit,srld.supervision_unit,srld.supervision_engineer,srld.collection_person, to_char(srld.collection_date, ''YYYY-MM-DD'') as collection_date,case when srld.approve_status = -1 then ''驳回'' when srld.approve_status = 1 then ''待审核'' when srld.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,srld.approve_status,srld.remarks,srld.create_user_id,srld.create_user_name,srld.create_datetime,srld.modify_user_id,srld.modify_user_name, srld.modify_datetime, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,srld.active FROM daq_static_receiver_launcher_device  srld  LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = srld.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = srld.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = srld.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=srld.pipe_station_oid  LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = srld.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = srld.construct_unit WHERE srld.oid = :oid AND srld.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-11-9 02:09:40.433', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 08:01:56.608', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('9589228a-3cb4-4803-b5cb-282c7b90c66a', '66', 'F000010', 'test_pipeline', 'INSERT INTO custom_fun_function test_pipeline( oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_diameter, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, order_num, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :pipeline_name, :pipeline_code, :project_oid, :pipeline_type, :pipeline_length, :pipeline_diameter, :pipeline_grade, :design_pressure, :start_point, :end_point, :design_flowrate, :order_num, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE test_pipeline SET oid=:oid, pipeline_name=:pipeline_name, pipeline_code=:pipeline_code, project_oid=:project_oid, pipeline_type=:pipeline_type, pipeline_length=:pipeline_length, pipeline_diameter=:pipeline_diameter, pipeline_grade=:pipeline_grade, design_pressure=:design_pressure, start_point=:start_point, end_point=:end_point, design_flowrate=:design_flowrate, order_num=:order_num, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE test_pipeline SET active = 0 WHERE oid = :oid', 'SELECT oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_diameter, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, order_num, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_pipeline WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, pipeline_name, pipeline_code, project_oid, pipeline_type, pipeline_length, pipeline_diameter, pipeline_grade, design_pressure, start_point, end_point, design_flowrate, order_num, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM test_pipeline WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 18:35:18.084', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:27.59', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('95cf9a97-de88-4604-bbbc-2002d403a196', 'PA/GA广播设备', 'F000256', 'daq_station_pa_or_ga_broadcast', 'INSERT INTO daq_station_pa_or_ga_broadcast( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pa_or_ga_broadcast SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pa_or_ga_broadcast SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_pa_or_ga_broadcast sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_pa_or_ga_broadcast sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 16:28:36.226', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 16:01:47.267', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('969a45cd-2767-4552-bc70-17c622215783', '三通信息表', 'F000026', 'daq_material_tee', 'INSERT INTO daq_material_tee( oid, tee_code, certification_num, specification, material, steel_grade, is_stop, oven_num, batch_num, coating_type, pipe_wall_thickness, pipe_diameter, branch_wall_thickness, branch_diameter, manufacturer, manufacturer_date, project_oid, pipeline_oid, tenders_oid, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ,construct_unit) VALUES ( :oid, :tee_code, :certification_num, :specification, :material, :steel_grade, :is_stop, :oven_num, :batch_num, :coating_type, :pipe_wall_thickness, :pipe_diameter, :branch_wall_thickness, :branch_diameter, :manufacturer, (select :manufacturer_date::timestamp), :project_oid, :pipeline_oid, :tenders_oid, :remarks, :current_user_id, :current_user_name, (select :current_datetime::timestamp), :current_user_id, :current_user_name, (select :current_datetime::timestamp), :active ,:current_unit_id)', 'UPDATE daq_material_tee SET oid=:oid, tee_code=:tee_code, certification_num=:certification_num, specification=:specification, material=:material, steel_grade=:steel_grade, is_stop=:is_stop, oven_num=:oven_num, batch_num=:batch_num, coating_type=:coating_type, pipe_wall_thickness=:pipe_wall_thickness, pipe_diameter=:pipe_diameter, branch_wall_thickness=:branch_wall_thickness, branch_diameter=:branch_diameter, manufacturer=:manufacturer, manufacturer_date=(select :manufacturer_date::timestamp), project_oid=:project_oid, pipeline_oid=:pipeline_oid, tenders_oid=:tenders_oid, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=(select :current_datetime::timestamp), active=:active WHERE oid =:oid AND active = 1', 'UPDATE daq_material_tee SET active = 0 WHERE oid = :oid', 'SELECT mt.commit_status, mt.oid, mt.project_oid, pro.project_name, mt.pipeline_oid, pi.pipeline_name, mt.tenders_oid, te.tenders_name, mt.tee_code, mt.certification_num, mt.specification, mt.material, dm.code_name as material_name, mt.steel_grade, d.code_name as steel_grade_name,	case when mt.is_stop = ''1'' then ''是'' when mt.is_stop = ''0'' then ''否'' else '''' END as is_stop, mt.oven_num, mt.batch_num, mt.coating_type, mt.pipe_wall_thickness, mt.pipe_diameter, mt.branch_wall_thickness, mt.branch_diameter, mt.manufacturer, to_char(mt.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date, case when is_use=''1'' then ''是'' else ''否'' END as is_use, mt.remarks, mt.create_user_id, mt.create_user_name, mt.create_datetime, mt.modify_user_id, mt.modify_user_name, mt.modify_datetime, mt.active FROM daq_material_tee mt LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mt.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mt.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mt.tenders_oid LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mt.steel_grade LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dm ON dm.code_id = mt.material WHERE mt.active = 1 @where_append and @privilege_strategy_sql order by mt.create_datetime,mt.tee_code desc', 'SELECT mt.oid, mt.project_oid, pro.project_name, mt.pipeline_oid, pi.pipeline_name, mt.tenders_oid, te.tenders_name, mt.tee_code, mt.certification_num, mt.specification, mt.material, dm.code_name as material_name, mt.steel_grade, d.code_name as steel_grade_name, case when mt.is_stop = ''1'' then ''是'' when mt.is_stop = ''0'' then ''否'' else '''' END as is_stop, mt.oven_num, mt.batch_num, mt.coating_type, mt.pipe_wall_thickness, mt.pipe_diameter, mt.branch_wall_thickness, mt.branch_diameter, mt.manufacturer, to_char(mt.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date, case when is_use=''1'' then ''是'' else ''否'' END as is_use, mt.remarks, mt.create_user_id, mt.create_user_name, mt.create_datetime, mt.modify_user_id, mt.modify_user_name, mt.modify_datetime, mt.active FROM daq_material_tee mt LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mt.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mt.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mt.tenders_oid LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mt.steel_grade LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dm ON dm.code_id = mt.material WHERE mt.oid = :oid AND mt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-29 14:18:54.313', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-21 15:31:32.359', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('96f46ad5-55d4-4cfa-8053-0bced701a347', '语音交换设备', 'F000083', 'daq_s_material_telephone_exchange', 'INSERT INTO daq_s_material_telephone_exchange( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, device_type, classification_code, material_code, specification_model, tag_number, pbx_sysmode, pbx_function_mode, core_pbx, ip_telephone_quantity, telephone_quantity, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :device_type, :classification_code, :material_code, :specification_model, :tag_number, :pbx_sysmode, :pbx_function_mode, :core_pbx, :ip_telephone_quantity, :telephone_quantity, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_telephone_exchange SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, device_type=:device_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, pbx_sysmode=:pbx_sysmode, pbx_function_mode=:pbx_function_mode, core_pbx=:core_pbx, ip_telephone_quantity=:ip_telephone_quantity, telephone_quantity=:telephone_quantity, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_telephone_exchange SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.device_type, case when sss.device_type=1 then ''IAD'' when sss.device_type=2 then ''接入网关'' when sss.device_type=3 then ''IAD&接入网关'' end as device_type_name, 
sss.classification_code, sss.material_code, sss.specification_model, sss.tag_number, sss.pbx_sysmode, case when sss.pbx_sysmode=1 then ''软交换'' when sss.pbx_sysmode=2 then ''程控交换'' end as pbx_sysmode_name, sss.pbx_function_mode, case when sss.pbx_function_mode=1 then ''调度'' when sss.pbx_function_mode=2 then ''行政'' when sss.pbx_function_mode=3 then ''行调一体'' end as pbx_function_mode_name, sss.core_pbx, case when sss.core_pbx=1 then ''新建'' when sss.core_pbx=2 then ''扩容'' end as core_pbx_name, sss.ip_telephone_quantity, sss.telephone_quantity, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_telephone_exchange sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.device_type, case when sss.device_type=1 then ''IAD'' when sss.device_type=2 then ''接入网关'' when sss.device_type=3 then ''IAD&接入网关'' end as device_type_name, 
sss.classification_code, sss.material_code, sss.specification_model, sss.tag_number, sss.pbx_sysmode, case when sss.pbx_sysmode=1 then ''软交换'' when sss.pbx_sysmode=2 then ''程控交换'' end as pbx_sysmode_name, sss.pbx_function_mode, case when sss.pbx_function_mode=1 then ''调度'' when sss.pbx_function_mode=2 then ''行政'' when sss.pbx_function_mode=3 then ''行调一体'' end as pbx_function_mode_name, sss.core_pbx, case when sss.core_pbx=1 then ''新建'' when sss.core_pbx=2 then ''扩容'' end as core_pbx_name, sss.ip_telephone_quantity, sss.telephone_quantity, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_telephone_exchange sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:39:29.52', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-18 16:29:18.341', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('97dbd1bd-9a57-4ab8-bdb7-d2c47fdc7328', '防闯入设备', 'F000251', 'daq_station_anti_intruding', 'INSERT INTO daq_station_anti_intruding( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des,(select :construct_date::timestamp) , :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_anti_intruding SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_anti_intruding SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_anti_intruding wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_anti_intruding wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:52:21.965', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 10:25:57.647', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('9b16d246-c21a-4eea-bef1-064b91b8f444', '雷凯测试', 'F000008', 'daq_power_line', 'INSERT INTO custom_fun_function daq_power_line( oid, power_line_name, power_line_code, project_oid, pipeline_oid, power_supply_name, line_length, tower_type, tower_total, province, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :power_line_name, :power_line_code, :project_oid, :pipeline_oid, :power_supply_name, :line_length, :tower_type, :tower_total, :province, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_power_line SET oid=:oid, power_line_name=:power_line_name, power_line_code=:power_line_code, project_oid=:project_oid, pipeline_oid=:pipeline_oid, power_supply_name=:power_supply_name, line_length=:line_length, tower_type=:tower_type, tower_total=:tower_total, province=:province, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_power_line SET active = 0 WHERE oid = :oid', 'SELECT oid, power_line_name, power_line_code, project_oid, pipeline_oid, power_supply_name, line_length, tower_type, tower_total, province, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_power_line WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, power_line_name, power_line_code, project_oid, pipeline_oid, power_supply_name, line_length, tower_type, tower_total, province, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_power_line WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 17:23:44.845', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:31.62', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('9fb71b04-89f8-4c20-b8f2-4d817fe56644', '储罐保温', 'F000165', 'daq_station_storage_tank_insulating', 'INSERT INTO daq_station_storage_tank_insulating( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, insulating_material, insulating_material_thickness, outside_structure, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :insulating_material, :insulating_material_thickness, :outside_structure, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_insulating SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, insulating_material=:insulating_material, insulating_material_thickness=:insulating_material_thickness, outside_structure=:outside_structure, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_insulating SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.insulating_material, sss.insulating_material_thickness, sss.outside_structure, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name  
FROM daq_station_storage_tank_insulating sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.insulating_material, sss.insulating_material_thickness, sss.outside_structure, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name  
FROM daq_station_storage_tank_insulating sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 08:56:55.234', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:42:12.566', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('9fbdbb38-3aa2-4977-a697-be99e3e0137b', '光纤通信设备', 'F000223', 'daq_station_fo_communication', 'INSERT INTO daq_station_fo_communication( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_fo_communication SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_fo_communication SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name, 
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_fo_communication sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_fo_communication sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 10:22:15.244', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:30:45.819', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('9fcbb590-965d-42fb-a4c5-b1c3c4f69840', '远程监视系统', 'F000193', 'daq_station_remote_supervisory_system', 'INSERT INTO daq_station_remote_supervisory_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_remote_supervisory_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_remote_supervisory_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_remote_supervisory_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_remote_supervisory_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:08:45.013', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:43:38.198', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a1545160-124b-448b-aafa-216643b012f7', '差压变送器', 'F000076', 'daq_s_material_pressure_difference_transmitter', 'INSERT INTO daq_s_material_pressure_difference_transmitter( oid, project_oid,  device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_pressure_difference_transmitter SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_pressure_difference_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	mpdt.oid,
	mpdt.project_oid,pro.project_name,
	mpdt.tenders_oid,te.tenders_name, 
	mpdt.pipeline_oid,pi.pipeline_name,
	mpdt.pipe_station_oid,ps.pipe_station_name,
	mpdt.device_code,
	mpdt.device_name,
	mpdt.equipment_type,
	mpdt.desin_pressure,
	d.code_name as desin_pressure_name,
	mpdt.classification_code,
	mpdt.material_code,
	mpdt.specification_model,
	mpdt.tag_number,
	mpdt.manufacture_number,
	mpdt.manufacturer,
	to_char(mpdt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpdt.guarantee_period,
	mpdt.contract_number,
	mpdt.remarks,
	mpdt.create_user_id,
	mpdt.create_user_name,
	mpdt.create_datetime,
	mpdt.modify_user_id,
	mpdt.modify_user_name,
	mpdt.modify_datetime,
	mpdt.active
FROM
	daq_s_material_pressure_difference_transmitter mpdt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpdt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpdt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpdt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpdt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpdt.desin_pressure 
WHERE
	1 = 1
AND mpdt.active = 1  @where_append  order by mpdt.create_datetime desc', 'SELECT
	mpdt.oid,
	mpdt.project_oid,pro.project_name,
	mpdt.tenders_oid,te.tenders_name, 
	mpdt.pipeline_oid,pi.pipeline_name,
	mpdt.pipe_station_oid,ps.pipe_station_name,
	mpdt.device_code,
	mpdt.device_name,
	mpdt.equipment_type,
	mpdt.desin_pressure,
	d.code_name as desin_pressure_name,
	mpdt.classification_code,
	mpdt.material_code,
	mpdt.specification_model,
	mpdt.tag_number,
	mpdt.manufacture_number,
	mpdt.manufacturer,
	to_char(mpdt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpdt.guarantee_period,
	mpdt.contract_number,
	mpdt.remarks,
	mpdt.create_user_id,
	mpdt.create_user_name,
	mpdt.create_datetime,
	mpdt.modify_user_id,
	mpdt.modify_user_name,
	mpdt.modify_datetime,
	mpdt.active
FROM
	daq_s_material_pressure_difference_transmitter mpdt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpdt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpdt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpdt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpdt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpdt.desin_pressure  WHERE mpdt.oid = :oid AND mpdt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 05:59:21.03', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:21:01.376', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a193aa7f-8cf7-4616-a21e-1a6b32683f60', '管壳式热交换器安装', 'F000158', 'daq_station_tube_heat_exchanger', 'INSERT INTO daq_station_tube_heat_exchanger( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, running_record_datetime, ambient_temperature, entrance_pressure, entrance_temperature, exit_pressure, exit_temperature, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :running_record_datetime::timestamp), :ambient_temperature, :entrance_pressure, :entrance_temperature, :exit_pressure, :exit_temperature, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_exchanger set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_exchanger set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_tube_heat_exchanger where oid=:oid);
UPDATE daq_station_tube_heat_exchanger SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, running_record_datetime=(select :running_record_datetime::timestamp), ambient_temperature=:ambient_temperature, entrance_pressure=:entrance_pressure, entrance_temperature=:entrance_temperature, exit_pressure=:exit_pressure, exit_temperature=:exit_temperature, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_exchanger set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_tube_heat_exchanger SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sta.running_record_datetime, ''YYYY-MM-DD'') as running_record_datetime,
	sta.ambient_temperature,
	sta.entrance_pressure,
	sta.entrance_temperature,
	sta.exit_pressure,
	sta.exit_temperature,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_tube_heat_exchanger sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_exchanger where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sta.running_record_datetime, ''YYYY-MM-DD'') as running_record_datetime,
	sta.ambient_temperature,
	sta.entrance_pressure,
	sta.entrance_temperature,
	sta.exit_pressure,
	sta.exit_temperature,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	sta.construct_unit,
	u.unit_name as construct_unit_name,
	sta.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sta.supervision_engineer,
	sta.collection_person,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	sta.approve_status,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active
FROM
	daq_station_tube_heat_exchanger sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_exchanger where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 06:44:41.883', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:29:10.667', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a252c804-6602-44d7-8138-9da42c7c7214', 'a', 'F000258', 'a', 'INSERT INTO a( aaa ) VALUES ( :aaa )', 'UPDATE a SET aaa=:aaa WHERE  = :', 'UPDATE a SET ACTIVE = 0 WHERE  = :', 'SELECT aaa FROM a WHERE 1 = 1  @where_append ', 'SELECT aaa FROM a WHERE  = :', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:11:42.248', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 16:13:16.51', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a3072550-8f38-4404-95c5-f2d12018517f', '埋地罐安装', 'F000155', 'daq_station_buried_tank', 'INSERT INTO daq_station_buried_tank( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_buried_tank SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_buried_tank SET active = 0 WHERE oid = :oid', 'SELECT
	sbt.oid,
	sbt.project_oid,pro.project_name,
	sbt.tenders_oid,te.tenders_name, 
	sbt.pipeline_oid,pi.pipeline_name,
	sbt.pipe_station_oid,ps.pipe_station_name,
	sbt.device_code,
	sbt.device_name,
	sbt.manufacture_number,
	to_char(sbt.construct_date, ''YYYY-MM-DD'') as construct_date,
	sbt.construct_unit,
	u.unit_name as construct_unit_name,
	sbt.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sbt.supervision_engineer,
	sbt.collection_person,
	to_char(sbt.collection_date, ''YYYY-MM-DD'') as collection_date,
	sbt.approve_status,
	case when sbt.approve_status = -1 then ''驳回'' when sbt.approve_status = 1 then ''待审核'' when sbt.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sbt.remarks,
	sbt.create_user_id,
	sbt.create_user_name,
	sbt.create_datetime,
	sbt.modify_user_id,
	sbt.modify_user_name,
	sbt.modify_datetime,
	sbt.active
FROM
	daq_station_buried_tank sbt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sbt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sbt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sbt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sbt.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sbt.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sbt.construct_unit 
WHERE
	1 = 1
AND sbt.active = 1 @where_append and @privilege_strategy_sql  order by sbt.create_datetime desc', 'SELECT
	sbt.oid,
	sbt.project_oid,pro.project_name,
	sbt.tenders_oid,te.tenders_name, 
	sbt.pipeline_oid,pi.pipeline_name,
	sbt.pipe_station_oid,ps.pipe_station_name,
	sbt.device_code,
	sbt.device_name,
	sbt.manufacture_number,
	to_char(sbt.construct_date, ''YYYY-MM-DD'') as construct_date,
	sbt.construct_unit,
	u.unit_name as construct_unit_name,
	sbt.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sbt.supervision_engineer,
	sbt.collection_person,
	to_char(sbt.collection_date, ''YYYY-MM-DD'') as collection_date,
	sbt.approve_status,
	case when sbt.approve_status = -1 then ''驳回'' when sbt.approve_status = 1 then ''待审核'' when sbt.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sbt.remarks,
	sbt.create_user_id,
	sbt.create_user_name,
	sbt.create_datetime,
	sbt.modify_user_id,
	sbt.modify_user_name,
	sbt.modify_datetime,
	sbt.active
FROM
	daq_station_buried_tank sbt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sbt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sbt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sbt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sbt.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sbt.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sbt.construct_unit 
WHERE sbt.oid = :oid AND sbt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 05:35:12.836', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:11:23.135', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a54c5f09-2150-4fdc-b111-5e2b12a2884c', '周界入侵报警前端设备', 'F000234', 'daq_station_front_alarm', 'INSERT INTO daq_station_front_alarm( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_front_alarm SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_front_alarm SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_front_alarm wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_front_alarm wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 05:46:25.942', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-2-25 17:44:29.419', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a685cb30-eb4d-4e07-80fb-7e6236c0b6fe', '测试_项目管理表', 'F000058', 'daq_project', 'INSERT INTO daq_project( oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_name, :project_code, :pipe_network_type_code, :medium_type_code, :construct, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_project SET oid=:oid, project_name=:project_name, project_code=:project_code, pipe_network_type_code=:pipe_network_type_code, medium_type_code=:medium_type_code, construct=:construct, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 10:35:08.295', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-26 10:56:45.493', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a6accc2d-bad3-495f-8a82-5f9c4cb4aba9', '消气器安装', 'F000134', 'daq_station_air_eliminater', 'INSERT INTO daq_station_air_eliminater( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, pressure_test_datetime, test_pressure, test_describe, test_conclusion, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, construct_date ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :pressure_test_datetime::timestamp), :test_pressure, :test_describe, :test_conclusion, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, (select :construct_date::timestamp) );
update daq_s_material_air_eliminater set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_air_eliminater set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_air_eliminater where oid=:oid);
UPDATE daq_station_air_eliminater SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, pressure_test_datetime=(select :pressure_test_datetime::timestamp), test_pressure=:test_pressure, test_describe=:test_describe, test_conclusion=:test_conclusion, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, construct_date=(select :construct_date::timestamp) WHERE oid = :oid AND active = 1;
update daq_s_material_air_eliminater set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_air_eliminater SET active = 0 WHERE oid = :oid', 'SELECT
	sae.oid,
	sae.project_oid,pro.project_name,
	sae.tenders_oid,te.tenders_name, 
	sae.pipeline_oid,pi.pipeline_name,
	sae.pipe_station_oid,ps.pipe_station_name,
	sae.device_code,
	sae.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sae.pressure_test_datetime, ''YYYY-MM-DD'') as pressure_test_datetime,
	sae.test_pressure,
	sae.test_describe,
	sae.test_conclusion,
	sae.construct_unit,
	u.unit_name as construct_unit_name,
	sae.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sae.supervision_engineer,
	sae.collection_person,
	to_char(sae.collection_date, ''YYYY-MM-DD'') as collection_date,
	sae.approve_status,
	case when sae.approve_status = -1 then ''驳回'' when sae.approve_status = 1 then ''待审核'' when sae.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sae.remarks,
	sae.create_user_id,
	sae.create_user_name,
	sae.create_datetime,
	sae.modify_user_id,
	sae.modify_user_name,
	sae.modify_datetime,
	sae.active,
	to_char(sae.construct_date, ''YYYY-MM-DD'') as construct_date
FROM
	daq_station_air_eliminater sae
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sae.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sae.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sae.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sae.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sae.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sae.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_air_eliminater where active=1) mac on mac.oid = sae.manufacture_number 
WHERE
	1 = 1
AND sae.active = 1 @where_append and @privilege_strategy_sql  order by sae.create_datetime desc', 'SELECT
	sae.oid,
	sae.project_oid,pro.project_name,
	sae.tenders_oid,te.tenders_name, 
	sae.pipeline_oid,pi.pipeline_name,
	sae.pipe_station_oid,ps.pipe_station_name,
	sae.device_code,
	sae.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sae.pressure_test_datetime, ''YYYY-MM-DD'') as pressure_test_datetime,
	sae.test_pressure,
	sae.test_describe,
	sae.test_conclusion,
	sae.construct_unit,
	u.unit_name as construct_unit_name,
	sae.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sae.supervision_engineer,
	sae.collection_person,
	to_char(sae.collection_date, ''YYYY-MM-DD'') as collection_date,
	sae.approve_status,
	case when sae.approve_status = -1 then ''驳回'' when sae.approve_status = 1 then ''待审核'' when sae.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sae.remarks,
	sae.create_user_id,
	sae.create_user_name,
	sae.create_datetime,
	sae.modify_user_id,
	sae.modify_user_name,
	sae.modify_datetime,
	sae.active,
	to_char(sae.construct_date, ''YYYY-MM-DD'') as construct_date
FROM
	daq_station_air_eliminater sae
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sae.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sae.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sae.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sae.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sae.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sae.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_air_eliminater where active=1) mac on mac.oid = sae.manufacture_number 
WHERE sae.oid = :oid AND sae.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 14:09:02.716', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:16:51.957', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a6b91198-217c-4cc6-a7b9-b6598b6bb321', '温度变送器', 'F000072', 'daq_s_material_temperature_transmitter', 'INSERT INTO daq_s_material_temperature_transmitter( oid, project_oid, device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_temperature_transmitter SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_temperature_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	mtt.oid,
	mtt.project_oid,pro.project_name,
	mtt.tenders_oid,te.tenders_name, 
	mtt.pipeline_oid,pi.pipeline_name,
	mtt.pipe_station_oid,ps.pipe_station_name,
	mtt.device_code,
	mtt.device_name,
	mtt.equipment_type,
	mtt.desin_pressure,
	d.code_name as desin_pressure_name,
	mtt.classification_code,
	mtt.material_code,
	mtt.specification_model,
	mtt.tag_number,
	mtt.manufacture_number,
	mtt.manufacturer,
	to_char(mtt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mtt.guarantee_period,
	mtt.contract_number,
	mtt.remarks,
	mtt.create_user_id,
	mtt.create_user_name,
	mtt.create_datetime,
	mtt.modify_user_id,
	mtt.modify_user_name,
	mtt.modify_datetime,
	mtt.active
FROM
	daq_s_material_temperature_transmitter mtt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mtt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mtt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mtt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mtt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mtt.desin_pressure 
WHERE
	1 = 1
AND mtt.active = 1  @where_append  order by mtt.create_datetime desc', 'SELECT
	mtt.oid,
	mtt.project_oid,pro.project_name,
	mtt.tenders_oid,te.tenders_name, 
	mtt.pipeline_oid,pi.pipeline_name,
	mtt.pipe_station_oid,ps.pipe_station_name,
	mtt.device_code,
	mtt.device_name,
	mtt.equipment_type,
	mtt.desin_pressure,
	d.code_name as desin_pressure_name,
	mtt.classification_code,
	mtt.material_code,
	mtt.specification_model,
	mtt.tag_number,
	mtt.manufacture_number,
	mtt.manufacturer,
	to_char(mtt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mtt.guarantee_period,
	mtt.contract_number,
	mtt.remarks,
	mtt.create_user_id,
	mtt.create_user_name,
	mtt.create_datetime,
	mtt.modify_user_id,
	mtt.modify_user_name,
	mtt.modify_datetime,
	mtt.active
FROM
	daq_s_material_temperature_transmitter mtt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mtt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mtt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mtt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mtt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mtt.desin_pressure  WHERE mtt.oid = :oid AND mtt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 03:36:27.157', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:21:22.197', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a6f79377-3956-4deb-b239-bb2e461c6195', '法兰信息表', 'F000029', 'daq_material_flange', 'INSERT INTO daq_material_flange(project_oid, oid, flange_code, flange_type, material, pressure_grade, specification, criterion, connection_methods, coating_methods, manufacturer, manufacturer_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, construct_unit) VALUES (:project_oid, :oid, :flange_code, :flange_type, :material, :pressure_grade, :specification, :criterion, :connection_methods, :coating_methods, :manufacturer, (select :manufacturer_date::timestamp), :remarks, :current_user_id, :current_user_name, (select :current_datetime::timestamp), :current_user_id, :current_user_name, (select :current_datetime::timestamp), :active ,:current_unit_id)', 'UPDATE daq_material_flange SET project_oid=:project_oid, oid=:oid, flange_code=:flange_code, flange_type=:flange_type, material=:material, pressure_grade=:pressure_grade, specification=:specification, criterion=:criterion, connection_methods=:connection_methods, coating_methods=:coating_methods, manufacturer=:manufacturer, manufacturer_date=(select :manufacturer_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name,  modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=(select :current_datetime::timestamp), active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_material_flange SET active = 0 WHERE oid = :oid', 'SELECT mf.commit_status, mf.oid,	mf.project_oid,	pro.project_name, mf.pipeline_oid, pi.pipeline_name, mf.tenders_oid, te.tenders_name, mf.flange_code, mf.flange_type, mf.material, mf.pressure_grade, d.code_name as pressure_grade_name,	mf.specification,	mf.criterion,	mf.connection_methods,	dm.code_name as connection_methods_name, mf.coating_methods, dom.code_name as coating_methods_name,	mf.manufacturer, to_char(mf.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date, case when is_use=''1'' then ''是'' else ''否'' END as is_use, mf.remarks,	mf.create_user_id,	mf.create_user_name,	mf.create_datetime,	mf.modify_user_id,	mf.modify_user_name,	mf.modify_datetime,	mf.active FROM daq_material_flange mf LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mf.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mf.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mf.tenders_oid LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mf.pressure_grade LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dm ON dm.code_id = mf.connection_methods LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dom ON dom.code_id = mf.coating_methods WHERE mf.active = 1 @where_append and @privilege_strategy_sql order by mf.create_datetime,mf.flange_code desc', 'SELECT mf.oid,	mf.project_oid,	pro.project_name,	mf.pipeline_oid,	pi.pipeline_name, 	mf.tenders_oid,	te.tenders_name, 	mf.flange_code,	mf.flange_type,	mf.material,	mf.pressure_grade,	d.code_name as pressure_grade_name,	mf.specification,	mf.criterion,	mf.connection_methods,	dm.code_name as connection_methods_name,	mf.coating_methods,	dom.code_name as coating_methods_name,	mf.manufacturer, to_char(mf.manufacturer_date, ''YYYY-MM-DD'') as manufacturer_date, case when is_use=''1'' then ''是'' else ''否'' END as is_use,	mf.remarks,	mf.create_user_id,	mf.create_user_name,	mf.create_datetime,	mf.modify_user_id,	mf.modify_user_name,	mf.modify_datetime,	mf.active FROM daq_material_flange mf LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mf.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mf.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mf.tenders_oid LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where active=1) d ON d.code_id = mf.pressure_grade LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dm ON dm.code_id = mf.connection_methods LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain) dom ON dom.code_id = mf.coating_methods WHERE	mf.oid = :oid AND mf.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-2 08:55:59.354', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-11 16:51:00.333', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a76e380f-686a-4a68-ad33-b8c73fdc3195', '阻火器', 'F000140', 'daq_station_flame_arrester', 'INSERT INTO daq_station_flame_arrester( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, flame_arrester_code, flame_arrester_name, manufacture_number, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :flame_arrester_code, :flame_arrester_name, :manufacture_number, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_flame_arrester SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, flame_arrester_code=:flame_arrester_code, flame_arrester_name=:flame_arrester_name, manufacture_number=:manufacture_number, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_flame_arrester SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.flame_arrester_code, sss.flame_arrester_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_flame_arrester  sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.flame_arrester_code, sss.flame_arrester_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_flame_arrester  sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 07:35:11.917', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:48:04.074', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('a81933f5-7407-4f4f-8927-017723becee1', 'SDH光纤通信设备', 'F000067', 'daq_s_material_sdh_fiber_transmission', 'INSERT INTO daq_s_material_sdh_fiber_transmission( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, material_code, classification_code, specification_model, tag_number, nms_mode, clock_system_mode, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :material_code, :classification_code, :specification_model, :tag_number, :nms_mode, :clock_system_mode, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_sdh_fiber_transmission SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, classification_code=:classification_code, specification_model=:specification_model, tag_number=:tag_number, nms_mode=:nms_mode, clock_system_mode=:clock_system_mode, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_sdh_fiber_transmission SET active = 0 WHERE oid = :oid', 'SELECT sss.oid,
       sss.project_oid,
       sss.tenders_oid,
       sss.pipeline_oid,
       sss.pipe_station_oid,
       sss.device_code,
       sss.device_name,
       sss.material_code,
       sss.classification_code,
       sss.specification_model,
       sss.tag_number,
       sss.nms_mode,
	   	  sss.clock_system_mode,
       case when sss.clock_system_mode=1 then ''新建'' when sss.clock_system_mode=2 then ''纳入已有网管'' end as clock_system_mode_name,
       sss.manufacture_number,
       sss.manufacturer,
       to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
       sss.guarantee_period,
       sss.contract_number,
       sss.remarks,
       sss.create_user_id,
       sss.create_user_name,
       sss.create_datetime,
       sss.modify_user_id,
       sss.modify_user_name,
       sss.modify_datetime,
       sss.active,
       pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name nms_mode_name
FROM  daq_s_material_sdh_fiber_transmission sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''nms_mode_domain'' and active=1 ) doma ON doma.code_id = sss.nms_mode	
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid,
     sss.project_oid,
     sss.tenders_oid,
     sss.pipeline_oid,
     sss.pipe_station_oid,
     sss.device_code,
     sss.device_name,
     sss.material_code,
     sss.classification_code,
     sss.specification_model,
     sss.tag_number,
     sss.nms_mode,
	   sss.clock_system_mode,
     case when sss.clock_system_mode=1 then ''新建'' when sss.clock_system_mode=2 then ''纳入已有网管'' end as clock_system_mode_name,
     sss.manufacture_number,
     sss.manufacturer,
     to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
     sss.guarantee_period,
     sss.contract_number,
     sss.remarks,
     sss.create_user_id,
     sss.create_user_name,
     sss.create_datetime,
     sss.modify_user_id,
     sss.modify_user_name,
     sss.modify_datetime,
     sss.active,
     pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name nms_mode_name
FROM  daq_s_material_sdh_fiber_transmission sss
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
	LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''nms_mode_domain'' and active=1 ) doma ON doma.code_id = sss.nms_mode	
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 02:27:03.258', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:31:22.256', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('aa801f5f-8a4f-4cda-ab10-86f9aa54f15c', '开孔', 'F000142', 'daq_station_open_hole', 'INSERT INTO daq_station_open_hole( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, open_hole_code, weld_oid, min_distance, main_pipe_external_diameter, main_pipe_external_wall_thickness, open_hole_tools, open_hole_size, press_grade, open_hole_reason, has_pipe_cap, is_boss, boss_material, weld_produce, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :open_hole_code, :weld_oid, :min_distance, :main_pipe_external_diameter, :main_pipe_external_wall_thickness, :open_hole_tools, :open_hole_size, :press_grade, :open_hole_reason, :has_pipe_cap, :is_boss, :boss_material, :weld_produce,(select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_open_hole SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, open_hole_code=:open_hole_code, weld_oid=:weld_oid, min_distance=:min_distance, main_pipe_external_diameter=:main_pipe_external_diameter, main_pipe_external_wall_thickness=:main_pipe_external_wall_thickness, open_hole_tools=:open_hole_tools, open_hole_size=:open_hole_size, press_grade=:press_grade, open_hole_reason=:open_hole_reason, has_pipe_cap=:has_pipe_cap, is_boss=:is_boss, boss_material=:boss_material, weld_produce=:weld_produce, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_open_hole SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.open_hole_code,
	wc.weld_oid,
	dspw.weld_code weld_oid_name,
	wc.min_distance,
	wc.main_pipe_external_diameter,
	wc.main_pipe_external_wall_thickness,
	wc.open_hole_tools,
	wc.open_hole_size,
	wc.press_grade,
	wc.open_hole_reason,
case when wc.open_hole_reason=1 then ''压力表安装'' when wc.open_hole_reason=2 then ''温度表安装''  when wc.open_hole_reason=2 then ''其他'' end as open_hole_reason_name,
	wc.has_pipe_cap,
case when wc.has_pipe_cap=0 then ''无'' when wc.has_pipe_cap=1 then ''有'' end as has_pipe_cap_name,
	wc.is_boss,
case when wc.is_boss=0 then ''无'' when wc.is_boss=1 then ''有'' end as is_boss_name,
	wc.boss_material,
	wc.weld_produce,
	dwps.weld_produce_code weld_produce_name,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_open_hole wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = wc.weld_oid
LEFT JOIN (select oid , weld_produce_code ,project_oid from daq_weld_produce_specification where active=1) dwps on dwps.oid = wc.weld_produce 
 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.open_hole_code,
	wc.weld_oid,
	dspw.weld_code weld_oid_name,
	wc.min_distance,
	wc.main_pipe_external_diameter,
	wc.main_pipe_external_wall_thickness,
	wc.open_hole_tools,
	wc.open_hole_size,
	wc.press_grade,
	wc.open_hole_reason,
case when wc.open_hole_reason=1 then ''压力表安装'' when wc.open_hole_reason=2 then ''温度表安装''  when wc.open_hole_reason=2 then ''其他'' end as open_hole_reason_name,
	wc.has_pipe_cap,
case when wc.has_pipe_cap=0 then ''无'' when wc.has_pipe_cap=1 then ''有'' end as has_pipe_cap_name,
	wc.is_boss,
case when wc.is_boss=0 then ''无'' when wc.is_boss=1 then ''有'' end as is_boss_name,
	wc.boss_material,
	wc.weld_produce,
	dwps.weld_produce_code weld_produce_name,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_open_hole wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = wc.weld_oid
LEFT JOIN (select oid , weld_produce_code ,project_oid from daq_weld_produce_specification where active=1) dwps on dwps.oid = wc.weld_produce 
 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 07:55:04.139', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-18 16:32:09.794', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ad2c7efa-d341-4610-a8dc-4e908d66cf04', '火焰探测器', 'F000200', 'daq_station_flame_detector', 'INSERT INTO daq_station_flame_detector( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_flame_detector SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_flame_detector SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_flame_detector  sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_flame_detector  sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:58:04.239', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:30:41.783', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ade51f35-b852-489a-9a1d-e441ccb4e021', 'SCADA系统安装', 'F000176', 'daq_station_scada_system', 'INSERT INTO daq_station_scada_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, picture_number, server_install_location, client_install_location, antivirus_software, antivirus_software_version, station_quantity, station_ip_address, router_ip_address, c_router_ip_address_quantity, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :picture_number, :server_install_location, :client_install_location,   :antivirus_software, :antivirus_software_version, :station_quantity, :station_ip_address, :router_ip_address, :c_router_ip_address_quantity, :debug_content_and_results,(select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_scada_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;
update daq_station_scada_system set scada_software=(select scada_software from daq_s_material_scada_system where oid=:manufacture_number), scada_version=(select scada_version from daq_s_material_scada_system where oid=:manufacture_number) where oid = :oid;', 'update daq_s_material_scada_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_scada_system where oid=:oid);
UPDATE daq_station_scada_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, picture_number=:picture_number, server_install_location=:server_install_location, client_install_location=:client_install_location,  antivirus_software=:antivirus_software, antivirus_software_version=:antivirus_software_version, station_quantity=:station_quantity, station_ip_address=:station_ip_address, router_ip_address=:router_ip_address, c_router_ip_address_quantity=:c_router_ip_address_quantity, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_scada_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;
update daq_station_scada_system set scada_software=(select scada_software from daq_s_material_scada_system where oid=:manufacture_number), scada_version=(select scada_version from daq_s_material_scada_system where oid=:manufacture_number) where oid = :oid;', 'UPDATE daq_station_scada_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.picture_number,
	wc.server_install_location,
	wc.client_install_location,
	wc.scada_software,
	wc.scada_version,
	wc.antivirus_software,
	wc.antivirus_software_version,
	wc.station_quantity,
	wc.station_ip_address,
	wc.router_ip_address,
	wc.c_router_ip_address_quantity,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_scada_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_scada_system where active=1) mac on mac.oid = wc.manufacture_number WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.picture_number,
	wc.server_install_location,
	wc.client_install_location,
	wc.scada_software,
	wc.scada_version,
	wc.antivirus_software,
	wc.antivirus_software_version,
	wc.station_quantity,
	wc.station_ip_address,
	wc.router_ip_address,
	wc.c_router_ip_address_quantity,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_scada_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_scada_system where active=1) mac on mac.oid = wc.manufacture_number WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 02:51:01.982', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:24:44.451', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ae0ad127-e15a-4941-9f95-b91e41a126b2', '绝缘接头保护器', 'F000173', 'daq_station_cp_insulated_joint_protector', 'INSERT INTO daq_station_cp_insulated_joint_protector( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des,(select :construct_date::timestamp) , :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cp_insulated_joint_protector SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cp_insulated_joint_protector SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_cp_insulated_joint_protector wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1 AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_cp_insulated_joint_protector wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 02:24:11.514', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:59:05.631', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ae2d1ca3-6878-44cf-9d17-24010f8f3ce6', '差压表', 'F000077', 'daq_s_material_pressure_difference_gauge', 'INSERT INTO daq_s_material_pressure_difference_gauge( oid, project_oid, device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_pressure_difference_gauge SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_pressure_difference_gauge SET active = 0 WHERE oid = :oid', 'SELECT
	mpdg.oid,
	mpdg.project_oid,pro.project_name,
	mpdg.tenders_oid,te.tenders_name, 
	mpdg.pipeline_oid,pi.pipeline_name,
	mpdg.pipe_station_oid,ps.pipe_station_name,
	mpdg.device_code,
	mpdg.device_name,
	mpdg.equipment_type,
	mpdg.desin_pressure,
	d.code_name as desin_pressure_name,
	mpdg.classification_code,
	mpdg.material_code,
	mpdg.specification_model,
	mpdg.tag_number,
	mpdg.manufacture_number,
	mpdg.manufacturer,
	to_char(mpdg.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpdg.guarantee_period,
	mpdg.contract_number,
	mpdg.remarks,
	mpdg.create_user_id,
	mpdg.create_user_name,
	mpdg.create_datetime,
	mpdg.modify_user_id,
	mpdg.modify_user_name,
	mpdg.modify_datetime,
	mpdg.active
FROM
	daq_s_material_pressure_difference_gauge mpdg
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid =mpdg.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpdg.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpdg.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpdg.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpdg.desin_pressure 
WHERE
	1 = 1
AND mpdg.active = 1 @where_append  order by mpdg.create_datetime desc', 'SELECT
	mpdg.oid,
	mpdg.project_oid,pro.project_name,
	mpdg.tenders_oid,te.tenders_name, 
	mpdg.pipeline_oid,pi.pipeline_name,
	mpdg.pipe_station_oid,ps.pipe_station_name,
	mpdg.device_code,
	mpdg.device_name,
	mpdg.equipment_type,
	mpdg.desin_pressure,
	d.code_name as desin_pressure_name,
	mpdg.classification_code,
	mpdg.material_code,
	mpdg.specification_model,
	mpdg.tag_number,
	mpdg.manufacture_number,
	mpdg.manufacturer,
	to_char(mpdg.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpdg.guarantee_period,
	mpdg.contract_number,
	mpdg.remarks,
	mpdg.create_user_id,
	mpdg.create_user_name,
	mpdg.create_datetime,
	mpdg.modify_user_id,
	mpdg.modify_user_name,
	mpdg.modify_datetime,
	mpdg.active
FROM
	daq_s_material_pressure_difference_gauge mpdg
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid =mpdg.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpdg.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpdg.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpdg.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpdg.desin_pressure  WHERE mpdg.oid = :oid AND mpdg.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:08:10.184', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:25:16.23', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ae9801bc-e12f-4176-9d4b-7ee11f4a154d', '压缩机表', 'F000047', 'daq_dynamic_compressor', 'INSERT INTO daq_dynamic_compressor( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, compressor_name, manufacture_number, concentricity, picture_code, lubricant_brand, lubricating_total_add, single_debug_record, empty_debug_record, operate_24_hour_record, operate_72_hour_record, bussiness_start_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :compressor_name, :manufacture_number, :concentricity, :picture_code, :lubricant_brand, :lubricating_total_add, :single_debug_record, :empty_debug_record, :operate_24_hour_record, :operate_72_hour_record, (select :bussiness_start_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_dynamic_compressor SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, compressor_name=:compressor_name, manufacture_number=:manufacture_number, concentricity=:concentricity, picture_code=:picture_code, lubricant_brand=:lubricant_brand, lubricating_total_add=:lubricating_total_add, single_debug_record=:single_debug_record, empty_debug_record=:empty_debug_record, operate_24_hour_record=:operate_24_hour_record, operate_72_hour_record=:operate_72_hour_record, bussiness_start_date=(select :bussiness_start_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_dynamic_compressor SET active = 0 WHERE oid = :oid', 'SELECT dc.oid,dc.project_oid,dc.tenders_oid,dc.pipeline_oid,dc.pipe_station_oid,dc.device_code,	dc.compressor_name,	dc.manufacture_number,dc.concentricity,dc.picture_code,	dc.lubricant_brand, dc.lubricating_total_add,dc.single_debug_record,dc.empty_debug_record,dc.operate_24_hour_record,dc.operate_72_hour_record,to_char(dc.bussiness_start_date, ''YYYY-MM-DD'') as bussiness_start_date,dc.construct_unit,dc.supervision_unit,dc.supervision_engineer, dc.collection_person,	to_char(dc.collection_date, ''YYYY-MM-DD'') as collection_date,	case when dc.approve_status = -1 then ''驳回'' when dc.approve_status = 1 then ''待审核'' when dc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,dc.approve_status,dc.remarks,dc.create_user_id,	dc.create_user_name,dc.create_datetime,	dc.modify_user_id,	dc.modify_user_name, dc.modify_datetime,pro.project_name,pi.pipeline_name,te.tenders_name,ps.pipe_station_name, pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,	dc.active FROM daq_dynamic_compressor dc LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = dc.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = dc.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = dc.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=dc.pipe_station_oid  LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = dc.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = dc.construct_unit WHERE 1 = 1	AND dc.active = 1 @where_append and @privilege_strategy_sql order by dc.create_datetime desc', 'SELECT dc.oid,dc.project_oid,dc.tenders_oid,dc.pipeline_oid,dc.pipe_station_oid,dc.device_code,	dc.compressor_name,	dc.manufacture_number,dc.concentricity,dc.picture_code,	dc.lubricant_brand, dc.lubricating_total_add,dc.single_debug_record,dc.empty_debug_record,dc.operate_24_hour_record,dc.operate_72_hour_record,to_char(dc.bussiness_start_date, ''YYYY-MM-DD'') as bussiness_start_date,dc.construct_unit,dc.supervision_unit,dc.supervision_engineer, dc.collection_person,	to_char(dc.collection_date, ''YYYY-MM-DD'') as collection_date,	case when dc.approve_status = -1 then ''驳回'' when dc.approve_status = 1 then ''待审核'' when dc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,dc.approve_status,dc.remarks,dc.create_user_id,	dc.create_user_name,dc.create_datetime,	dc.modify_user_id,	dc.modify_user_name, dc.modify_datetime,pro.project_name,pi.pipeline_name,te.tenders_name,ps.pipe_station_name, pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,	dc.active FROM daq_dynamic_compressor dc LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = dc.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = dc.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = dc.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=dc.pipe_station_oid  LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = dc.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = dc.construct_unit WHERE dc.oid = :oid AND dc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-11-8 10:11:42.753', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-14 16:01:22.057', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('af859e6d-a4d6-452f-8641-70ab8ef753ab', '不间断电源', 'F000101', 'daq_s_material_uninterruptible_power_supply', 'INSERT INTO daq_s_material_uninterruptible_power_supply( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, uninterruptible_power_type, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :uninterruptible_power_type, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_uninterruptible_power_supply SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, uninterruptible_power_type=:uninterruptible_power_type, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_uninterruptible_power_supply SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.uninterruptible_power_type, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name uninterruptible_power_type_name
FROM daq_s_material_uninterruptible_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''uninterruptible_power_type_domain'' and active=1 ) doma ON doma.code_id = sss.uninterruptible_power_type
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.uninterruptible_power_type, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name uninterruptible_power_type_name
FROM daq_s_material_uninterruptible_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''uninterruptible_power_type_domain'' and active=1 ) doma ON doma.code_id = sss.uninterruptible_power_type
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:25:59.363', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:27:20.623', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b0227ab2-c6b3-4fc8-b92e-483b01775505', '储罐附件', 'F000166', 'daq_station_storage_tank_attachment', 'INSERT INTO daq_station_storage_tank_attachment( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, attachment_name, attachment_num, manufacturing_unit, attachment_quantity, test_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :attachment_name, :attachment_num, :manufacturing_unit, :attachment_quantity, :test_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_attachment SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, attachment_name=:attachment_name, attachment_num=:attachment_num, manufacturing_unit=:manufacturing_unit, attachment_quantity=:attachment_quantity, test_result=:test_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_attachment SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.attachment_name,
	doma.code_name attachment_name_name,
	wc.attachment_num,
	wc.manufacturing_unit,
	wc.attachment_quantity,
	wc.test_result,
	case when wc.test_result=1 then ''合格'' when wc.test_result=0 then ''不合格'' end as test_result_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_attachment wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''tank_attachment_name_domain'' and active=1 ) doma ON doma.code_id = wc.attachment_name	 WHERE 1 = 1 AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.attachment_name,
	doma.code_name attachment_name_name,
	wc.attachment_num,
	wc.manufacturing_unit,
	wc.attachment_quantity,
	wc.test_result,
	case when wc.test_result=1 then ''合格'' when wc.test_result=0 then ''不合格'' end as test_result_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_storage_tank_attachment wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''tank_attachment_name_domain'' and active=1 ) doma ON doma.code_id = wc.attachment_name	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 08:58:34.85', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:42:57.906', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b2cfc5b9-8044-4848-9598-f18ea7567859', '规格', 'F000046', 'pg_statistic', '', 'UPDATE pg_statistic SET starelid=:starelid, staattnum=:staattnum, stainherit=:stainherit, stanullfrac=:stanullfrac, stawidth=:stawidth, stadistinct=:stadistinct, stakind1=:stakind1, stakind2=:stakind2, stakind3=:stakind3, stakind4=:stakind4, stakind5=:stakind5, staop1=:staop1, staop2=:staop2, staop3=:staop3, staop4=:staop4, staop5=:staop5, stanumbers1=:stanumbers1, stanumbers2=:stanumbers2, stanumbers3=:stanumbers3, stanumbers4=:stanumbers4, stanumbers5=:stanumbers5, stavalues1=:stavalues1, stavalues2=:stavalues2, stavalues3=:stavalues3, stavalues4=:stavalues4, stavalues5=:stavalues5 WHERE  = :', 'UPDATE pg_statistic SET ACTIVE = 0 WHERE  = :', 'SELECT starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 FROM pg_statistic WHERE 1 = 1  @where_append ', 'SELECT starelid, staattnum, stainherit, stanullfrac, stawidth, stadistinct, stakind1, stakind2, stakind3, stakind4, stakind5, staop1, staop2, staop3, staop4, staop5, stanumbers1, stanumbers2, stanumbers3, stanumbers4, stanumbers5, stavalues1, stavalues2, stavalues3, stavalues4, stavalues5 FROM pg_statistic WHERE  = :', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-10-11 13:45:10.851', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-15 14:47:33.608', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b2d3fc77-999c-47e6-9dc6-8fc3f89d5a58', 'EPS电源', 'F000108', 'daq_s_material_emergency_power_supply', 'INSERT INTO daq_s_material_emergency_power_supply( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_emergency_power_supply SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_emergency_power_supply SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer,to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_emergency_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer,to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_emergency_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 10:06:03.695', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:29:15.87', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b3facdcd-e71c-4bec-aa40-b2889d36d2bc', '铂电阻安装', 'F000217', 'daq_station_temperature_element', 'INSERT INTO daq_station_temperature_element( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_temperature_element set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_temperature_element set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_temperature_element where oid=:oid);
UPDATE daq_station_temperature_element SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_temperature_element set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_temperature_element SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_temperature_element wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_temperature_element where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_temperature_element wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_temperature_element where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 01:51:12.39', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:37:44.025', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b4f6ba01-6e4f-47be-8836-d3979463a988', '高频开关电源设备', 'F000103', 'daq_s_material_hf_power_supply', 'INSERT INTO daq_s_material_hf_power_supply( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_hf_power_supply SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_hf_power_supply SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.classification_code, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, 
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_hf_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.classification_code, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, 
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_hf_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:42:37.541', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:28:59.521', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b5418df4-9267-41e6-8007-999be2a650a5', 'VSAT卫星通信室外设备', 'F000227', 'daq_station_vsat_communication_outdoor', 'INSERT INTO daq_station_vsat_communication_outdoor( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_vsat_communication_outdoor SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_vsat_communication_outdoor SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,
	pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_vsat_communication_outdoor wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,
	pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_vsat_communication_outdoor wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 02:58:39.468', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:14:49.696', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b58d439b-3858-47bc-a355-c8fd90a3b8ed', '网络路由器', 'F000239', 'daq_station_safe_router', 'INSERT INTO daq_station_safe_router( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, ip_address, subnet_mask, geteway, dns_address, spare_dns_address, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :ip_address, :subnet_mask, :geteway, :dns_address, :spare_dns_address, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_safe_router SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, ip_address=:ip_address, subnet_mask=:subnet_mask, geteway=:geteway, dns_address=:dns_address, spare_dns_address=:spare_dns_address, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_safe_router SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.ip_address,
	wc.subnet_mask,
	wc.geteway,
	wc.dns_address,
	wc.spare_dns_address,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_safe_router wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.ip_address,
	wc.subnet_mask,
	wc.geteway,
	wc.dns_address,
	wc.spare_dns_address,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_safe_router wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 06:35:22.782', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:45:00.89', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b6174f58-23b5-4acc-b10d-fbeed5d9511f', '电缆', 'F000179', 'daq_station_cable', 'INSERT INTO daq_station_cable( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, front_connect_device_code, back_connect_device_code, control_cable_sum_length, control_cable_icode, power_cable_sum_length, power_cable_icode, cable_loction, cable_trend, buried_or_bridge_frame, test_record, canle_interface, through_the_wall_info_des, road_info_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :front_connect_device_code, :back_connect_device_code, :control_cable_sum_length, :control_cable_icode, :power_cable_sum_length, :power_cable_icode, :cable_loction, :cable_trend, :buried_or_bridge_frame, :test_record, :canle_interface, :through_the_wall_info_des, :road_info_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cable SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, front_connect_device_code=:front_connect_device_code, back_connect_device_code=:back_connect_device_code, control_cable_sum_length=:control_cable_sum_length, control_cable_icode=:control_cable_icode, power_cable_sum_length=:power_cable_sum_length, power_cable_icode=:power_cable_icode, cable_loction=:cable_loction, cable_trend=:cable_trend, buried_or_bridge_frame=:buried_or_bridge_frame, test_record=:test_record, canle_interface=:canle_interface, through_the_wall_info_des=:through_the_wall_info_des, road_info_des=:road_info_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cable SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.front_connect_device_code,
	sta.back_connect_device_code,
	sta.control_cable_sum_length,
	sta.control_cable_icode,
	sta.power_cable_sum_length,
	sta.power_cable_icode,
	sta.cable_loction,
	sta.cable_trend,
	sta.buried_or_bridge_frame,
	sta.test_record,
	sta.canle_interface,
	sta.through_the_wall_info_des,
	sta.road_info_des,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_cable sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.front_connect_device_code,
	sta.back_connect_device_code,
	sta.control_cable_sum_length,
	sta.control_cable_icode,
	sta.power_cable_sum_length,
	sta.power_cable_icode,
	sta.cable_loction,
	sta.cable_trend,
	sta.buried_or_bridge_frame,
	sta.test_record,
	sta.canle_interface,
	sta.through_the_wall_info_des,
	sta.road_info_des,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_cable sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 06:23:10.048', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:34:18.9', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b6730bb5-d099-4ede-95c9-6463bf350853', '过滤器', 'F000097', 'daq_s_material_filter', 'INSERT INTO daq_s_material_filter( oid, project_oid, device_code, device_name, structure_type, full_volume, classification_code, material_code, specification_model, qoc_manufacture_number, qoc_imports_or_exports, qoc_provenance, qoc_manufacturer, qoc_manufacture_date, qoc_guarantee_period, is_anticorrosion, anticorrosion_way, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :structure_type, :full_volume, :classification_code, :material_code, :specification_model, :qoc_manufacture_number, :qoc_imports_or_exports, :qoc_provenance, :qoc_manufacturer, (select :qoc_manufacture_date::timestamp), :qoc_guarantee_period, :is_anticorrosion, :anticorrosion_way, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_filter SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, structure_type=:structure_type, full_volume=:full_volume, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, qoc_manufacture_number=:qoc_manufacture_number, qoc_imports_or_exports=:qoc_imports_or_exports, qoc_provenance=:qoc_provenance, qoc_manufacturer=:qoc_manufacturer, qoc_manufacture_date=(select :qoc_manufacture_date::timestamp), qoc_guarantee_period=:qoc_guarantee_period, is_anticorrosion=:is_anticorrosion, anticorrosion_way=:anticorrosion_way, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_filter SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.structure_type,
	wc.full_volume,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.qoc_manufacture_number,
	wc.qoc_imports_or_exports,
case when wc.qoc_imports_or_exports=0 then ''否'' when wc.qoc_imports_or_exports=1 then ''是'' end as qoc_imports_or_exports_name,
	wc.qoc_provenance,
	wc.qoc_manufacturer,
to_char(wc.qoc_manufacture_date, ''YYYY-MM-DD'') as qoc_manufacture_date,
	wc.qoc_guarantee_period,
	wc.is_anticorrosion,
	case when wc.is_anticorrosion=0 then ''否'' when wc.is_anticorrosion=1 then ''是'' end as is_anticorrosion_name,
	wc.anticorrosion_way,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_filter wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE 1 = 1  AND wc.active = 1 @where_append 
order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.structure_type,
	wc.full_volume,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.qoc_manufacture_number,
	wc.qoc_imports_or_exports,
case when wc.qoc_imports_or_exports=0 then ''否'' when wc.qoc_imports_or_exports=1 then ''是'' end as qoc_imports_or_exports_name,
	wc.qoc_provenance,
	wc.qoc_manufacturer,
to_char(wc.qoc_manufacture_date, ''YYYY-MM-DD'') as qoc_manufacture_date,
	wc.qoc_guarantee_period,
	case when wc.is_anticorrosion=0 then ''否'' when wc.is_anticorrosion=1 then ''是'' end as is_anticorrosion_name,
	wc.is_anticorrosion,
	wc.anticorrosion_way,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_filter wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 08:52:48.748', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-14 16:32:03.615', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b678972f-5fc3-437f-8047-bd85c74ae14a', 'da', 'F000054', 'daq_project', 'INSERT INTO daq_project( oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_name, :project_code, :pipe_network_type_code, :medium_type_code, :construct, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_project SET oid=:oid, project_name=:project_name, project_code=:project_code, pipe_network_type_code=:pipe_network_type_code, medium_type_code=:medium_type_code, construct=:construct, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE oid = :oid AND active = 1', '0', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-29 11:05:37.801', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-12-7 01:51:26.591', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('b79fe53d-9786-4c93-92c5-9df1008d299e', '放空火炬表', 'F000050', 'daq_static_flare', 'INSERT INTO daq_static_flare( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :construct_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime )', 'UPDATE daq_static_flare SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_static_flare SET active = 0 WHERE oid = :oid', 'SELECT sf.oid,sf.project_oid,sf.tenders_oid,sf.pipeline_oid,sf.pipe_station_oid,sf.device_code,sf.device_name,sf.manufacture_number,to_char(sf.collection_date, ''YYYY-MM-DD'') as collection_date,to_char(sf.construct_date, ''YYYY-MM-DD'') as construct_date,sf.construct_unit,sf.supervision_unit,sf.supervision_engineer,sf.collection_person,case when sf.approve_status = -1 then ''驳回'' when sf.approve_status = 1 then ''待审核'' when sf.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,sf.approve_status,sf.remarks,sf.create_user_id, sf.create_user_name, sf.create_datetime,sf.modify_user_id, sf.modify_user_name,sf.modify_datetime,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,sf.active FROM daq_static_flare  sf LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sf.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sf.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sf.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sf.pipe_station_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sf.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sf.construct_unit WHERE	1 = 1 AND sf.active = 1 @where_append and @privilege_strategy_sql order by sf.create_datetime desc', 'SELECT sf.oid,sf.project_oid,sf.tenders_oid,sf.pipeline_oid,sf.pipe_station_oid,sf.device_code,sf.device_name,sf.manufacture_number,to_char(sf.collection_date, ''YYYY-MM-DD'') as collection_date,to_char(sf.construct_date, ''YYYY-MM-DD'') as construct_date,sf.construct_unit,sf.supervision_unit,sf.supervision_engineer,sf.collection_person,case when sf.approve_status = -1 then ''驳回'' when sf.approve_status = 1 then ''待审核'' when sf.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,sf.approve_status, sf.remarks,sf.create_user_id,sf.create_user_name, sf.create_datetime, sf.modify_user_id, sf.modify_user_name,sf.modify_datetime,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,sf.active FROM daq_static_flare  sf LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sf.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sf.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sf.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sf.pipe_station_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sf.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sf.construct_unit WHERE sf.oid = :oid AND sf.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-11-9 02:24:12.725', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 02:25:30.566', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('bbf10d62-830c-4738-ba9f-b57e552d0cd0', '工业以太网设备', 'F000254', 'daq_station_ethernet_communication', 'INSERT INTO daq_station_ethernet_communication( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_ethernet_communication SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_ethernet_communication SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_ethernet_communication wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_ethernet_communication wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 16:20:20.058', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-29 09:01:44.503', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('bce0784b-7103-47c7-be50-83fdde5c045d', 'daq', 'F000052', 'daq_project', 'INSERT INTO daq_project( oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_name, :project_code, :pipe_network_type_code, :medium_type_code, :construct, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_project SET oid=:oid, project_name=:project_name, project_code=:project_code, pipe_network_type_code=:pipe_network_type_code, medium_type_code=:medium_type_code, construct=:construct, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE oid = :oid AND active = 1', '1', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-26 15:59:06.54', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-26 15:59:43.063', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('bd3fa85f-398d-4449-8da8-cb46a331951a', '液位变送器安装', 'F000219', 'daq_station_lit_level_transmitter', 'INSERT INTO daq_station_lit_level_transmitter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_lit_level_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_lit_level_transmitter set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_lit_level_transmitter where oid=:oid);
UPDATE daq_station_lit_level_transmitter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_lit_level_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_lit_level_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_lit_level_transmitter sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_lit_level_transmitter where active=1) mac on mac.oid = sta.manufacture_number 

WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sta.install_location,
	sta.connection_mode,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	d.code_name as connection_mode_name,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_lit_level_transmitter sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_lit_level_transmitter where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 02:07:44.246', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 02:38:17.734', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('bf3784b1-4f8a-49da-b8ca-9acb3021eb2d', '流量计', 'F000212', 'daq_station_metering', 'INSERT INTO daq_station_metering( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_metering SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_metering SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.detection_unit,
	to_char(sta.detection_date, ''YYYY-MM-DD'') as detection_date,
	sta.detection_result,
	sta.connection_mode,
	d.code_name as connection_mode_name,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_metering sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.detection_unit,
	to_char(sta.detection_date, ''YYYY-MM-DD'') as detection_date,
	sta.detection_result,
	sta.connection_mode,
	d.code_name as connection_mode_name,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_metering sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 00:53:10.447', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 13:56:22.818', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c078fc06-b795-448d-b752-477c2f7857fa', '阀门安装信息表', 'F000045', 'daq_test_valve', 'INSERT INTO daq_test_valve( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, valve_oid, test_date, filler, test_medium, strength_test_pressure, strength_test_time, tightness_test_pressure, tightness_test_time, test_condition_and_apparent_check, construct_date, construct_unit, collection_person, collection_date, supervision_unit, supervision_engineer, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :valve_oid, (select :test_date::timestamp), :filler, :test_medium, :strength_test_pressure, :strength_test_time, :tightness_test_pressure, :tightness_test_time, :test_condition_and_apparent_check, (select :construct_date::timestamp), :construct_unit, :collection_person, (select :collection_date::timestamp), :supervision_unit, :supervision_engineer, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime )', 'UPDATE daq_test_valve SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, valve_oid=:valve_oid, test_date=(select :test_date::timestamp), filler=:filler, test_medium=:test_medium, strength_test_pressure=:strength_test_pressure, strength_test_time=:strength_test_time, tightness_test_pressure=:tightness_test_pressure, tightness_test_time=:tightness_test_time, test_condition_and_apparent_check=:test_condition_and_apparent_check, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer,create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_test_valve SET active = 0 WHERE oid = :oid', 'SELECT tv.oid, tv.project_oid,pro.project_name, pi.pipeline_name, te.tenders_name,u.unit_name as construct_unit_name, pu.unit_name as supervision_unit_name, ps.pipe_station_name, mv.valve_name,mv.manufacture_number, tv.tenders_oid, tv.pipeline_oid, tv.pipe_station_oid, to_char(tv.test_date, ''YYYY-MM-DD'') as test_date, tv.filler, tv.test_medium, tv.strength_test_pressure, tv.strength_test_time, tv.tightness_test_pressure, tv.tightness_test_time, tv.test_condition_and_apparent_check, to_char(tv.construct_date, ''YYYY-MM-DD'') as construct_date, tv.construct_unit, tv.collection_person, to_char(tv.collection_date, ''YYYY-MM-DD'') as collection_date, tv.supervision_unit, tv.supervision_engineer, tv.approve_status,case when tv.approve_status = -1 then ''驳回'' when tv.approve_status = 1 then ''待审核'' when tv.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, tv.create_user_id, tv.create_user_name, tv.create_datetime,	tv.modify_user_id, tv.modify_user_name, tv.modify_datetime, tv.active FROM daq_test_valve tv LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = tv.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = tv.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = tv.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=tv.pipe_station_oid LEFT JOIN (select oid,valve_name, manufacture_number,active from daq_material_valve where active=1) mv ON mv.oid=tv.valve_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = tv.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = tv.construct_unit WHERE tv.active = 1 @where_append and @privilege_strategy_sql order by tv.create_datetime desc', 'SELECT tv.oid, tv.project_oid,pro.project_name, pi.pipeline_name, te.tenders_name,u.unit_name as construct_unit_name, pu.unit_name as supervision_unit_name, ps.pipe_station_name, mv.valve_name,mv.manufacture_number, tv.tenders_oid, tv.pipeline_oid, tv.pipe_station_oid, to_char(tv.test_date, ''YYYY-MM-DD'') as test_date, tv.filler, tv.test_medium, tv.strength_test_pressure, tv.strength_test_time, tv.tightness_test_pressure, tv.tightness_test_time, tv.test_condition_and_apparent_check, to_char(tv.construct_date, ''YYYY-MM-DD'') as construct_date, tv.construct_unit, tv.collection_person, to_char(tv.collection_date, ''YYYY-MM-DD'') as collection_date, tv.supervision_unit, tv.supervision_engineer,tv.approve_status,case when tv.approve_status = -1 then ''驳回'' when tv.approve_status = 1 then ''待审核'' when tv.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, tv.create_user_id, tv.create_user_name, tv.create_datetime,	tv.modify_user_id, tv.modify_user_name, tv.modify_datetime, tv.active FROM daq_test_valve tv LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = tv.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = tv.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = tv.tenders_oid LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=tv.pipe_station_oid LEFT JOIN (select oid,valve_name, manufacture_number,active from daq_material_valve where active=1) mv ON mv.oid=tv.valve_oid LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = tv.supervision_unit LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = tv.construct_unit WHERE tv.oid = :oid AND tv.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-9-17 13:34:31.13', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-19 15:55:58.566', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c31c83f2-5f3b-4443-b925-c8cae006c9c3', '铂电阻', 'F000080', 'daq_s_material_temperature_element', 'INSERT INTO daq_s_material_temperature_element( oid, project_oid, device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_temperature_element SET oid=:oid, project_oid=:project_oid,  device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_temperature_element SET active = 0 WHERE oid = :oid', 'SELECT
	mte.oid,
	mte.project_oid,pro.project_name,
	mte.tenders_oid,te.tenders_name, 
	mte.pipeline_oid,pi.pipeline_name,
	mte.pipe_station_oid,ps.pipe_station_name,
	mte.device_code,
	mte.device_name,
	mte.equipment_type,
	mte.desin_pressure,
	d.code_name as desin_pressure_name,
	mte.classification_code,
	mte.material_code,
	mte.specification_model,
	mte.tag_number,
	mte.manufacture_number,
	mte.manufacturer,
	to_char(mte.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mte.guarantee_period,
	mte.contract_number,
	mte.remarks,
	mte.create_user_id,
	mte.create_user_name,
	mte.create_datetime,
	mte.modify_user_id,
	mte.modify_user_name,
	mte.modify_datetime,
	mte.active
FROM
	daq_s_material_temperature_element mte
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mte.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mte.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mte.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mte.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mte.desin_pressure 
WHERE
	1 = 1
AND mte.active = 1  @where_append  order by mte.create_datetime desc', 'SELECT
	mte.oid,
	mte.project_oid,pro.project_name,
	mte.tenders_oid,te.tenders_name, 
	mte.pipeline_oid,pi.pipeline_name,
	mte.pipe_station_oid,ps.pipe_station_name,
	mte.device_code,
	mte.device_name,
	mte.equipment_type,
	mte.desin_pressure,
	d.code_name as desin_pressure_name,
	mte.classification_code,
	mte.material_code,
	mte.specification_model,
	mte.tag_number,
	mte.manufacture_number,
	mte.manufacturer,
	to_char(mte.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mte.guarantee_period,
	mte.contract_number,
	mte.remarks,
	mte.create_user_id,
	mte.create_user_name,
	mte.create_datetime,
	mte.modify_user_id,
	mte.modify_user_name,
	mte.modify_datetime,
	mte.active
FROM
	daq_s_material_temperature_element mte
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mte.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mte.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mte.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mte.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mte.desin_pressure  WHERE mte.oid = :oid AND mte.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:23:36.14', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:21:41.644', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c4188ff9-551f-4b53-b7cc-ab4666b6142e', '自用气系统安装', 'F000207', 'daq_station_sgs_system', 'INSERT INTO daq_station_sgs_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :debug_content_and_results,(select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_sgs_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_sgs_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_sgs_system where oid=:oid);
UPDATE daq_station_sgs_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_sgs_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_sgs_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_sgs_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_sgs_system where active=1) mac on mac.oid = wc.manufacture_number  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_sgs_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_sgs_system where active=1) mac on mac.oid = wc.manufacture_number  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-9 01:56:56.344', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-25 11:13:05.293', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c533869f-2cf9-4768-bf61-b625deb4d052', '分析系统', 'F000063', 'daq_s_material_analysis_system', 'INSERT INTO daq_s_material_analysis_system( oid, project_oid, device_code, device_name, pressure_rating, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :pressure_rating, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_analysis_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_analysis_system SET active = 0 WHERE oid = :oid', 'SELECT
	mas.oid,
	mas.project_oid,pro.project_name,
	mas.tenders_oid,te.tenders_name,
	mas.pipeline_oid,pi.pipeline_name,
	mas.pipe_station_oid, ps.pipe_station_name,
	mas.device_code,
	mas.device_name,
	mas.pressure_rating,
	sd.code_name as pressure_rating_name,
	mas.desin_pressure,
	d.code_name as desin_pressure_name,
	mas.classification_code,
	mas.material_code,
	mas.specification_model,
	mas.tag_number,
	mas.manufacture_number,
	mas.manufacturer,
	to_char(mas.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mas.guarantee_period,
	mas.contract_number,
	mas.remarks,
	mas.create_user_id,
	mas.create_user_name,
	mas.create_datetime,
	mas.modify_user_id,
	mas.modify_user_name,
	mas.modify_datetime,
	mas.active
FROM
	daq_s_material_analysis_system mas 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mas.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mas.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mas.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mas.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mas.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mas.desin_pressure 
WHERE
	1 = 1
AND mas.active = 1 @where_append order by mas.create_datetime desc', 'SELECT
	mas.oid,
	mas.project_oid,pro.project_name,
	mas.tenders_oid,te.tenders_name,
	mas.pipeline_oid,pi.pipeline_name,
	mas.pipe_station_oid, ps.pipe_station_name,
	mas.device_code,
	mas.device_name,
	mas.pressure_rating,
	sd.code_name as pressure_rating_name,
	mas.desin_pressure,
	d.code_name as desin_pressure_name,
	mas.classification_code,
	mas.material_code,
	mas.specification_model,
	mas.tag_number,
	mas.manufacture_number,
	mas.manufacturer,
	to_char(mas.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mas.guarantee_period,
	mas.contract_number,
	mas.remarks,
	mas.create_user_id,
	mas.create_user_name,
	mas.create_datetime,
	mas.modify_user_id,
	mas.modify_user_name,
	mas.modify_datetime,
	mas.active
FROM
	daq_s_material_analysis_system mas 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mas.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mas.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mas.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mas.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mas.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mas.desin_pressure  WHERE mas.oid = :oid AND mas.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-28 09:34:49.653', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:19:08.749', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c7328361-fbd1-46bc-b0a0-07281d4cc2e8', '牺牲阳极电参数测试记录表', 'F000040', 'daq_cathodic_electrical_parameter_test', 'INSERT INTO daq_cathodic_electrical_parameter_test( oid, test_stake_oid, natural_potential, open_circuit_potential_one, open_circuit_potential_two, protective_potential, group_output_current, output_current_one, output_current_two, earthing_resistance_one, earthing_resistance_two, test_person, test_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active,construct_unit ,supervision_engineer,supervision_unit ,project_oid, tenders_oid) VALUES ( :oid, :test_stake_oid, :natural_potential, :open_circuit_potential_one, :open_circuit_potential_two, :protective_potential, :group_output_current, :output_current_one, :output_current_two, :earthing_resistance_one, :earthing_resistance_two, :test_person, (select :test_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, :construct_unit,:supervision_engineer,:supervision_unit ,:project_oid, :tenders_oid)', 'UPDATE daq_cathodic_electrical_parameter_test SET oid=:oid, test_stake_oid=:test_stake_oid, natural_potential=:natural_potential, open_circuit_potential_one=:open_circuit_potential_one, open_circuit_potential_two=:open_circuit_potential_two, protective_potential=:protective_potential, group_output_current=:group_output_current, output_current_one=:output_current_one, output_current_two=:output_current_two, earthing_resistance_one=:earthing_resistance_one, earthing_resistance_two=:earthing_resistance_two, test_person=:test_person, test_date=(select :test_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active,construct_unit=:construct_unit,supervision_engineer=:supervision_engineer,supervision_unit=:supervision_unit ,project_oid=:project_oid, tenders_oid=:tenders_oid WHERE oid = :oid AND active = 1', 'UPDATE daq_cathodic_electrical_parameter_test SET active = 0 WHERE oid = :oid', 'SELECT cept.oid, cept.test_stake_oid, cts.test_stake_code, cept.natural_potential, cept.open_circuit_potential_one, cept.open_circuit_potential_two, cept.protective_potential, cept.group_output_current, cept.output_current_one, cept.output_current_two, cept.earthing_resistance_one, cept.earthing_resistance_two, cept.test_person, to_char(cept.test_date, ''YYYY-MM-DD'') as test_date,case when cept.approve_status = -1 then ''驳回'' when cept.approve_status = 1 then ''待审核'' when cept.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,cept.approve_status, cept.remarks, cept.create_user_id, cept.create_user_name, cept.create_datetime, cept.modify_user_id, cept.modify_user_name, cept.modify_datetime, cept.active,pu.unit_name as construct_unit_name,cept.construct_unit,su.unit_name as supervision_unit_name,cept.supervision_engineer,cept.supervision_unit,cept.project_oid,cept.tenders_oid,dp.project_name,dt.tenders_name FROM daq_cathodic_electrical_parameter_test cept LEFT JOIN (select oid, test_stake_code, active from daq_cathodic_test_stake where active=1) cts ON cts.oid = cept.test_stake_oid left join (select oid,unit_name from pri_unit) pu on pu.oid=cept.construct_unit left join (select oid,unit_name from pri_unit) su on su.oid=cept.supervision_unit left join (select oid,project_name from daq_project where active=1) dp on dp.oid=cept.project_oid left join (select oid,tenders_name from daq_tenders where active=1) dt on dt.oid=cept.tenders_oid WHERE cept.active = 1 @where_append and @privilege_strategy_sql order by cept.create_datetime desc', 'SELECT cept.oid, cept.test_stake_oid, cts.test_stake_code, cept.natural_potential, cept.open_circuit_potential_one, cept.open_circuit_potential_two, cept.protective_potential, cept.group_output_current, cept.output_current_one, cept.output_current_two, cept.earthing_resistance_one, cept.earthing_resistance_two, cept.test_person, to_char(cept.test_date, ''YYYY-MM-DD'') as test_date,case when cept.approve_status = -1 then ''驳回'' when cept.approve_status = 1 then ''待审核'' when cept.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,cept.approve_status, cept.remarks, cept.create_user_id, cept.create_user_name, cept.create_datetime, cept.modify_user_id, cept.modify_user_name, cept.modify_datetime, cept.active,pu.unit_name as construct_unit_name,cept.construct_unit,su.unit_name as supervision_unit_name,cept.supervision_engineer,cept.supervision_unit,cept.project_oid,cept.tenders_oid,dp.project_name,dt.tenders_name FROM daq_cathodic_electrical_parameter_test cept LEFT JOIN (select oid, test_stake_code, active from daq_cathodic_test_stake where active=1) cts ON cts.oid = cept.test_stake_oid left join (select oid,unit_name from pri_unit) pu on pu.oid=cept.construct_unit left join (select oid,unit_name from pri_unit) su on su.oid=cept.supervision_unit left join (select oid,project_name from daq_project where active=1) dp on dp.oid=cept.project_oid left join (select oid,tenders_name from daq_tenders where active=1) dt on dt.oid=cept.tenders_oid WHERE cept.active = 1 and cept.oid = :oid', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-21 09:39:34.796', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 17:16:15.874', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c74c47fa-350e-47ea-bd20-da8ce8448fa1', '压力表', 'F000070', 'daq_s_material_pressure_gauge', 'INSERT INTO daq_s_material_pressure_gauge( oid, project_oid, device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_pressure_gauge SET oid=:oid, project_oid=:project_oid,  device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_pressure_gauge SET active = 0 WHERE oid = :oid', 'SELECT
	mpg.oid,
	mpg.project_oid,pro.project_name,
	mpg.tenders_oid,te.tenders_name, 
	mpg.pipeline_oid,pi.pipeline_name,
	mpg.pipe_station_oid,ps.pipe_station_name,
	mpg.device_code,
	mpg.device_name,
	mpg.equipment_type,
	mpg.desin_pressure,
	d.code_name as desin_pressure_name,
	mpg.classification_code,
	mpg.material_code,
	mpg.specification_model,
	mpg.tag_number,
	mpg.manufacture_number,
	mpg.manufacturer,
	to_char(mpg.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpg.guarantee_period,
	mpg.contract_number,
	mpg.remarks,
	mpg.create_user_id,
	mpg.create_user_name,
	mpg.create_datetime,
	mpg.modify_user_id,
	mpg.modify_user_name,
	mpg.modify_datetime,
	mpg.active
FROM
	daq_s_material_pressure_gauge mpg
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpg.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpg.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpg.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpg.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpg.desin_pressure 
WHERE
	1 = 1
AND mpg.active = 1  @where_append  order by mpg.create_datetime desc', 'SELECT
	mpg.oid,
	mpg.project_oid,pro.project_name,
	mpg.tenders_oid,te.tenders_name, 
	mpg.pipeline_oid,pi.pipeline_name,
	mpg.pipe_station_oid,ps.pipe_station_name,
	mpg.device_code,
	mpg.device_name,
	mpg.equipment_type,
	mpg.desin_pressure,
	d.code_name as desin_pressure_name,
	mpg.classification_code,
	mpg.material_code,
	mpg.specification_model,
	mpg.tag_number,
	mpg.manufacture_number,
	mpg.manufacturer,
	to_char(mpg.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mpg.guarantee_period,
	mpg.contract_number,
	mpg.remarks,
	mpg.create_user_id,
	mpg.create_user_name,
	mpg.create_datetime,
	mpg.modify_user_id,
	mpg.modify_user_name,
	mpg.modify_datetime,
	mpg.active
FROM
	daq_s_material_pressure_gauge mpg
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mpg.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mpg.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mpg.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mpg.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mpg.desin_pressure  WHERE mpg.oid = :oid AND mpg.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 03:22:55.946', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:24:55.091', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c88af386-69fa-4163-8cfa-ae8baa2523ee', '流量开关', 'F000181', 'daq_station_metering_switch', 'INSERT INTO daq_station_metering_switch( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, set_value, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :set_value, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_metering_switch SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, set_value=:set_value, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_metering_switch SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	d.code_name as connection_mode_name,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_metering_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.set_value,
	sta.install_location,
	sta.connection_mode,
	d.code_name as connection_mode_name,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_metering_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=sta.connection_mode 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 06:43:06.254', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:31:25.709', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c938dff2-d8f2-46c0-a753-5695b4664653', '444', 'F000009', 'test_project', 'INSERT INTO custom_fun_function test_project( oid, project_name, project_code, construct, engineering_id, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, medium_type ) VALUES ( :oid, :project_name, :project_code, :construct, :engineering_id, :remark, :ordernum, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, :medium_type )', 'UPDATE test_project SET oid=:oid, project_name=:project_name, project_code=:project_code, construct=:construct, engineering_id=:engineering_id, remark=:remark, ordernum=:ordernum, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, medium_type=:medium_type WHERE oid = :oid AND active = 1', 'UPDATE test_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, construct, engineering_id, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, medium_type FROM test_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, construct, engineering_id, remark, ordernum, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, medium_type FROM test_project WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 18:29:22.34', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-12 18:31:51.609', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c9498996-dd20-4666-806b-75c319751955', '会议电视设备安装', 'F000238', 'daq_station_video_conference', 'INSERT INTO daq_station_video_conference( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result,(select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_video_conference set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_video_conference set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_video_conference where oid=:oid);
UPDATE daq_station_video_conference SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_video_conference set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_video_conference SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_video_conference wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_video_conference where active=1) mac on mac.oid = wc.manufacture_number  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.experimental_result,
case when wc.experimental_result=1 then ''合格'' when wc.experimental_result=0 then ''不合格'' end as experimental_result_name,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_video_conference wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_video_conference where active=1) mac on mac.oid = wc.manufacture_number  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 06:07:46.507', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:01:29.65', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('c9852867-5fc6-4e6c-8865-82aa9a7bfa86', 'fgh', 'F000014', 'sys_attachment', 'INSERT INTO custom_fun_function sys_attachment( oid, file_name, file_type, file_size, content, file_description, file_url, create_user_id, create_user_name, create_time, modify_user_id, modify_user_name, modify_time, active ) VALUES ( :oid, :file_name, :file_type, :file_size, :content, :file_description, :file_url, :current_user_id, :current_user_name, :create_time, :current_user_id, :current_user_name, :modify_time, :active )', 'UPDATE sys_attachment SET oid=:oid, file_name=:file_name, file_type=:file_type, file_size=:file_size, content=:content, file_description=:file_description, file_url=:file_url, create_user_id=:current_user_id, create_user_name=:current_user_name, create_time=:create_time, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_time=:modify_time, active=:active WHERE oid = :oid AND active = 1', 'UPDATE sys_attachment SET active = 0 WHERE oid = :oid', 'SELECT oid, file_name, file_type, file_size, content, file_description, file_url, create_user_id, create_user_name, create_time, modify_user_id, modify_user_name, modify_time, active FROM sys_attachment WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, file_name, file_type, file_size, content, file_description, file_url, create_user_id, create_user_name, create_time, modify_user_id, modify_user_name, modify_time, active FROM sys_attachment WHERE oid = :oid AND active = 1', '0', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 14:29:29.768', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-15 11:01:20.604', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('cb55568f-810a-488f-8302-850e363352c5', '管道过滤器', 'F000137', 'daq_station_pipeline_filter', 'INSERT INTO daq_station_pipeline_filter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, pipeline_filter_code, pipeline_filter_name, manufacture_number, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :pipeline_filter_code, :pipeline_filter_name, :manufacture_number,(select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pipeline_filter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, pipeline_filter_code=:pipeline_filter_code, pipeline_filter_name=:pipeline_filter_name, manufacture_number=:manufacture_number, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pipeline_filter SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.pipeline_filter_code,
	wc.pipeline_filter_name,
	wc.manufacture_number,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pipeline_filter wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.pipeline_filter_code,
	wc.pipeline_filter_name,
	wc.manufacture_number,
	to_char(wc.construct_datetime, ''YYYY-MM-DD'') as construct_datetime,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pipeline_filter wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 06:34:24.419', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:49:15.994', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('cd903363-4601-4842-becd-d207fcc930b1', '压缩机燃气机安装', 'F000123', 'daq_station_compressor_gas_engine', 'INSERT INTO daq_station_compressor_gas_engine( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, construct_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), (select :construct_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_compressor_gas_engine set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_compressor_gas_engine set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_compressor_gas_engine where oid=:oid);
UPDATE daq_station_compressor_gas_engine SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),construct_date=(select :construct_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_compressor_gas_engine set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_compressor_gas_engine SET active = 0 WHERE oid = :oid', 'SELECT
	scge.oid,
	scge.project_oid,pro.project_name,
	scge.tenders_oid,te.tenders_name, 
	scge.pipeline_oid,pi.pipeline_name,
	scge.pipe_station_oid,ps.pipe_station_name,
	scge.device_code,
	scge.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	scge.construct_unit,
	u.unit_name as construct_unit_name,
	scge.supervision_unit,
	pu.unit_name as supervision_unit_name,
	scge.supervision_engineer,
	scge.collection_person,
	to_char(scge.collection_date, ''YYYY-MM-DD'') as collection_date,
	to_char(scge.construct_date, ''YYYY-MM-DD'') as construct_date,
	scge.approve_status,
	case when scge.approve_status = -1 then ''驳回'' when scge.approve_status = 1 then ''待审核'' when scge.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	scge.remarks,
	scge.create_user_id,
	scge.create_user_name,
	scge.create_datetime,
	scge.modify_user_id,
	scge.modify_user_name,
	scge.modify_datetime,
	scge.active
FROM
	daq_station_compressor_gas_engine scge 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = scge.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = scge.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =scge.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=scge.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = scge.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = scge.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_compressor_gas_engine where active=1) mac on mac.oid = scge.manufacture_number 
WHERE
	1 = 1
AND scge.active = 1  @where_append and @privilege_strategy_sql order by scge.create_datetime desc', 'SELECT
	scge.oid,
	scge.project_oid,pro.project_name,
	scge.tenders_oid,te.tenders_name, 
	scge.pipeline_oid,pi.pipeline_name,
	scge.pipe_station_oid,ps.pipe_station_name,
	scge.device_code,
	scge.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	scge.construct_unit,
	u.unit_name as construct_unit_name,
	scge.supervision_unit,
	pu.unit_name as supervision_unit_name,
	scge.supervision_engineer,
	scge.collection_person,
	to_char(scge.collection_date, ''YYYY-MM-DD'') as collection_date,
	to_char(scge.construct_date, ''YYYY-MM-DD'') as construct_date,
	scge.approve_status,
	case when scge.approve_status = -1 then ''驳回'' when scge.approve_status = 1 then ''待审核'' when scge.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	scge.remarks,
	scge.create_user_id,
	scge.create_user_name,
	scge.create_datetime,
	scge.modify_user_id,
	scge.modify_user_name,
	scge.modify_datetime,
	scge.active
FROM
	daq_station_compressor_gas_engine scge 
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = scge.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = scge.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =scge.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=scge.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = scge.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = scge.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_compressor_gas_engine where active=1) mac on mac.oid = scge.manufacture_number 
WHERE scge.oid = :oid AND scge.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 07:32:06.162', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:46:09.866', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('cd980501-ac6b-49ba-8f31-e04e8396cbd7', '仪表风压缩机撬安装', 'F000124', 'daq_station_instrument_compressor', 'INSERT INTO daq_station_instrument_compressor( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, running_record_time, ambient_temperature, air_point, alarm_temperature, alarm_shutdown_temperature, alarm_shutdown_pressure, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, construct_date ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :running_record_time::timestamp), :ambient_temperature, :air_point, :alarm_temperature, :alarm_shutdown_temperature, :alarm_shutdown_pressure, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, (select :construct_date::timestamp) );
update daq_s_material_instrument_compressor set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_instrument_compressor set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_instrument_compressor where oid=:oid);
UPDATE daq_station_instrument_compressor SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, running_record_time=(select :running_record_time::timestamp), ambient_temperature=:ambient_temperature, air_point=:air_point, alarm_temperature=:alarm_temperature, alarm_shutdown_temperature=:alarm_shutdown_temperature, alarm_shutdown_pressure=:alarm_shutdown_pressure, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, construct_date=(select :construct_date::timestamp) WHERE oid = :oid AND active = 1;
update daq_s_material_instrument_compressor set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_instrument_compressor SET active = 0 WHERE oid = :oid', 'SELECT
	sic.oid,
	sic.project_oid,pro.project_name,
	sic.tenders_oid,te.tenders_name, 
	sic.pipeline_oid,pi.pipeline_name,
	sic.pipe_station_oid,ps.pipe_station_name,
	sic.device_code,
	sic.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sic.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	sic.ambient_temperature,
	sic.air_point,
	sic.alarm_temperature,
	sic.alarm_shutdown_temperature,
	sic.alarm_shutdown_pressure,
	sic.construct_unit,
	u.unit_name as construct_unit_name,
	sic.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sic.supervision_engineer,
	sic.collection_person,
	to_char(sic.collection_date, ''YYYY-MM-DD'') as collection_date,
	sic.approve_status,
	case when sic.approve_status = -1 then ''驳回'' when sic.approve_status = 1 then ''待审核'' when sic.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sic.remarks,
	sic.create_user_id,
	sic.create_user_name,
	sic.create_datetime,
	sic.modify_user_id,
	sic.modify_user_name,
	sic.modify_datetime,
	sic.active,
	to_char(sic.construct_date, ''YYYY-MM-DD'') as construct_date
FROM
	daq_station_instrument_compressor sic
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sic.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sic.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sic.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sic.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sic.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sic.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_instrument_compressor where active=1) mac on mac.oid = sic.manufacture_number 
WHERE
	1 = 1
AND sic.active = 1 @where_append and @privilege_strategy_sql order by sic.create_datetime desc', 'SELECT
	sic.oid,
	sic.project_oid,pro.project_name,
	sic.tenders_oid,te.tenders_name, 
	sic.pipeline_oid,pi.pipeline_name,
	sic.pipe_station_oid,ps.pipe_station_name,
	sic.device_code,
	sic.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	to_char(sic.running_record_time, ''YYYY-MM-DD'') as running_record_time,
	sic.ambient_temperature,
	sic.air_point,
	sic.alarm_temperature,
	sic.alarm_shutdown_temperature,
	sic.alarm_shutdown_pressure,
	sic.construct_unit,
	u.unit_name as construct_unit_name,
	sic.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sic.supervision_engineer,
	sic.collection_person,
	to_char(sic.collection_date, ''YYYY-MM-DD'') as collection_date,
	sic.approve_status,
	case when sic.approve_status = -1 then ''驳回'' when sic.approve_status = 1 then ''待审核'' when sic.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sic.remarks,
	sic.create_user_id,
	sic.create_user_name,
	sic.create_datetime,
	sic.modify_user_id,
	sic.modify_user_name,
	sic.modify_datetime,
	sic.active,
	to_char(sic.construct_date, ''YYYY-MM-DD'') as construct_date
FROM
	daq_station_instrument_compressor sic
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sic.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sic.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sic.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sic.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sic.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sic.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_instrument_compressor where active=1) mac on mac.oid = sic.manufacture_number 
WHERE sic.oid = :oid AND sic.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 08:06:11.789', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:11:12.836', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('cda575f5-fdef-47a7-a415-e320d7831a02', '伴行道路', 'F000043', 'daq_appendages_concomitant_road', 'INSERT INTO daq_appendages_concomitant_road( oid, project_oid, tenders_oid, pipeline_oid, concomitant_road_code, concomitant_road_name, concomitant_road_length, pavement_type, road_width, commence_date, completion_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, geo_state,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :concomitant_road_code, :concomitant_road_name, :concomitant_road_length, :pavement_type, :road_width, (select :commence_date::timestamp), (select :completion_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :geo_state,  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_appendages_concomitant_road SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, concomitant_road_code=:concomitant_road_code, concomitant_road_name=:concomitant_road_name, concomitant_road_length=:concomitant_road_length, pavement_type=:pavement_type, road_width=:road_width, commence_date=(select :commence_date::timestamp), completion_date=(select :completion_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), geo_state=:geo_state,  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_appendages_concomitant_road SET active = 0 WHERE oid = :oid', 'SELECT t.oid,t.project_oid,t.tenders_oid,t.pipeline_oid,t.concomitant_road_code,t.concomitant_road_name,t.concomitant_road_length,t.pavement_type,t.road_width,to_char(t.commence_date,''YYYY-MM-DD'') as commence_date,to_char(t.completion_date,''YYYY-MM-DD'') as completion_date,t.construct_unit,t.supervision_unit,t.supervision_engineer,t.collection_person,to_char(t.collection_date,''YYYY-MM-DD'') as collection_date,t.geo_state,t.approve_status,t.remarks,t.create_user_id,t.create_user_name,t.create_datetime,t.modify_user_id,t.modify_user_name,t.modify_datetime,t.active,sd.code_name as pavement_type_name,dp.project_name,dt.tenders_name,dl.pipeline_name,cu.unit_name as construct_unit_name,su.unit_name as supervision_unit_name,case when t.approve_status = -1 then ''驳回'' when t.approve_status = 1 then ''待审核'' when t.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name FROM daq_appendages_concomitant_road t left join (select code_id,code_name from sys_domain) sd on sd.code_id=t.pavement_type left join (select oid,project_name from daq_project) dp on dp.oid = t.project_oid left join (select oid,tenders_name from daq_tenders) dt on dt.oid=t.tenders_oid left join (select oid,pipeline_name from daq_pipeline) dl on dl.oid=t.pipeline_oid left join (select oid,unit_name from pri_unit) cu on cu.oid=t.construct_unit left join (select oid,unit_name from pri_unit) su on su.oid=t.supervision_unit WHERE 1 = 1  AND t.active = 1 @where_append and @privilege_strategy_sql order by t.create_datetime desc', 'SELECT t.oid,t.project_oid,t.tenders_oid,t.pipeline_oid,t.concomitant_road_code,t.concomitant_road_name,t.concomitant_road_length,t.pavement_type,t.road_width,to_char(t.commence_date,''YYYY-MM-DD'') as commence_date,to_char(t.completion_date,''YYYY-MM-DD'') as completion_date,t.construct_unit,t.supervision_unit,t.supervision_engineer,t.collection_person,to_char(t.collection_date,''YYYY-MM-DD'') as collection_date,t.geo_state,t.approve_status,t.remarks,t.create_user_id,t.create_user_name,t.create_datetime,t.modify_user_id,t.modify_user_name,t.modify_datetime,t.active,sd.code_name as pavement_type_name,dp.project_name,dt.tenders_name,dl.pipeline_name,cu.unit_name as construct_unit_name,su.unit_name as supervision_unit_name,case when t.approve_status = -1 then ''驳回'' when t.approve_status = 1 then ''待审核'' when t.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name FROM daq_appendages_concomitant_road t left join (select code_id,code_name from sys_domain) sd on sd.code_id=t.pavement_type left join (select oid,project_name from daq_project) dp on dp.oid = t.project_oid left join (select oid,tenders_name from daq_tenders) dt on dt.oid=t.tenders_oid left join (select oid,pipeline_name from daq_pipeline) dl on dl.oid=t.pipeline_oid left join (select oid,unit_name from pri_unit) cu on cu.oid=t.construct_unit left join (select oid,unit_name from pri_unit) su on su.oid=t.supervision_unit WHERE t.oid = :oid AND t.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-31 17:05:40.911', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-14 13:38:22.253', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('cee815b9-6cfc-4865-8fc3-ec4e07d990b4', '液位变送器', 'F000084', 'daq_s_material_lit_level_transmitter', 'INSERT INTO daq_s_material_lit_level_transmitter( oid, project_oid,  device_code, device_name, tag_number, desin_pressure, classification_code, material_code, specification_model, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :tag_number, :desin_pressure, :classification_code, :material_code, :specification_model, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_lit_level_transmitter SET oid=:oid, project_oid=:project_oid,device_code=:device_code, device_name=:device_name, tag_number=:tag_number, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_lit_level_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	mlt.oid,
	mlt.project_oid,pro.project_name,
	mlt.tenders_oid,te.tenders_name, 
	mlt.pipeline_oid,pi.pipeline_name,
	mlt.pipe_station_oid,ps.pipe_station_name,
	mlt.device_code,
	mlt.device_name,
	mlt.tag_number,
	mlt.desin_pressure,
	d.code_name as desin_pressure_name,
	mlt.classification_code,
	mlt.material_code,
	mlt.specification_model,
	mlt.manufacture_number,
	mlt.manufacturer,
	to_char(mlt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mlt.guarantee_period,
	mlt.contract_number,
	mlt.remarks,
	mlt.create_user_id,
	mlt.create_user_name,
	mlt.create_datetime,
	mlt.modify_user_id,
	mlt.modify_user_name,
	mlt.modify_datetime,
	mlt.active
FROM
	daq_s_material_lit_level_transmitter mlt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mlt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mlt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mlt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mlt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mlt.desin_pressure 
WHERE
	1 = 1
AND mlt.active = 1  @where_append  order by mlt.create_datetime desc', 'SELECT
	mlt.oid,
	mlt.project_oid,pro.project_name,
	mlt.tenders_oid,te.tenders_name, 
	mlt.pipeline_oid,pi.pipeline_name,
	mlt.pipe_station_oid,ps.pipe_station_name,
	mlt.device_code,
	mlt.device_name,
	mlt.tag_number,
	mlt.desin_pressure,
	d.code_name as desin_pressure_name,
	mlt.classification_code,
	mlt.material_code,
	mlt.specification_model,
	mlt.manufacture_number,
	mlt.manufacturer,
	to_char(mlt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mlt.guarantee_period,
	mlt.contract_number,
	mlt.remarks,
	mlt.create_user_id,
	mlt.create_user_name,
	mlt.create_datetime,
	mlt.modify_user_id,
	mlt.modify_user_name,
	mlt.modify_datetime,
	mlt.active
FROM
	daq_s_material_lit_level_transmitter mlt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mlt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mlt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mlt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mlt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mlt.desin_pressure  WHERE mlt.oid = :oid AND mlt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 06:41:01.686', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:22:00.907', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('cf5d9b15-af51-4f86-b972-fe87bac00c65', '电子巡查系统', 'F000249', 'daq_station_guard_tour_sys', 'INSERT INTO daq_station_guard_tour_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_guard_tour_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_guard_tour_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_guard_tour_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_guard_tour_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:41:50.454', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-12 17:48:47.389', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d050b153-9bc3-4f06-ac71-57630163d1b6', '压力开关', 'F000211', 'daq_station_pressure_switch', 'INSERT INTO daq_station_pressure_switch( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, set_value, install_location, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :set_value, :install_location, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pressure_switch SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, set_value=:set_value, install_location=:install_location, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pressure_switch SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.set_value,
	wc.install_location,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_switch wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.set_value,
	wc.install_location,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_switch wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-9 03:34:54.577', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:26:37.737', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d05a0dac-2047-414a-a705-47ecb496f886', '压缩机电机', 'F000065', 'daq_s_material_compressor_motor', 'INSERT INTO daq_s_material_compressor_motor( oid, project_oid, device_code, device_name, motor_liberation, classification_code, material_code, specification_model, motor_rated_current, motor_rated_torque, motor_start_current, motor_insulation_class_stator, motor_temperature_rise, winding_temp_detector, bearing_temp_detector, space_heater_power, lightning_arrester, differential_protection_ct, motor_weight, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :motor_liberation, :classification_code, :material_code, :specification_model, :motor_rated_current, :motor_rated_torque, :motor_start_current, :motor_insulation_class_stator, :motor_temperature_rise, :winding_temp_detector, :bearing_temp_detector, :space_heater_power, :lightning_arrester, :differential_protection_ct, :motor_weight, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_compressor_motor SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, motor_liberation=:motor_liberation, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, motor_rated_current=:motor_rated_current, motor_rated_torque=:motor_rated_torque, motor_start_current=:motor_start_current, motor_insulation_class_stator=:motor_insulation_class_stator, motor_temperature_rise=:motor_temperature_rise, winding_temp_detector=:winding_temp_detector, bearing_temp_detector=:bearing_temp_detector, space_heater_power=:space_heater_power, lightning_arrester=:lightning_arrester, differential_protection_ct=:differential_protection_ct, motor_weight=:motor_weight, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_compressor_motor SET active = 0 WHERE oid = :oid', 'SELECT
  wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.motor_liberation,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.motor_rated_current,
	wc.motor_rated_torque,
	wc.motor_start_current,
	wc.motor_insulation_class_stator,
	CASE
WHEN wc.motor_insulation_class_stator = 1 THEN
	''B''
WHEN wc.motor_insulation_class_stator = 2 THEN
	''F''
WHEN wc.motor_insulation_class_stator = 3 THEN
	''H''
END AS motor_insulation_class_stator_name,
 wc.motor_temperature_rise,
CASE
WHEN wc.motor_temperature_rise = 1 THEN
	''B''
WHEN wc.motor_temperature_rise = 2 THEN
	''F''
WHEN wc.motor_temperature_rise = 3 THEN
	''H''
END AS motor_temperature_rise_name,
 wc.winding_temp_detector,
 wc.bearing_temp_detector,
 wc.space_heater_power,
 wc.lightning_arrester,
 wc.differential_protection_ct,
 wc.motor_weight,
 wc.manufacture_number,
 wc.manufacturer,
 to_char(
	wc.manufacture_date,
	''YYYY-MM-DD''
) AS manufacture_date,
 wc.guarantee_period,
 wc.contract_number,
 wc.remarks,
 wc.create_user_id,
 wc.create_user_name,
 wc.create_datetime,
 wc.modify_user_id,
 wc.modify_user_name,
 wc.modify_datetime,
 wc.active,
 pro.project_name,
 pi.pipeline_name,
 te.tenders_name,
 ps.pipe_station_name
FROM
	daq_s_material_compressor_motor wc
LEFT JOIN (
	SELECT
		oid,
		project_name,
		active
	FROM
		daq_project
	WHERE
		active = 1
) pro ON pro.oid = wc.project_oid
LEFT JOIN (
	SELECT
		oid,
		pipeline_name,
		active
	FROM
		daq_pipeline
	WHERE
		active = 1
) pi ON pi.oid = wc.pipeline_oid
LEFT JOIN (
	SELECT
		oid,
		tenders_name,
		active
	FROM
		daq_tenders
	WHERE
		active = 1
) te ON te.oid = wc.tenders_oid
LEFT JOIN (
	SELECT
		oid,
		pipe_station_name,
		active
	FROM
		daq_pipe_station
	WHERE
		active = 1
) ps ON ps.oid = wc.pipe_station_oid WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.motor_liberation,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.motor_rated_current,
	wc.motor_rated_torque,
	wc.motor_start_current,
	wc.motor_insulation_class_stator,
	CASE
WHEN wc.motor_insulation_class_stator = 1 THEN
	''B''
WHEN wc.motor_insulation_class_stator = 2 THEN
	''F''
WHEN wc.motor_insulation_class_stator = 3 THEN
	''H''
END AS motor_insulation_class_stator_name,
 wc.motor_temperature_rise,
CASE
WHEN wc.motor_temperature_rise = 1 THEN
	''B''
WHEN wc.motor_temperature_rise = 2 THEN
	''F''
WHEN wc.motor_temperature_rise = 3 THEN
	''H''
END AS motor_temperature_rise_name,
 wc.winding_temp_detector,
 wc.bearing_temp_detector,
 wc.space_heater_power,
 wc.lightning_arrester,
 wc.differential_protection_ct,
 wc.motor_weight,
 wc.manufacture_number,
 wc.manufacturer,
 to_char(
	wc.manufacture_date,
	''YYYY-MM-DD''
) AS manufacture_date,
 wc.guarantee_period,
 wc.contract_number,
 wc.remarks,
 wc.create_user_id,
 wc.create_user_name,
 wc.create_datetime,
 wc.modify_user_id,
 wc.modify_user_name,
 wc.modify_datetime,
 wc.active,
 pro.project_name,
 pi.pipeline_name,
 te.tenders_name,
 ps.pipe_station_name
FROM
	daq_s_material_compressor_motor wc
LEFT JOIN (
	SELECT
		oid,
		project_name,
		active
	FROM
		daq_project
	WHERE
		active = 1
) pro ON pro.oid = wc.project_oid
LEFT JOIN (
	SELECT
		oid,
		pipeline_name,
		active
	FROM
		daq_pipeline
	WHERE
		active = 1
) pi ON pi.oid = wc.pipeline_oid
LEFT JOIN (
	SELECT
		oid,
		tenders_name,
		active
	FROM
		daq_tenders
	WHERE
		active = 1
) te ON te.oid = wc.tenders_oid
LEFT JOIN (
	SELECT
		oid,
		pipe_station_name,
		active
	FROM
		daq_pipe_station
	WHERE
		active = 1
) ps ON ps.oid = wc.pipe_station_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 01:47:36.471', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-14 14:32:15.587', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d0b505a8-8551-4ee4-a1bb-7e0f028f884e', '标段管理表', 'F000018', 'daq_tenders', 'INSERT INTO daq_tenders( oid, tenders_name, tenders_code, project_oid, manage_model, start_stake_oid, end_stake_oid, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :tenders_name, :tenders_code, :project_oid, :manage_model, :start_stake_oid, :end_stake_oid, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_tenders SET oid=:oid, tenders_name=:tenders_name, tenders_code=:tenders_code, project_oid=:project_oid, manage_model=:manage_model, start_stake_oid=:start_stake_oid, end_stake_oid=:end_stake_oid, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_tenders SET active = 0 WHERE oid = :oid', 'SELECT t.oid, t.tenders_name, t.tenders_code, t.project_oid, pro.project_name, t.manage_model, t.start_stake_oid, sta.median_stake_code AS start_stake_code, t.end_stake_oid, sta1.median_stake_code AS end_stake_code, t.remarks, t.create_user_id, t.create_user_name, t.create_datetime, t.modify_user_id, t.modify_user_name, t.modify_datetime, t.active FROM daq_tenders t LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = t.project_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake where active=1) sta ON sta.oid = t.start_stake_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake where active=1) sta1 ON sta1.oid = t.end_stake_oid WHERE t.active = 1  @where_append order by t.create_datetime desc', 'SELECT t.oid, t.tenders_name, t.tenders_code, t.project_oid, pro.project_name, t.manage_model, t.start_stake_oid, sta.median_stake_code AS start_stake_code, t.end_stake_oid, sta1.median_stake_code AS end_stake_code, t.remarks, t.create_user_id, t.create_user_name, t.create_datetime, t.modify_user_id, t.modify_user_name, t.modify_datetime, t.active FROM daq_tenders t LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = t.project_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake where active=1) sta ON sta.oid = t.start_stake_oid LEFT JOIN (SELECT	oid,active,	median_stake_code	FROM daq_median_stake where active=1) sta1 ON sta1.oid = t.end_stake_oid WHERE t.oid = :oid AND t.active = 1 ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-6-13 15:58:10.643', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-10-17 13:42:20.546', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d1c9d2c2-72d0-4f34-9b04-52c4af267c29', '测试', 'F000117', 'daq_s_material_prover_system', 'INSERT INTO daq_s_material_prover_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, repeablity_of_prover, range_ratio, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :pressure_rating, :repeablity_of_prover, :range_ratio, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, :manufacture_date, :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_prover_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, repeablity_of_prover=:repeablity_of_prover, range_ratio=:range_ratio, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=:manufacture_date, guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_prover_system SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, repeablity_of_prover, range_ratio, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_s_material_prover_system WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, pressure_rating, repeablity_of_prover, range_ratio, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_s_material_prover_system WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 10:31:03.435', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 10:31:54.723', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d32f75c2-f27b-42fc-9668-df84db572f79', '光纤预警设备', 'F000253', 'daq_station_fo_early_warning', 'INSERT INTO daq_station_fo_early_warning( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_fo_early_warning SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_fo_early_warning SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_fo_early_warning sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_fo_early_warning sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 16:11:38.03', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 10:25:31.546', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d378f5ad-28a3-4b85-ab6a-c38ca0cf6bfb', 'leikai_test', 'F000034', 'daq_weld_cut', 'INSERT INTO custom_fun_function daq_weld_cut( oid, project_oid, pipeline_oid, tenders_oid, pipe_segment_or_cross_oid, cut_weld_code, front_weld_oid, back_weld_oid, cut_weld_date, construct_unit, work_unit_oid, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :pipeline_oid, :tenders_oid, :pipe_segment_or_cross_oid, :cut_weld_code, :front_weld_oid, :back_weld_oid, :cut_weld_date, :construct_unit, :work_unit_oid, :supervision_unit, :supervision_engineer, :collection_person, :collection_date, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_weld_cut SET oid=:oid, project_oid=:project_oid, pipeline_oid=:pipeline_oid, tenders_oid=:tenders_oid, pipe_segment_or_cross_oid=:pipe_segment_or_cross_oid, cut_weld_code=:cut_weld_code, front_weld_oid=:front_weld_oid, back_weld_oid=:back_weld_oid, cut_weld_date=:cut_weld_date, construct_unit=:construct_unit, work_unit_oid=:work_unit_oid, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=:collection_date, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_weld_cut SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, pipeline_oid, tenders_oid, pipe_segment_or_cross_oid, cut_weld_code, front_weld_oid, back_weld_oid, cut_weld_date, construct_unit, work_unit_oid, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_weld_cut WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, pipeline_oid, tenders_oid, pipe_segment_or_cross_oid, cut_weld_code, front_weld_oid, back_weld_oid, cut_weld_date, construct_unit, work_unit_oid, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_weld_cut WHERE oid = :oid AND active = 1', '0', '855cdb06-ab81-4efc-9daa-db7027c412a2', '雷凯', '2018-7-5 17:26:24.415', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-23 14:14:32.676', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d62b3259-ac08-4a7d-a324-d250a0ed134a', '太阳能电源系统', 'F000106', 'daq_s_material_solar_power_system', 'INSERT INTO daq_s_material_solar_power_system( oid, project_oid,  device_code, device_name, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_solar_power_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_solar_power_system SET active = 0 WHERE oid = :oid', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid 
WHERE
	1 = 1
AND msps.active = 1  @where_append  order by msps.create_datetime desc', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid  WHERE msps.oid = :oid AND msps.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:55:18.086', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:29:35.436', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d64c493d-66b4-44ac-a061-c6ee7ed00450', 'daprojec', 'F000053', 'daq_project', 'INSERT INTO daq_project( oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_name, :project_code, :pipe_network_type_code, :medium_type_code, :construct, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_project SET oid=:oid, project_name=:project_name, project_code=:project_code, pipe_network_type_code=:pipe_network_type_code, medium_type_code=:medium_type_code, construct=:construct, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_project SET active = 0 WHERE oid = :oid', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_name, project_code, pipe_network_type_code, medium_type_code, construct, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_project WHERE oid = :oid AND active = 1', '0', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-29 11:04:50.087', '038b1df6cfd74e679b27916a0e813360', '超级管理员', '2018-11-29 11:05:19.077', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d79db06c-f67e-4483-8907-a23dee3393cc', '网络交换机', 'F000250', 'daq_station_safe_switch', 'INSERT INTO daq_station_safe_switch( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, ip_address, subnet_mask, geteway, dns_address, spare_dns_address, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :ip_address, :subnet_mask, :geteway, :dns_address, :spare_dns_address, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_safe_switch SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, ip_address=:ip_address, subnet_mask=:subnet_mask, geteway=:geteway, dns_address=:dns_address, spare_dns_address=:spare_dns_address, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_safe_switch SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.ip_address,
	sta.subnet_mask,
	sta.geteway,
	sta.dns_address,
	sta.spare_dns_address,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_safe_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.ip_address,
	sta.subnet_mask,
	sta.geteway,
	sta.dns_address,
	sta.spare_dns_address,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_safe_switch sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:50:57.589', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:52:59.171', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('d938f3e1-13a9-423b-b0b8-0cf6c7dc5b9b', '三通检查及信息记录表', 'F000032', 'daq_check_tee', 'INSERT INTO daq_check_tee( oid, project_oid,tenders_oid,construct_unit, tee_code_oid, pipe_wall_thickness, branch_wall_thickness, ovality, groove_check, coating_io_face_check, coating_io_ends_check, checked_by, checked_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid,:project_oid,:tenders_oid,:construct_unit, :tee_code_oid, :pipe_wall_thickness, :branch_wall_thickness, :ovality, :groove_check, :coating_io_face_check, :coating_io_ends_check, :checked_by,(select :checked_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_check_tee SET oid=:oid, project_oid=:project_oid,tenders_oid=:tenders_oid,construct_unit=:construct_unit, tee_code_oid=:tee_code_oid, pipe_wall_thickness=:pipe_wall_thickness, branch_wall_thickness=:branch_wall_thickness, ovality=:ovality, groove_check=:groove_check, coating_io_face_check=:coating_io_face_check, coating_io_ends_check=:coating_io_ends_check, checked_by=:checked_by, checked_date=(select :checked_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_check_tee SET active = 0 WHERE oid = :oid', 'SELECT ct.commit_status, ct.oid,ct.project_oid, ct.tenders_oid,ct.construct_unit, ct.tee_code_oid, ct.pipe_wall_thickness, ct.branch_wall_thickness,	CASE
WHEN ct.ovality = ''1'' THEN
	''合格''
WHEN ct.ovality = ''0'' THEN
	''不合格''
ELSE
	''''
END ovality_name,
ct.ovality,
 CASE
WHEN ct.groove_check = ''1'' THEN
	''合格''
WHEN ct.groove_check = ''0'' THEN
	''不合格''
ELSE
	''''
END groove_check_name,
ct.groove_check,
 CASE
WHEN ct.coating_io_face_check = ''1'' THEN
	''合格''
WHEN ct.coating_io_face_check = ''0'' THEN
	''不合格''
ELSE
	''''
END coating_io_face_check_name,
ct.coating_io_face_check,
 CASE
WHEN ct.coating_io_ends_check = ''1'' THEN
	''合格''
WHEN ct.coating_io_ends_check = ''0'' THEN
	''不合格''
ELSE ''''
END coating_io_ends_check_name,
coating_io_ends_check, ct.checked_by, to_char(ct.checked_date, ''YYYY-MM-DD'') as checked_date, ct.remarks, ct.create_user_id, ct.create_user_name, ct.create_datetime, ct.modify_user_id, ct.modify_user_name, ct.modify_datetime, ct.active, pro.project_name, pi.unit_name,te.tenders_name,mt.tee_code FROM daq_check_tee ct left join (select oid,tee_code as tee_code from daq_material_tee where active=1) mt on mt.oid=ct.tee_code_oid LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = ct.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = ct.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = ct.tenders_oid where  ct.active = 1 @where_append and @privilege_strategy_sql order by ct.create_datetime,mt.tee_code desc', 'SELECT ct.oid,ct.project_oid, ct.tenders_oid,ct.construct_unit, ct.tee_code_oid, ct.pipe_wall_thickness, ct.branch_wall_thickness,	CASE
WHEN ct.ovality = ''1'' THEN
	''合格''
WHEN ct.ovality = ''0'' THEN
	''不合格''
ELSE
	''''
END ovality_name,
ct.ovality,
 CASE
WHEN ct.groove_check = ''1'' THEN
	''合格''
WHEN ct.groove_check = ''0'' THEN
	''不合格''
ELSE
	''''
END groove_check_name,
ct.groove_check,
 CASE
WHEN ct.coating_io_face_check = ''1'' THEN
	''合格''
WHEN ct.coating_io_face_check = ''0'' THEN
	''不合格''
ELSE
	''''
END coating_io_face_check_name,
ct.coating_io_face_check,
 CASE
WHEN ct.coating_io_ends_check = ''1'' THEN
	''合格''
WHEN ct.coating_io_ends_check = ''0'' THEN
	''不合格''
ELSE ''''
END coating_io_ends_check_name,
coating_io_ends_check, ct.checked_by, to_char(ct.checked_date, ''YYYY-MM-DD'') as checked_date, ct.remarks, ct.create_user_id, ct.create_user_name, ct.create_datetime, ct.modify_user_id, ct.modify_user_name, ct.modify_datetime, ct.active, pro.project_name, pi.unit_name,te.tenders_name,mt.tee_code FROM daq_check_tee ct left join (select oid,tee_code as tee_code from daq_material_tee where active=1) mt on mt.oid=ct.tee_code_oid LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = ct.project_oid LEFT JOIN (SELECT oid, unit_name, active FROM pri_unit where active=1) pi ON pi.oid = ct.construct_unit LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = ct.tenders_oid WHERE ct.oid = :oid AND ct.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-3 09:49:31.198', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 14:18:40.04', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('daa483ca-307d-46c1-be53-5b425bda251e', '调压系统安装', 'F000196', 'daq_station_pressure_control_system', 'INSERT INTO daq_station_pressure_control_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_pressure_control_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_pressure_control_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pressure_control_system where oid=:oid);
UPDATE daq_station_pressure_control_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_pressure_control_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_pressure_control_system SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.manufacture_number,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_pressure_control_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_control_system where active=1) mac on mac.oid = sss.manufacture_number 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.manufacture_number,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_pressure_control_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_control_system where active=1) mac on mac.oid = sss.manufacture_number 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 08:21:13.788', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 17:03:56.917', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('dac9df6b-c759-462f-8a00-7fd08132b12e', '阀室监视系统', 'F000178', 'daq_station_supervisory_system', 'INSERT INTO daq_station_supervisory_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_supervisory_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_supervisory_system SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_supervisory_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_supervisory_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 05:46:17.463', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:51:22.971', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('db5842dd-e8b1-4f3f-abc1-dcc8960407b7', '压缩机燃气机', 'F000071', 'daq_s_material_compressor_gas_engine', 'INSERT INTO daq_s_material_compressor_gas_engine( oid, project_oid, device_code, device_name, drive_type, classification_code, material_code, specification_model, tag_number, rated_efficiency, fuel_system_material, lubricating_oil_type, lubricating_oil_manufacturers, power_turbine_series, power_turbine_manufacturers, power_turbine_sequence_number, gas_generator, air_inlet_filter_precision, air_inlet_filter_factory, compressor_lubricating, compressor_cooling, gas_engine_weight, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :drive_type, :classification_code, :material_code, :specification_model, :tag_number, :rated_efficiency, :fuel_system_material, :lubricating_oil_type, :lubricating_oil_manufacturers, :power_turbine_series, :power_turbine_manufacturers, :power_turbine_sequence_number, :gas_generator, :air_inlet_filter_precision, :air_inlet_filter_factory, :compressor_lubricating, :compressor_cooling, :gas_engine_weight, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_compressor_gas_engine SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, drive_type=:drive_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, rated_efficiency=:rated_efficiency, fuel_system_material=:fuel_system_material, lubricating_oil_type=:lubricating_oil_type, lubricating_oil_manufacturers=:lubricating_oil_manufacturers, power_turbine_series=:power_turbine_series, power_turbine_manufacturers=:power_turbine_manufacturers, power_turbine_sequence_number=:power_turbine_sequence_number, gas_generator=:gas_generator, air_inlet_filter_precision=:air_inlet_filter_precision, air_inlet_filter_factory=:air_inlet_filter_factory, compressor_lubricating=:compressor_lubricating, compressor_cooling=:compressor_cooling, gas_engine_weight=:gas_engine_weight, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_compressor_gas_engine SET active = 0 WHERE oid = :oid', 'SELECT
   wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.drive_type,
	case when wc.drive_type=1 then ''燃气轮机'' when wc.drive_type=2 then ''燃气发动机'' end as drive_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.tag_number,
	wc.rated_efficiency,
	wc.fuel_system_material,
	wc.lubricating_oil_type,
	wc.lubricating_oil_manufacturers,
	wc.power_turbine_series,
	wc.power_turbine_manufacturers,
	wc.power_turbine_sequence_number,
	wc.gas_generator,
	wc.air_inlet_filter_precision,
	wc.air_inlet_filter_factory,
	wc.compressor_lubricating,
  case when wc.compressor_lubricating=1 then ''合并润滑'' when wc.compressor_lubricating=2 then ''独立润滑'' end as compressor_lubricating_name,
	wc.compressor_cooling,
  case when wc.compressor_cooling=1 then ''水冷'' when wc.compressor_cooling=2 then ''空冷'' end as compressor_cooling_name,
	wc.gas_engine_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_compressor_gas_engine wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE 1 = 1  AND wc.active = 1 @where_append order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.drive_type,
	case when wc.drive_type=1 then ''燃气轮机'' when wc.drive_type=2 then ''燃气发动机'' end as drive_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.tag_number,
	wc.rated_efficiency,
	wc.fuel_system_material,
	wc.lubricating_oil_type,
	wc.lubricating_oil_manufacturers,
	wc.power_turbine_series,
	wc.power_turbine_manufacturers,
	wc.power_turbine_sequence_number,
	wc.gas_generator,
	wc.air_inlet_filter_precision,
	wc.air_inlet_filter_factory,
	wc.compressor_lubricating,
  case when wc.compressor_lubricating=1 then ''合并润滑'' when wc.compressor_lubricating=2 then ''独立润滑'' end as compressor_lubricating_name,
	wc.compressor_cooling,
  case when wc.compressor_cooling=1 then ''水冷'' when wc.compressor_cooling=2 then ''空冷'' end as compressor_cooling_name,
	wc.gas_engine_weight,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_compressor_gas_engine wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 03:27:05.66', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:36:29.279', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('db8468b8-a64c-4430-bd11-3a2662269a1b', '低压开关柜', 'F000098', 'daq_s_material_low_voltage_switchgear', 'INSERT INTO daq_s_material_low_voltage_switchgear( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, voltage_switchgear_name, voltage_switchgear_type, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :voltage_switchgear_name, :voltage_switchgear_type, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_low_voltage_switchgear SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, voltage_switchgear_name=:voltage_switchgear_name, voltage_switchgear_type=:voltage_switchgear_type, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date= (select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_low_voltage_switchgear SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.voltage_switchgear_name, sss.voltage_switchgear_type, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer,to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name voltage_switchgear_name_name, doma1.code_name voltage_switchgear_type_name 
FROM daq_s_material_low_voltage_switchgear sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''low_voltage_switchgear_name_domain'' and active=1 ) doma ON doma.code_id = sss.voltage_switchgear_name
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''low_voltage_switchgear_type_domain'' and active=1 ) doma1 ON doma1.code_id = sss.voltage_switchgear_type
WHERE
	1 = 1
AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.voltage_switchgear_name, sss.voltage_switchgear_type, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer,to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,doma.code_name voltage_switchgear_name_name, doma1.code_name voltage_switchgear_type_name 
FROM daq_s_material_low_voltage_switchgear sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''low_voltage_switchgear_name_domain'' and active=1 ) doma ON doma.code_id = sss.voltage_switchgear_name
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''low_voltage_switchgear_type_domain'' and active=1 ) doma1 ON doma1.code_id = sss.voltage_switchgear_type
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:10:36.616', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:27:02.388', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e126bb6c-184d-4e83-9b7a-3d27d1d5d6c1', '储罐沉降试验', 'F000149', 'daq_station_storage_tank_sedimentation_test', 'INSERT INTO daq_station_storage_tank_sedimentation_test( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, test_water_temperature, test_water_height, test_pressure_date, test_pressure_function, test_report_num, test_conclusion, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :test_water_temperature, :test_water_height, (select :test_pressure_date::timestamp), :test_pressure_function, :test_report_num, :test_conclusion, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_sedimentation_test SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, test_water_temperature=:test_water_temperature, test_water_height=:test_water_height, test_pressure_date=(select :test_pressure_date::timestamp), test_pressure_function=:test_pressure_function, test_report_num=:test_report_num, test_conclusion=:test_conclusion, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_sedimentation_test SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, dsst.device_name storage_tank_oid_name, sss.test_water_temperature, sss.test_water_height, to_char(sss.test_pressure_date, ''YYYY-MM-DD'') as test_pressure_date, sss.test_pressure_function, sss.test_report_num, sss.test_conclusion, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM daq_station_storage_tank_sedimentation_test sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, dsst.device_name storage_tank_oid_name, sss.test_water_temperature, sss.test_water_height, to_char(sss.test_pressure_date, ''YYYY-MM-DD'') as test_pressure_date, sss.test_pressure_function, sss.test_report_num, sss.test_conclusion, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM daq_station_storage_tank_sedimentation_test sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 10:00:11.6', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:37:18.69', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e1302ac3-0f81-472e-a506-9f0a3bfd8a23', '清管器收发球装置', 'F000096', 'daq_s_material_pig_receiver_launcher', 'INSERT INTO daq_s_material_pig_receiver_launcher( oid, project_oid, device_code,device_name, device_type, classification_code, material_code, specification_model, qoc_manufacturer_number, qoc_is_imports, qoc_provenance, qoc_manufacturer, qoc_manufacture_date, qoc_guarantee_period, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,:device_code, :device_name, :device_type, :classification_code, :material_code, :specification_model, :qoc_manufacturer_number, :qoc_is_imports, :qoc_provenance, :qoc_manufacturer, (select :qoc_manufacture_date::timestamp), :qoc_guarantee_period, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_pig_receiver_launcher SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, device_type=:device_type, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, qoc_manufacturer_number=:qoc_manufacturer_number, qoc_is_imports=:qoc_is_imports, qoc_provenance=:qoc_provenance, qoc_manufacturer=:qoc_manufacturer, qoc_manufacture_date=(select :qoc_manufacture_date::timestamp), qoc_guarantee_period=:qoc_guarantee_period, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_pig_receiver_launcher SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.device_type,
case when wc.device_type=1 then ''发球筒'' when wc.device_type=2 then ''收球筒'' when wc.device_type=3 then ''转球筒'' end as device_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.qoc_manufacturer_number,
	wc.qoc_is_imports,
case when wc.qoc_is_imports=0 then ''否'' when wc.qoc_is_imports=1 then ''是'' end as qoc_is_imports_name,
	wc.qoc_provenance,
	wc.qoc_manufacturer,
to_char(wc.qoc_manufacture_date, ''YYYY-MM-DD'') as qoc_manufacture_date,
	wc.qoc_guarantee_period,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_pig_receiver_launcher wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE 1 = 1 AND wc.active = 1 @where_append order by wc.create_datetime desc ', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.device_type,
case when wc.device_type=1 then ''发球筒'' when wc.device_type=2 then ''收球筒'' when wc.device_type=3 then ''转球筒'' end as device_type_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.qoc_manufacturer_number,
	wc.qoc_is_imports,
case when wc.qoc_is_imports=0 then ''否'' when wc.qoc_is_imports=1 then ''是'' end as qoc_is_imports_name,
	wc.qoc_provenance,
	wc.qoc_manufacturer,
to_char(wc.qoc_manufacture_date, ''YYYY-MM-DD'') as qoc_manufacture_date,
	wc.qoc_guarantee_period,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_pig_receiver_launcher wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 08:25:09.257', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-14 16:19:55.99', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e177246c-0759-495f-aba0-9cc243a84e11', 'VSAT卫星通信系统', 'F000225', 'daq_station_vsat_satellite_communication_sys', 'INSERT INTO daq_station_vsat_satellite_communication_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_vsat_satellite_communication_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_vsat_satellite_communication_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_vsat_satellite_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_vsat_satellite_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 02:46:33.907', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:19:23.462', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e1d67ef5-3f27-4b04-a324-98f4ec9462c5', '调节阀', 'F000092', 'daq_s_material_control_valve', 'INSERT INTO daq_s_material_control_valve( oid, project_oid,  device_code, device_name, pressure_rating, rated_cv, valve_function, characteristic_of_valve, valve_axial_size, valve_weight, torque, valve_body_seal_type, valve_body_hard_seal_material, valve_body_soft_seal_material, valve_handle_diameter, valve_handle_seal_type, valve_handle_seal_material, flange_standard, flange_sealing_surface_type, actuator_model, actuator_batch, actuator_quantity, actuator_manufacture_number, actuator_imports_or_exports, actuator_provenance, actuator_design_life, actuator_manufacturer, actuator_manufacture_date, actuator_tag_number, actuator_minimum_operation_time, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :pressure_rating, :rated_cv, :valve_function, :characteristic_of_valve, :valve_axial_size, :valve_weight, :torque, :valve_body_seal_type, :valve_body_hard_seal_material, :valve_body_soft_seal_material, :valve_handle_diameter, :valve_handle_seal_type, :valve_handle_seal_material, :flange_standard, :flange_sealing_surface_type, :actuator_model, :actuator_batch, :actuator_quantity, :actuator_manufacture_number, :actuator_imports_or_exports, :actuator_provenance, :actuator_design_life, :actuator_manufacturer, (select :actuator_manufacture_date::timestamp), :actuator_tag_number, :actuator_minimum_operation_time, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_control_valve SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, rated_cv=:rated_cv, valve_function=:valve_function, characteristic_of_valve=:characteristic_of_valve, valve_axial_size=:valve_axial_size, valve_weight=:valve_weight, torque=:torque, valve_body_seal_type=:valve_body_seal_type, valve_body_hard_seal_material=:valve_body_hard_seal_material, valve_body_soft_seal_material=:valve_body_soft_seal_material, valve_handle_diameter=:valve_handle_diameter, valve_handle_seal_type=:valve_handle_seal_type, valve_handle_seal_material=:valve_handle_seal_material, flange_standard=:flange_standard, flange_sealing_surface_type=:flange_sealing_surface_type, actuator_model=:actuator_model, actuator_batch=:actuator_batch, actuator_quantity=:actuator_quantity, actuator_manufacture_number=:actuator_manufacture_number, actuator_imports_or_exports=:actuator_imports_or_exports, actuator_provenance=:actuator_provenance, actuator_design_life=:actuator_design_life, actuator_manufacturer=:actuator_manufacturer, actuator_manufacture_date=(select :actuator_manufacture_date::timestamp), actuator_tag_number=:actuator_tag_number, actuator_minimum_operation_time=:actuator_minimum_operation_time, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_control_valve SET active = 0 WHERE oid = :oid', 'SELECT
	mcv.oid,
	mcv.project_oid,pro.project_name,
	mcv.tenders_oid,te.tenders_name, 
	mcv.pipeline_oid,pi.pipeline_name,
	mcv.pipe_station_oid,ps.pipe_station_name,
	mcv.device_code,
	mcv.device_name,
	mcv.pressure_rating,
	d.code_name as pressure_rating_name,
	mcv.rated_cv,
	mcv.valve_function,
	mcv.characteristic_of_valve,
	mcv.valve_axial_size,
	mcv.valve_weight,
	mcv.torque,
	mcv.valve_body_seal_type,
	mcv.valve_body_hard_seal_material,
	mcv.valve_body_soft_seal_material,
	mcv.valve_handle_diameter,
	mcv.valve_handle_seal_type,
	mcv.valve_handle_seal_material,
	mcv.flange_standard,
	mcv.flange_sealing_surface_type,
	mcv.actuator_model,
	mcv.actuator_batch,
	mcv.actuator_quantity,
	mcv.actuator_manufacture_number,
	mcv.actuator_imports_or_exports,
	case when mcv.actuator_imports_or_exports=1 then ''是'' when mcv.actuator_imports_or_exports=0 then ''否'' end as pipe_mouth_preheat_name,
	mcv.actuator_provenance,
	mcv.actuator_design_life,
	mcv.actuator_manufacturer,
	to_char(mcv.actuator_manufacture_date, ''YYYY-MM-DD'') as actuator_manufacture_date,
	mcv.actuator_tag_number,
	mcv.actuator_minimum_operation_time,
	mcv.classification_code,
	mcv.material_code,
	mcv.specification_model,
	mcv.tag_number,
	mcv.manufacture_number,
	mcv.manufacturer,
	to_char(mcv.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mcv.guarantee_period,
	mcv.contract_number,
	mcv.remarks,
	mcv.create_user_id,
	mcv.create_user_name,
	mcv.create_datetime,
	mcv.modify_user_id,
	mcv.modify_user_name,
	mcv.modify_datetime,
	mcv.active
FROM
	daq_s_material_control_valve mcv
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mcv.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mcv.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mcv.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mcv.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mcv.pressure_rating  
WHERE
	1 = 1
AND mcv.active = 1  @where_append order by mcv.create_datetime desc', 'SELECT
	mcv.oid,
	mcv.project_oid,pro.project_name,
	mcv.tenders_oid,te.tenders_name, 
	mcv.pipeline_oid,pi.pipeline_name,
	mcv.pipe_station_oid,ps.pipe_station_name,
	mcv.device_code,
	mcv.device_name,
	mcv.pressure_rating,
	d.code_name as pressure_rating_name,
	mcv.rated_cv,
	mcv.valve_function,
	mcv.characteristic_of_valve,
	mcv.valve_axial_size,
	mcv.valve_weight,
	mcv.torque,
	mcv.valve_body_seal_type,
	mcv.valve_body_hard_seal_material,
	mcv.valve_body_soft_seal_material,
	mcv.valve_handle_diameter,
	mcv.valve_handle_seal_type,
	mcv.valve_handle_seal_material,
	mcv.flange_standard,
	mcv.flange_sealing_surface_type,
	mcv.actuator_model,
	mcv.actuator_batch,
	mcv.actuator_quantity,
	mcv.actuator_manufacture_number,
	mcv.actuator_imports_or_exports,
	case when mcv.actuator_imports_or_exports=1 then ''是'' when mcv.actuator_imports_or_exports=0 then ''否'' end as pipe_mouth_preheat_name,
	mcv.actuator_provenance,
	mcv.actuator_design_life,
	mcv.actuator_manufacturer,
	to_char(mcv.actuator_manufacture_date, ''YYYY-MM-DD'') as actuator_manufacture_date,
	mcv.actuator_tag_number,
	mcv.actuator_minimum_operation_time,
	mcv.classification_code,
	mcv.material_code,
	mcv.specification_model,
	mcv.tag_number,
	mcv.manufacture_number,
	mcv.manufacturer,
	to_char(mcv.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mcv.guarantee_period,
	mcv.contract_number,
	mcv.remarks,
	mcv.create_user_id,
	mcv.create_user_name,
	mcv.create_datetime,
	mcv.modify_user_id,
	mcv.modify_user_name,
	mcv.modify_datetime,
	mcv.active
FROM
	daq_s_material_control_valve mcv
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mcv.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mcv.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mcv.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mcv.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mcv.pressure_rating   WHERE mcv.oid = :oid AND mcv.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 08:02:58.478', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-18 10:25:22.651', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e3a49b86-3450-4e6c-9832-36368bc40a72', '站控系统(SCS)安装', 'F000177', 'daq_station_scs_system', 'INSERT INTO daq_station_scs_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, antivirus_software, antivirus_software_version, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :antivirus_software, :antivirus_software_version, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_scs_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_scs_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_scs_system where oid=:oid);
UPDATE daq_station_scs_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, antivirus_software=:antivirus_software, antivirus_software_version=:antivirus_software_version, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_scs_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_scs_system SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.antivirus_software,
	sss.antivirus_software_version,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
   pro.project_name,
   pi.pipeline_name,
   te.tenders_name,
   ps.pipe_station_name,
   pu.unit_name AS supervision_unit_name,
   u.unit_name AS construct_unit_name
FROM
	daq_station_scs_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_scs_system where active=1) mac on mac.oid = sss.manufacture_number 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sss.antivirus_software,
	sss.antivirus_software_version,
	sss.debug_content_and_results,
	to_char(sss.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
   pro.project_name,
   pi.pipeline_name,
   te.tenders_name,
   ps.pipe_station_name,
   pu.unit_name AS supervision_unit_name,
   u.unit_name AS construct_unit_name
FROM
	daq_station_scs_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_scs_system where active=1) mac on mac.oid = sss.manufacture_number 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 03:15:58.775', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-22 10:15:07.223', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e3d40cdd-05d5-46da-a031-293c25730c40', '固态去耦合器', 'F000112', 'daq_s_material_solid_state_dc_decoupler', 'INSERT INTO daq_s_material_solid_state_dc_decoupler( oid, project_oid, device_code, device_name, material_code, classification_code, highness_of_post, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,  :device_code, :device_name, :material_code, :classification_code, :highness_of_post, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_solid_state_dc_decoupler SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, classification_code=:classification_code, highness_of_post=:highness_of_post, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_solid_state_dc_decoupler SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.material_code,
	wc.classification_code,
	wc.highness_of_post,
	wc.tag_number,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_solid_state_dc_decoupler wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE 1 = 1 AND wc.active = 1 @where_append order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.material_code,
	wc.classification_code,
	wc.highness_of_post,
	wc.tag_number,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_solid_state_dc_decoupler wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 01:22:09.899', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:30:02.413', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e3ff740c-278a-48ae-85e8-acc09e9620ec', '应急通信设备', 'F000252', 'daq_station_emergency_communication', 'INSERT INTO daq_station_emergency_communication( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_emergency_communication SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_emergency_communication SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_emergency_communication wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_emergency_communication wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 16:11:33.403', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-12 17:48:21.287', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e43f7d24-e015-4a00-98a0-e80af6ca62f7', '放空立管', 'F000099', 'daq_s_material_vent_stack', 'INSERT INTO daq_s_material_vent_stack( oid, project_oid, device_code, device_name, classification_code, material_code, specification_model, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :classification_code, :material_code, :specification_model, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_vent_stack SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_vent_stack SET active = 0 WHERE oid = :oid', 'SELECT
wc.commit_status,
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_vent_stack wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE 1 = 1 AND wc.active = 1 @where_append order by wc.create_datetime desc ', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.classification_code,
	wc.material_code,
	wc.specification_model,
	wc.manufacture_number,
	wc.manufacturer,
	to_char(wc.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	wc.guarantee_period,
	wc.contract_number,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name
FROM
	daq_s_material_vent_stack wc
	LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
	LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
	LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
	LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:15:26.911', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:49:06.144', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e44130cf-b502-435e-8dd2-7ccf36a3478b', '光纤(电缆)感温火灾探测器', 'F000189', 'daq_station_cable_heat_detector', 'INSERT INTO daq_station_cable_heat_detector( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cable_heat_detector SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cable_heat_detector SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_cable_heat_detector sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_cable_heat_detector sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:51:23.308', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:51:23.308', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e6319ed1-0d20-463d-8bd6-4a0994cf0232', '无线对讲设备', 'F000242', 'daq_station_wireless_talkback', 'INSERT INTO daq_station_wireless_talkback( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_wireless_talkback SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_wireless_talkback SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_wireless_talkback wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.manufacture_number,
	wc.install_location_des,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_wireless_talkback wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:09:28.962', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 16:34:48.196', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e681aae1-4b61-480c-a2e5-056be03e50f2', '计量系统', 'F000062', 'daq_s_material_metering_system', 'INSERT INTO daq_s_material_metering_system( oid, project_oid, device_code, device_name, flow_computer_cpu_frequency, flow_computer_memmory, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,:device_code, :device_name, :flow_computer_cpu_frequency, :flow_computer_memmory, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_metering_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, flow_computer_cpu_frequency=:flow_computer_cpu_frequency, flow_computer_memmory=:flow_computer_memmory, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_metering_system SET active = 0 WHERE oid = :oid', 'SELECT
mms.commit_status,
	mms.oid,
	mms.project_oid,
	mms.tenders_oid,
	mms.pipeline_oid,
	mms.pipe_station_oid,
	mms.device_code,
	mms.device_name,
	mms.flow_computer_cpu_frequency,
	mms.flow_computer_memmory,
	mms.desin_pressure,
	sd.code_name as desin_pressure_name,
	mms.classification_code,
	mms.material_code,
	mms.specification_model,
	mms.tag_number,
	mms.manufacture_number,
	mms.manufacturer,
	to_char(mms.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mms.guarantee_period,
	mms.contract_number,
	mms.remarks,
	mms.create_user_id,
	mms.create_user_name,
	mms.create_datetime,
	mms.modify_user_id,
	mms.modify_user_name,
	mms.modify_datetime,
	mms.active,
	pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_metering_system mms
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mms.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mms.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mms.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mms.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mms.desin_pressure 

WHERE
	1 = 1
AND mms.active = 1 @where_append order by mms.create_datetime desc', 'SELECT
	mms.oid,
	mms.project_oid,
	mms.tenders_oid,
	mms.pipeline_oid,
	mms.pipe_station_oid,
	mms.device_code,
	mms.device_name,
	mms.flow_computer_cpu_frequency,
	mms.flow_computer_memmory,
	mms.desin_pressure,
	sd.code_name as desin_pressure_name,
	mms.classification_code,
	mms.material_code,
	mms.specification_model,
	mms.tag_number,
	mms.manufacture_number,
	mms.manufacturer,
	to_char(mms.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mms.guarantee_period,
	mms.contract_number,
	mms.remarks,
	mms.create_user_id,
	mms.create_user_name,
	mms.create_datetime,
	mms.modify_user_id,
	mms.modify_user_name,
	mms.modify_datetime,
	mms.active,
	pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name
FROM
	daq_s_material_metering_system mms
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mms.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mms.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mms.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mms.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mms.desin_pressure 
WHERE mms.oid = :oid AND mms.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-28 09:00:06.998', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-19 17:57:05.635', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e73962a7-caed-4a08-947d-42653e485137', '应变应力检测系统(LDS)', 'F000186', 'daq_station_pds_system', 'INSERT INTO daq_station_pds_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pds_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pds_system SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_pds_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
FROM daq_station_pds_system sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:28:17.745', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 17:07:49.529', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e760e714-063d-4c02-a12a-a0776bda3871', '安全阀PSV', 'F000141', 'daq_station_safety_valve', 'INSERT INTO daq_station_safety_valve( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, safety_valve_code, safety_valve_name, manufacture_number, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :safety_valve_code, :safety_valve_name, :manufacture_number, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_safety_valve SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, safety_valve_code=:safety_valve_code, safety_valve_name=:safety_valve_name, manufacture_number=:manufacture_number, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_safety_valve SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.safety_valve_code, sss.safety_valve_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_safety_valve sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.safety_valve_code, sss.safety_valve_name, sss.manufacture_number, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name 
FROM daq_station_safety_valve sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 07:45:51.482', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:47:40.211', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e82592c6-37ea-49f0-82a8-6c995ea1bcb6', '阀门信息表', 'F000044', 'daq_material_valve', 'INSERT INTO daq_material_valve( oid,project_oid, valve_name, valve_type, material_code, valve_model, valve_axial_size, valve_weight, torque, valve_body_seal_type, valve_body_hard_seal_material, valve_body_soft_seal_material, valve_handle_diameter, valve_handle_seal_type, valve_handle_seal_material, flange_standard, flange_sealing_surface_type, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, is_use, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, construct_unit) VALUES ( :oid, :project_oid, :valve_name, :valve_type, :material_code, :valve_model, :valve_axial_size, :valve_weight, :torque, :valve_body_seal_type, :valve_body_hard_seal_material, :valve_body_soft_seal_material, :valve_handle_diameter, :valve_handle_seal_type, :valve_handle_seal_material, :flange_standard, :flange_sealing_surface_type, :manufacture_number, :manufacturer,  (select :manufacture_date::timestamp), :guarantee_period, :contract_number, 0, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active,:current_unit_id)', 'UPDATE daq_material_valve SET oid=:oid, project_oid=:project_oid, valve_name=:valve_name, valve_type=:valve_type, material_code=:material_code, valve_model=:valve_model, valve_axial_size=:valve_axial_size, valve_weight=:valve_weight, torque=:torque, valve_body_seal_type=:valve_body_seal_type, valve_body_hard_seal_material=:valve_body_hard_seal_material, valve_body_soft_seal_material=:valve_body_soft_seal_material, valve_handle_diameter=:valve_handle_diameter, valve_handle_seal_type=:valve_handle_seal_type, valve_handle_seal_material=:valve_handle_seal_material, flange_standard=:flange_standard, flange_sealing_surface_type=:flange_sealing_surface_type, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_material_valve SET active = 0 WHERE oid = :oid', 'SELECT  mv.commit_status,mv.oid, mv.project_oid, pro.project_name, mv.pipeline_oid, pi.pipeline_name, mv.tenders_oid, te.tenders_name,  mv.valve_name, mv.valve_type, dm.code_name as valve_type_name, mv.material_code, mv.valve_model, mv.valve_axial_size, mv.valve_weight, mv.torque, mv.valve_body_seal_type, mv.valve_body_hard_seal_material, mv.valve_body_soft_seal_material, mv.valve_handle_diameter, mv.valve_handle_seal_type, mv.valve_handle_seal_material, mv.flange_standard, mv.flange_sealing_surface_type, mv.manufacture_number, mv.manufacturer, to_char(mv.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, mv.guarantee_period, mv.contract_number,case when mv.is_use=''1'' then ''是'' else ''否'' END as is_use_name,mv.is_use,  mv.remarks, mv.create_user_id, mv.create_user_name, mv.create_datetime, mv.modify_user_id, mv.modify_user_name, mv.modify_datetime,	mv.active FROM daq_material_valve mv LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mv.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mv.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mv.tenders_oid left JOIN (select code_id,code_name,active from sys_domain where active=1) dm ON dm.code_id=mv.valve_type WHERE mv.active = 1  @where_append and @privilege_strategy_sql order by mv.create_datetime desc', 'SELECT mv.oid, mv.project_oid, pro.project_name, mv.pipeline_oid, pi.pipeline_name, mv.tenders_oid, te.tenders_name, mv.valve_name,mv.valve_type, dm.code_name as valve_type_name, mv.material_code, mv.valve_model, mv.valve_axial_size, mv.valve_weight, mv.torque, mv.valve_body_seal_type, mv.valve_body_hard_seal_material, mv.valve_body_soft_seal_material, mv.valve_handle_diameter, mv.valve_handle_seal_type, mv.valve_handle_seal_material, mv.flange_standard, mv.flange_sealing_surface_type, mv.manufacture_number, mv.manufacturer, to_char(mv.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, mv.guarantee_period, mv.contract_number,case when mv.is_use=''1'' then ''是'' else ''否'' END as  is_use_name,mv.is_use, mv.remarks, mv.create_user_id, mv.create_user_name, mv.create_datetime, mv.modify_user_id, mv.modify_user_name, mv.modify_datetime,	mv.active FROM daq_material_valve mv LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mv.project_oid LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mv.pipeline_oid LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mv.tenders_oid left JOIN (select code_id,code_name,active from sys_domain where active=1) dm ON dm.code_id=mv.valve_type WHERE mv.oid = :oid AND mv.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-9-17 09:26:03.34', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-14 13:43:43.13', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('e89f9759-09a3-4c15-bc00-a1891006a245', '话音交换系统', 'F000230', 'daq_station_telephone_exchange_sys', 'INSERT INTO daq_station_telephone_exchange_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_telephone_exchange_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_telephone_exchange_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_telephone_exchange_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_telephone_exchange_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 03:15:52.003', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:15:45.139', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('eb6e4805-e711-42ee-b08e-daaaae8b878b', 'PA/GA广播系统', 'F000243', 'daq_station_pa_or_ga_broadcast_sys', 'INSERT INTO daq_station_pa_or_ga_broadcast_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_pa_or_ga_broadcast_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_pa_or_ga_broadcast_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_pa_or_ga_broadcast_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc	', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_pa_or_ga_broadcast_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:20:06.471', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 10:43:54.691', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ec61bd66-4645-4cb8-8c6f-ef2727553d1e', '直流电源系统', 'F000107', 'daq_s_material_dc_power_supply', 'INSERT INTO daq_s_material_dc_power_supply( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, dc_power_supply_type, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :dc_power_supply_type, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer,  (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_dc_power_supply SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, dc_power_supply_type=:dc_power_supply_type, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date= (select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_dc_power_supply SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.dc_power_supply_type, case when sss.dc_power_supply_type=1 then ''相控整流'' when sss.dc_power_supply_type=2 then ''高频开关'' end as dc_power_supply_type_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_dc_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE 1 = 1 AND sss.active = 1 @where_append order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.device_code, sss.device_name, sss.dc_power_supply_type, case when sss.dc_power_supply_type=1 then ''相控整流'' when sss.dc_power_supply_type=2 then ''高频开关'' end as dc_power_supply_type_name, sss.material_code, sss.specification_model, sss.tag_number, sss.manufacture_number, sss.manufacturer, to_char(sss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date, sss.guarantee_period, sss.contract_number, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active,
pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name 
FROM daq_s_material_dc_power_supply sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 09:55:55.911', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:27:44.087', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('efcabb62-5327-45a7-9da7-439814ccb79f', '工艺管道防腐补口', 'F000128', 'daq_station_process_weld_anticorrosion', 'INSERT INTO daq_station_process_weld_anticorrosion( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, weld_oid, buckle_date, buckle_anticorrosive_type, buckle_anticorrosive_grade, buckle_material_batch_num, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :weld_oid, (select :buckle_date::timestamp), :buckle_anticorrosive_type, :buckle_anticorrosive_grade, :buckle_material_batch_num, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_process_weld_anticorrosion SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, weld_oid=:weld_oid, buckle_date=(select :buckle_date::timestamp), buckle_anticorrosive_type=:buckle_anticorrosive_type, buckle_anticorrosive_grade=:buckle_anticorrosive_grade, buckle_material_batch_num=:buckle_material_batch_num, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp),  remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_process_weld_anticorrosion SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.weld_oid, to_char(sss.buckle_date, ''YYYY-MM-DD'') as buckle_date, sss.buckle_anticorrosive_type, sss.buckle_anticorrosive_grade, sss.buckle_material_batch_num, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,dspw.weld_code,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,doma.code_name buckle_anticorrosive_type_name, doma1.code_name buckle_anticorrosive_grade_name 
FROM daq_station_process_weld_anticorrosion  sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = sss.weld_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''buckle_anticorrosive_type_domain'' and active=1 ) doma ON doma.code_id = sss.buckle_anticorrosive_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''anticorrosive_grade_domain'' and active=1 ) doma1 ON doma1.code_id = sss.buckle_anticorrosive_grade
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.weld_oid, to_char(sss.buckle_date, ''YYYY-MM-DD'') as buckle_date, sss.buckle_anticorrosive_type, sss.buckle_anticorrosive_grade, sss.buckle_material_batch_num, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,dspw.weld_code,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,doma.code_name buckle_anticorrosive_type_name, doma1.code_name buckle_anticorrosive_grade_name 
FROM daq_station_process_weld_anticorrosion  sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = sss.weld_oid
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''buckle_anticorrosive_type_domain'' and active=1 ) doma ON doma.code_id = sss.buckle_anticorrosive_type
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''anticorrosive_grade_domain'' and active=1 ) doma1 ON doma1.code_id = sss.buckle_anticorrosive_grade
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:26:34.532', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-2-11 14:38:27.147', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f0684d0f-a5dd-4c7f-b1b4-b285ca41b4c6', '伴行道路-附属物', 'F000042', 'daq_appendages_concomitant_road', 'INSERT INTO custom_fun_function daq_appendages_concomitant_road( oid, project_oid, tenders_oid, pipeline_oid, concomitant_road_code, concomitant_road_name, concomitant_road_length, pavement_type, road_width, commence_date, completion_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, geo_state, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :concomitant_road_code, :concomitant_road_name, :concomitant_road_length, :pavement_type, :road_width, :commence_date, :completion_date, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, :collection_date, :geo_state, :approve_status, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_appendages_concomitant_road SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, concomitant_road_code=:concomitant_road_code, concomitant_road_name=:concomitant_road_name, concomitant_road_length=:concomitant_road_length, pavement_type=:pavement_type, road_width=:road_width, commence_date=:commence_date, completion_date=:completion_date, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=:collection_date, geo_state=:geo_state, approve_status=:approve_status, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_appendages_concomitant_road SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, concomitant_road_code, concomitant_road_name, concomitant_road_length, pavement_type, road_width, commence_date, completion_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, geo_state, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_appendages_concomitant_road WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, concomitant_road_code, concomitant_road_name, concomitant_road_length, pavement_type, road_width, commence_date, completion_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, geo_state, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active FROM daq_appendages_concomitant_road WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-26 15:38:55.667', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-26 15:46:02.961', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f1e1004a-c577-4cfb-b527-27f0ec79ee62', '太阳能电源系统测试2', 'F000113', 'daq_s_material_solar_power_system', 'INSERT INTO daq_s_material_solar_power_system( oid, project_oid,  device_code, device_name, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_solar_power_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_solar_power_system SET active = 0 WHERE oid = :oid', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid 
WHERE
	1 = 1
AND msps.active = 1  @where_append  order by msps.create_datetime desc', 'SELECT
	msps.oid,
	msps.project_oid,pro.project_name,
	msps.tenders_oid,te.tenders_name, 
	msps.pipeline_oid,pi.pipeline_name,
	msps.pipe_station_oid,ps.pipe_station_name,
	msps.device_code,
	msps.device_name,
	msps.material_code,
	msps.specification_model,
	msps.tag_number,
	msps.manufacture_number,
	msps.manufacturer,
	to_char(msps.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	msps.guarantee_period,
	msps.contract_number,
	msps.remarks,
	msps.create_user_id,
	msps.create_user_name,
	msps.create_datetime,
	msps.modify_user_id,
	msps.modify_user_name,
	msps.modify_datetime,
	msps.active
FROM
	daq_s_material_solar_power_system msps
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = msps.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = msps.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = msps.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=msps.pipe_station_oid  WHERE msps.oid = :oid AND msps.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:29:17.109', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:31:18.33', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f2888d9d-6eb7-4d8a-8110-b608b279982a', '外加电流电参数测试记录表', 'F000041', 'daq_cathodic_impressed_current_test', 'INSERT INTO daq_cathodic_impressed_current_test( oid, test_stake_oid, test_region, test_date, currency_date, polarization_date, natural_potential, earthing_resistance, direct_current_voltage, standard_voltage, measured_voltage, standard_current, measured_current, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, construct_unit ,supervision_engineer,supervision_unit,project_oid,tenders_oid) VALUES ( :oid, :test_stake_oid, :test_region, (select :test_date::timestamp), (select :currency_date::timestamp),(select :polarization_date::timestamp), :natural_potential, :earthing_resistance, :direct_current_voltage, :standard_voltage, :measured_voltage, :standard_current, :measured_current,  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, :construct_unit, :supervision_engineer,:supervision_unit ,:project_oid, :tenders_oid)', 'UPDATE daq_cathodic_impressed_current_test SET oid=:oid, test_stake_oid=:test_stake_oid, test_region=:test_region, test_date=(select :test_date::timestamp), currency_date=(select :currency_date::timestamp), polarization_date=(select :polarization_date::timestamp), natural_potential=:natural_potential, earthing_resistance=:earthing_resistance, direct_current_voltage=:direct_current_voltage, standard_voltage=:standard_voltage, measured_voltage=:measured_voltage, standard_current=:standard_current, measured_current=:measured_current, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, construct_unit=:construct_unit,supervision_engineer=:supervision_engineer,supervision_unit=:supervision_unit,project_oid=:project_oid,tenders_oid=:tenders_oid WHERE oid = :oid AND active = 1', 'UPDATE daq_cathodic_impressed_current_test SET active = 0 WHERE oid = :oid', 'SELECT cict.project_oid,cict.tenders_oid,dq.project_name,dt.tenders_name,cict.oid, cict.test_stake_oid, cts.test_stake_code, cict.test_region, to_char(cict.test_date, ''YYYY-MM-DD'') as test_date, to_char(cict.currency_date, ''YYYY-MM-DD'') as currency_date,  to_char(cict.polarization_date, ''YYYY-MM-DD'') as polarization_date, cict.natural_potential, cict.earthing_resistance, cict.direct_current_voltage, cict.standard_voltage, cict.measured_voltage, cict.standard_current, cict.measured_current, case when cict.approve_status = -1 then ''驳回'' when cict.approve_status = 1 then ''待审核'' when cict.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,cict.approve_status, cict.remarks, cict.create_user_id, cict.create_user_name, cict.create_datetime, cict.modify_user_id, cict.modify_user_name, cict.modify_datetime, cict.active, cict.construct_unit, pu.unit_name,cict.supervision_unit, su.unit_name as supervision_unit_name,cict.supervision_engineer FROM daq_cathodic_impressed_current_test cict LEFT JOIN (select oid, test_stake_code, active from daq_cathodic_test_stake where active=1) cts ON cts.oid = cict.test_stake_oid left join (select oid,unit_name from pri_unit) pu on pu.oid=cict.construct_unit left join (select oid,unit_name from pri_unit) su on su.oid=cict.supervision_unit left join (select oid,project_name from daq_project) dq on dq.oid=cict.project_oid left join (select oid,tenders_name from daq_tenders) dt on dt.oid=cict.tenders_oid WHERE cict.active = 1  @where_append and @privilege_strategy_sql order by cict.create_datetime desc', 'SELECT cict.project_oid,cict.tenders_oid,dq.project_name,dt.tenders_name,cict.oid, cict.test_stake_oid, cts.test_stake_code, cict.test_region, to_char(cict.test_date, ''YYYY-MM-DD'') as test_date, to_char(cict.currency_date, ''YYYY-MM-DD'') as currency_date,  to_char(cict.polarization_date, ''YYYY-MM-DD'') as polarization_date, cict.natural_potential, cict.earthing_resistance, cict.direct_current_voltage, cict.standard_voltage, cict.measured_voltage, cict.standard_current, cict.measured_current, case when cict.approve_status = -1 then ''驳回'' when cict.approve_status = 1 then ''待审核'' when cict.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,cict.approve_status, cict.remarks, cict.create_user_id, cict.create_user_name, cict.create_datetime, cict.modify_user_id, cict.modify_user_name, cict.modify_datetime, cict.active, cict.construct_unit, pu.unit_name,cict.supervision_unit, su.unit_name as supervision_unit_name,cict.supervision_engineer FROM daq_cathodic_impressed_current_test cict LEFT JOIN (select oid, test_stake_code, active from daq_cathodic_test_stake where active=1) cts ON cts.oid = cict.test_stake_oid left join (select oid,unit_name from pri_unit) pu on pu.oid=cict.construct_unit left join (select oid,unit_name from pri_unit) su on su.oid=cict.supervision_unit left join (select oid,project_name from daq_project) dq on dq.oid=cict.project_oid left join (select oid,tenders_name from daq_tenders) dt on dt.oid=cict.tenders_oid WHERE cict.oid = :oid AND cict.active = 1 ', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-7-23 11:07:22.501', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-3-13 17:14:55.377', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f384b4e2-3efe-4b03-ad70-5af43a402b36', '站控系统(PLC)', 'F000190', 'daq_station_plc_system', 'INSERT INTO daq_station_plc_system( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, antivirus_software, antivirus_software_version, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :antivirus_software, :antivirus_software_version, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_plc_system SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, antivirus_software=:antivirus_software, antivirus_software_version=:antivirus_software_version, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_plc_system SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.antivirus_software,
	wc.antivirus_software_version,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_plc_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1 AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.antivirus_software,
	wc.antivirus_software_version,
	wc.debug_content_and_results,
to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_plc_system wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 07:55:22.748', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:43:02.663', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f4f64a0a-ea55-441a-87b2-b98ee2f2b055', '工业电视监控后端设备', 'F000235', 'daq_station_industrial_tv_monitoring_back', 'INSERT INTO daq_station_industrial_tv_monitoring_back( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_cctv_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_cctv_system set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_industrial_tv_monitoring_back where oid=:oid);
UPDATE daq_station_industrial_tv_monitoring_back SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_cctv_system set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_industrial_tv_monitoring_back SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_code,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_industrial_tv_monitoring_back sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,material_code, active from daq_s_material_cctv_system where active=1) mac on mac.oid = sta.manufacture_number 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.manufacture_number,
	mac.manufacture_number_name,
	mac.material_code,
	sta.install_location_des,
	sta.experimental_result,
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_industrial_tv_monitoring_back sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,material_code, active from daq_s_material_cctv_system where active=1) mac on mac.oid = sta.manufacture_number 
WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 13:51:25.929', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:22:44.798', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f5a0d34d-45ca-41af-a501-a67540bb5617', '自用气系统', 'F000068', 'daq_s_material_sgs_system', 'INSERT INTO daq_s_material_sgs_system( oid, project_oid, device_code, device_name, pressure_rating, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :device_code, :device_name, :pressure_rating, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_sgs_system SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, pressure_rating=:pressure_rating, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_sgs_system SET active = 0 WHERE oid = :oid', 'SELECT
	mss.oid,
	mss.project_oid,pro.project_name,
	mss.tenders_oid,te.tenders_name, 
	mss.pipeline_oid,pi.pipeline_name,
	mss.pipe_station_oid,ps.pipe_station_name,
	mss.device_code,
	mss.device_name,
	mss.pressure_rating,
	sd.code_name as pressure_rating_name,
	mss.desin_pressure,
	d.code_name as desin_pressure_name,
	mss.classification_code,
	mss.material_code,
	mss.specification_model,
	mss.tag_number,
	mss.manufacture_number,
	mss.manufacturer,
	to_char(mss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mss.guarantee_period,
	mss.contract_number,
	mss.remarks,
	mss.create_user_id,
	mss.create_user_name,
	mss.create_datetime,
	mss.modify_user_id,
	mss.modify_user_name,
	mss.modify_datetime,
	mss.active
FROM
	daq_s_material_sgs_system mss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mss.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mss.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mss.desin_pressure 
WHERE
	1 = 1
AND mss.active = 1  @where_append  order by mss.create_datetime desc', 'SELECT
	mss.oid,
	mss.project_oid,pro.project_name,
	mss.tenders_oid,te.tenders_name,
	mss.pipeline_oid,pi.pipeline_name,
	mss.pipe_station_oid,ps.pipe_station_name,
	mss.device_code,
	mss.device_name,
	mss.pressure_rating,
	sd.code_name as pressure_rating_name,
	mss.desin_pressure,
	d.code_name as desin_pressure_name,
	mss.classification_code,
	mss.material_code,
	mss.specification_model,
	mss.tag_number,
	mss.manufacture_number,
	mss.manufacturer,
	to_char(mss.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mss.guarantee_period,
	mss.contract_number,
	mss.remarks,
	mss.create_user_id,
	mss.create_user_name,
	mss.create_datetime,
	mss.modify_user_id,
	mss.modify_user_name,
	mss.modify_datetime,
	mss.active
FROM
	daq_s_material_sgs_system mss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mss.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) sd on sd.code_id=mss.pressure_rating 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mss.desin_pressure  WHERE mss.oid = :oid AND mss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 03:00:12.345', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-25 09:22:26.732', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f5c2a9b2-ebc1-441e-9acc-dbdc5e53eee2', '冷弯管测试', 'F000079', 'daq_material_pipe_cold_bending', 'INSERT INTO daq_material_pipe_cold_bending( oid, project_oid, tenders_oid, pipeline_oid, pipe_segment_or_cross_oid, pipe_oid, pipe_cold_bending_code, certificate_num, pipe_bending_standards, bending_radius, bending_angle, curve_length, straight_pipe_length, pipe_length, ellipticity, wall_thickness_redurate, pipe_diameter, wall_thickness, produce_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, is_use, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, front_is_use, back_is_use, is_check ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_segment_or_cross_oid, :pipe_oid, :pipe_cold_bending_code, :certificate_num, :pipe_bending_standards, :bending_radius, :bending_angle, :curve_length, :straight_pipe_length, :pipe_length, :ellipticity, :wall_thickness_redurate, :pipe_diameter, :wall_thickness, :produce_date, :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, :collection_date, :is_use, :approve_status, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active, :front_is_use, :back_is_use, :is_check )', 'UPDATE daq_material_pipe_cold_bending SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_segment_or_cross_oid=:pipe_segment_or_cross_oid, pipe_oid=:pipe_oid, pipe_cold_bending_code=:pipe_cold_bending_code, certificate_num=:certificate_num, pipe_bending_standards=:pipe_bending_standards, bending_radius=:bending_radius, bending_angle=:bending_angle, curve_length=:curve_length, straight_pipe_length=:straight_pipe_length, pipe_length=:pipe_length, ellipticity=:ellipticity, wall_thickness_redurate=:wall_thickness_redurate, pipe_diameter=:pipe_diameter, wall_thickness=:wall_thickness, produce_date=:produce_date, construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=:collection_date, is_use=:is_use, approve_status=:approve_status, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active, front_is_use=:front_is_use, back_is_use=:back_is_use, is_check=:is_check WHERE oid = :oid AND active = 1', 'UPDATE daq_material_pipe_cold_bending SET active = 0 WHERE oid = :oid', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_segment_or_cross_oid, pipe_oid, pipe_cold_bending_code, certificate_num, pipe_bending_standards, bending_radius, bending_angle, curve_length, straight_pipe_length, pipe_length, ellipticity, wall_thickness_redurate, pipe_diameter, wall_thickness, produce_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, is_use, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, front_is_use, back_is_use, is_check FROM daq_material_pipe_cold_bending WHERE 1 = 1  AND active = 1 @where_append ', 'SELECT oid, project_oid, tenders_oid, pipeline_oid, pipe_segment_or_cross_oid, pipe_oid, pipe_cold_bending_code, certificate_num, pipe_bending_standards, bending_radius, bending_angle, curve_length, straight_pipe_length, pipe_length, ellipticity, wall_thickness_redurate, pipe_diameter, wall_thickness, produce_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, is_use, approve_status, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active, front_is_use, back_is_use, is_check FROM daq_material_pipe_cold_bending WHERE oid = :oid AND active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 14:10:42.128', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-2 09:28:49.134', 0);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f678620f-9f16-4830-a463-7e33d1039924', '储罐磁粉检测', 'F000157', 'daq_station_storage_tank_detection_magnetic_powder', 'INSERT INTO daq_station_storage_tank_detection_magnetic_powder( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, detection_report_num, weld_oid, detection_length, defect_position, defect_properties, defect_length, detection_deta, detection_unit, detection_person, supervision_unit, supervision_engineer, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active,evaluation_result ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :detection_report_num, :weld_oid, :detection_length, :defect_position, :defect_properties, :defect_length, (select :detection_deta::timestamp), :detection_unit, :detection_person, :supervision_unit, :supervision_engineer, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active ,:evaluation_result)', 'UPDATE daq_station_storage_tank_detection_magnetic_powder SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, detection_report_num=:detection_report_num, weld_oid=:weld_oid, detection_length=:detection_length, defect_position=:defect_position, defect_properties=:defect_properties, defect_length=:defect_length, detection_deta=(select :detection_deta::timestamp), detection_unit=:detection_unit, detection_person=:detection_person, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active,evaluation_result=:evaluation_result WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_detection_magnetic_powder SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.detection_report_num,
	wc.weld_oid,
	dspw.weld_code weld_oid_name,
	wc.detection_length,
	wc.defect_position,
	wc.defect_properties,
	doma.code_name defect_properties_name,
	wc.defect_length,
to_char(wc.detection_deta, ''YYYY-MM-DD'') as detection_deta,
	wc.detection_unit,
	u.unit_name detection_unit_name,
	wc.detection_person,
	wc.supervision_unit,
	wc.supervision_engineer,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,
	wc.evaluation_result,
	case when wc.evaluation_result=1 then ''合格'' when wc.evaluation_result=0 then ''不合格'' end as evaluation_result_name
FROM
	daq_station_storage_tank_detection_magnetic_powder wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = wc.weld_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''defect_properties_domain'' and active=1 ) doma ON doma.code_id = wc.defect_properties WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.detection_report_num,
	wc.weld_oid,
	dspw.weld_code weld_oid_name,
	wc.detection_length,
	wc.defect_position,
	wc.defect_properties,
	doma.code_name defect_properties_name,
	wc.defect_length,
to_char(wc.detection_deta, ''YYYY-MM-DD'') as detection_deta,
	wc.detection_unit,
	u.unit_name detection_unit_name,
	wc.detection_person,
	wc.supervision_unit,
	wc.supervision_engineer,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,
	wc.evaluation_result,
	case when wc.evaluation_result=1 then ''合格'' when wc.evaluation_result=0 then ''不合格'' end as evaluation_result_name
FROM
	daq_station_storage_tank_detection_magnetic_powder wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid
LEFT JOIN (select oid,weld_code from daq_station_process_weld where active=1 and approve_status=2) dspw on dspw.oid = wc.weld_oid
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''defect_properties_domain'' and active=1 ) doma ON doma.code_id = wc.defect_properties WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 06:19:39.326', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:40:25.387', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f6a0a82e-a844-4532-90a9-ae2a4407b5b4', 'VSAT卫星通信室内设备', 'F000224', 'daq_station_vsat_communication_indoor', 'INSERT INTO daq_station_vsat_communication_indoor( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, experimental_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date,  remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, :experimental_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_vsat_communication_indoor SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, experimental_result=:experimental_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_vsat_communication_indoor SET active = 0 WHERE oid = :oid', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_vsat_communication_indoor sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit 
WHERE
	1 = 1
AND sta.active = 1 @where_append and @privilege_strategy_sql  order by sta.create_datetime desc', 'SELECT
	sta.oid,
	sta.device_code,
	sta.device_name,
	sta.manufacture_number,
	sta.install_location_des,
	sta.experimental_result,
	case when sta.experimental_result = 0 then ''不合格'' when sta.experimental_result = 1 then ''合格'' else '''' end as experimental_result_name, 
	sta.construct_unit,
	sta.supervision_unit,
	sta.supervision_engineer,
	sta.collection_person,
	sta.approve_status,
	sta.remarks,
	sta.create_user_id,
	sta.create_user_name,
	sta.create_datetime,
	sta.modify_user_id,
	sta.modify_user_name,
	sta.modify_datetime,
	sta.active,
	sta.project_oid,pro.project_name,
	sta.tenders_oid,te.tenders_name, 
	sta.pipeline_oid,pi.pipeline_name,
	sta.pipe_station_oid,ps.pipe_station_name,
	u.unit_name as construct_unit_name,
	pu.unit_name as supervision_unit_name,
	to_char(sta.construct_date, ''YYYY-MM-DD'') as construct_date,
	to_char(sta.collection_date, ''YYYY-MM-DD'') as collection_date,
	case when sta.approve_status = -1 then ''驳回'' when sta.approve_status = 1 then ''待审核'' when sta.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name 
FROM
	daq_station_vsat_communication_indoor sta
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sta.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid =sta.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sta.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sta.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sta.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sta.construct_unit WHERE sta.oid = :oid AND sta.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 10:31:28.82', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 10:37:52.478', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('f7bac249-daf0-4054-89f4-ac0f76b36d52', '光纤预警系统', 'F000241', 'daq_station_fo_early_warning_sys', 'INSERT INTO daq_station_fo_early_warning_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results,(select :debug_complete_date::timestamp) , :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_fo_early_warning_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_fo_early_warning_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_fo_early_warning_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_fo_early_warning_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 06:55:16.635', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:48:23.518', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('fa847e18-7476-4d8b-a8c3-cfc262f62254', '电视监控系统', 'F000231', 'daq_station_industrial_tv_monitoring_sys', 'INSERT INTO daq_station_industrial_tv_monitoring_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_industrial_tv_monitoring_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_industrial_tv_monitoring_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_industrial_tv_monitoring_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_industrial_tv_monitoring_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 03:33:52.295', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 11:16:58.338', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('fbf847c0-8485-48e4-9e99-cfbb408b7803', '差压表安装', 'F000210', 'daq_station_pressure_difference_gauge', 'INSERT INTO daq_station_pressure_difference_gauge( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit,(select :detection_date::timestamp), :detection_result, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_pressure_difference_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_pressure_difference_gauge set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pressure_difference_gauge where oid=:oid);
UPDATE daq_station_pressure_difference_gauge SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_pressure_difference_gauge set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_pressure_difference_gauge SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_difference_gauge wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_difference_gauge where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_pressure_difference_gauge wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pressure_difference_gauge where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-9 03:12:57.659', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 13:58:06.577', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('fd01f1b9-8265-47cd-b64a-b50b2abeed76', '工业以太网通信系统', 'F000245', 'daq_station_ethernet_communication_sys', 'INSERT INTO daq_station_ethernet_communication_sys( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, debug_content_and_results, debug_complete_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :debug_content_and_results, (select :debug_complete_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person,(select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_ethernet_communication_sys SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, debug_content_and_results=:debug_content_and_results, debug_complete_date=(select :debug_complete_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_ethernet_communication_sys SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_ethernet_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	wc.device_name,
	wc.debug_content_and_results,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	wc.approve_status,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,
			to_char(wc.debug_complete_date, ''YYYY-MM-DD'') as debug_complete_date,
			to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
			case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name
FROM
	daq_station_ethernet_communication_sys wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit  WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-11 15:27:29.224', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-16 10:37:45.004', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('fd035130-6195-4b5e-9cfe-45e62def2493', '储罐开口', 'F000160', 'daq_station_storage_tank_open_hole', 'INSERT INTO daq_station_storage_tank_open_hole( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, open_hole_code, open_hole_name, open_hole_location, nominal_diameter, nominal_pressure, pipe_orifice_shape, test_result, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :open_hole_code, :open_hole_name, :open_hole_location, :nominal_diameter, :nominal_pressure, :pipe_orifice_shape, :test_result, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),  :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_tank_open_hole SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, open_hole_code=:open_hole_code, open_hole_name=:open_hole_name, open_hole_location=:open_hole_location, nominal_diameter=:nominal_diameter, nominal_pressure=:nominal_pressure, pipe_orifice_shape=:pipe_orifice_shape, test_result=:test_result, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_tank_open_hole SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.open_hole_code, sss.open_hole_name, sss.open_hole_location, sss.nominal_diameter, sss.nominal_pressure, sss.pipe_orifice_shape, sss.test_result, case when sss.test_result=''1'' then ''合格'' when sss.test_result=''0'' then ''不合格'' end as test_result_name, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name  
FROM daq_station_storage_tank_open_hole sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.storage_tank_oid, sss.open_hole_code, sss.open_hole_name, sss.open_hole_location, sss.nominal_diameter, sss.nominal_pressure, sss.pipe_orifice_shape, sss.test_result, case when sss.test_result=''1'' then ''合格'' when sss.test_result=''0'' then ''不合格'' end as test_result_name, to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name,dsst.device_name as storage_tank_name  
FROM daq_station_storage_tank_open_hole sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=sss.storage_tank_oid
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 07:29:46.46', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:45:10.426', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('fda5cf30-2d3d-495e-b982-b7170b79d8fc', '异径接头', 'F000133', 'daq_station_reduction_coupling', 'INSERT INTO daq_station_reduction_coupling( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, reduction_coupling_code, bigend_connect_code, bigend_connect_method, small_connect_code, small_connect_method, construct_datetime, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :reduction_coupling_code, :bigend_connect_code, :bigend_connect_method, :small_connect_code, :small_connect_method, (select :construct_datetime::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_reduction_coupling SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, reduction_coupling_code=:reduction_coupling_code, bigend_connect_code=:bigend_connect_code, bigend_connect_method=:bigend_connect_method, small_connect_code=:small_connect_code, small_connect_method=:small_connect_method, construct_datetime=(select :construct_datetime::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_reduction_coupling SET active = 0 WHERE oid = :oid', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.reduction_coupling_code, sss.bigend_connect_code, sss.bigend_connect_method, sss.small_connect_code, sss.small_connect_method, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name, doma2.code_name as bigend_connect_method_name, doma3.code_name as small_connect_method_name  
FROM daq_station_reduction_coupling sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma2 ON doma2.code_id = sss.bigend_connect_method
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma3 ON doma3.code_id = sss.small_connect_method
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc
', 'SELECT sss.oid, sss.project_oid, sss.tenders_oid, sss.pipeline_oid, sss.pipe_station_oid, sss.reduction_coupling_code, sss.bigend_connect_code, sss.bigend_connect_method, sss.small_connect_code, sss.small_connect_method, to_char(sss.construct_datetime, ''YYYY-MM-DD'') as construct_datetime, sss.construct_unit, sss.supervision_unit, sss.supervision_engineer, sss.collection_person, to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date, sss.approve_status, case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name, sss.remarks, sss.create_user_id, sss.create_user_name, sss.create_datetime, sss.modify_user_id, sss.modify_user_name, sss.modify_datetime, sss.active, pro.project_name,pi.pipeline_name,te.tenders_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name, doma2.code_name as bigend_connect_method_name, doma3.code_name as small_connect_method_name  
FROM daq_station_reduction_coupling sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma2 ON doma2.code_id = sss.bigend_connect_method
LEFT JOIN (SELECT code_id,code_name,active FROM	sys_domain where domain_name = ''connect_method_domain'' and active=1 ) doma3 ON doma3.code_id = sss.small_connect_method
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-3 06:07:05.064', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 15:41:58.329', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('fe4ba261-7e59-4b29-9615-8eec211179fb', '阴极保护接线箱', 'F000175', 'daq_station_cp_junction_box', 'INSERT INTO daq_station_cp_junction_box( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location_des, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location_des, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_cp_junction_box SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location_des=:install_location_des, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_cp_junction_box SET active = 0 WHERE oid = :oid', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	sss.install_location_des,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
from daq_station_cp_junction_box sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE 1 = 1 AND sss.active = 1 @where_append and @privilege_strategy_sql order by sss.create_datetime desc', 'SELECT
	sss.oid,
	sss.project_oid,
	sss.tenders_oid,
	sss.pipeline_oid,
	sss.pipe_station_oid,
	sss.device_code,
	sss.device_name,
	sss.manufacture_number,
	sss.install_location_des,
	to_char(sss.construct_date, ''YYYY-MM-DD'') as construct_date,
	sss.construct_unit,
	sss.supervision_unit,
	sss.supervision_engineer,
	sss.collection_person,
	to_char(sss.collection_date, ''YYYY-MM-DD'') as collection_date,
	sss.approve_status,
	case when sss.approve_status = -1 then ''驳回'' when sss.approve_status = 1 then ''待审核'' when sss.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sss.remarks,
	sss.create_user_id,
	sss.create_user_name,
	sss.create_datetime,
	sss.modify_user_id,
	sss.modify_user_name,
	sss.modify_datetime,
	sss.active,
  pro.project_name,
  pi.pipeline_name,
  te.tenders_name,
  ps.pipe_station_name,
  pu.unit_name AS supervision_unit_name,
  u.unit_name AS construct_unit_name
from daq_station_cp_junction_box sss
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sss.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = sss.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sss.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sss.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sss.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sss.construct_unit 
WHERE sss.oid = :oid AND sss.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-8 02:39:45.104', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 10:54:32.348', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('fe88d8a2-3db4-48f0-9400-e1c804d62784', '储罐超声波检测', 'F000154', 'daq_station_storage_detection_ultrasonic', 'INSERT INTO daq_station_storage_detection_ultrasonic( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, storage_tank_oid, detection_report_num, detection_object, detection_position, negative_num, evaluation_result, nature_estimation, detection_deta, detection_unit, detection_person, supervision_unit, supervision_engineer, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :storage_tank_oid, :detection_report_num, :detection_object, :detection_position, :negative_num, :evaluation_result, :nature_estimation, (select :detection_deta::timestamp), :detection_unit, :detection_person, :supervision_unit, :supervision_engineer, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_station_storage_detection_ultrasonic SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, storage_tank_oid=:storage_tank_oid, detection_report_num=:detection_report_num, detection_object=:detection_object, detection_position=:detection_position, negative_num=:negative_num, evaluation_result=:evaluation_result, nature_estimation=:nature_estimation, detection_deta=(select :detection_deta::timestamp), detection_unit=:detection_unit, detection_person=:detection_person, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_station_storage_detection_ultrasonic SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.detection_report_num,
	wc.detection_object,
	wc.detection_position,
	wc.negative_num,
	wc.evaluation_result,
case when wc.evaluation_result=1 then ''合格'' when wc.evaluation_result=0 then ''不合格'' end as evaluation_result_name,
	wc.nature_estimation,
to_char(wc.detection_deta, ''YYYY-MM-DD'') as detection_deta,
	wc.detection_unit,
	u.unit_name detection_unit_name,
	wc.detection_person,
	wc.supervision_unit,
	wc.supervision_engineer,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name
FROM
	daq_station_storage_detection_ultrasonic wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.storage_tank_oid,
	dsst.device_name storage_tank_oid_name,
	wc.detection_report_num,
	wc.detection_object,
	wc.detection_position,
	wc.negative_num,
	wc.evaluation_result,
case when wc.evaluation_result=1 then ''合格'' when wc.evaluation_result=0 then ''不合格'' end as evaluation_result_name,
	wc.nature_estimation,
to_char(wc.detection_deta, ''YYYY-MM-DD'') as detection_deta,
	wc.detection_unit,
	u.unit_name detection_unit_name,
	wc.detection_person,
	wc.supervision_unit,
	wc.supervision_engineer,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name
FROM
	daq_station_storage_detection_ultrasonic wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.detection_unit 
LEFT JOIN (select oid, device_name from daq_station_storage_tank where active=1 and approve_status=2) dsst on dsst.oid=wc.storage_tank_oid WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-7 05:33:28.451', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-17 13:39:02.581', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('feab71d5-a19e-48cc-8bf7-d626462b49a4', '双金属温度计', 'F000074', 'daq_s_material_bimetallic_thermometer', 'INSERT INTO daq_s_material_bimetallic_thermometer( oid, project_oid, device_code, device_name, equipment_type, desin_pressure, classification_code, material_code, specification_model, tag_number, manufacture_number, manufacturer, manufacture_date, guarantee_period, contract_number, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid,:device_code, :device_name, :equipment_type, :desin_pressure, :classification_code, :material_code, :specification_model, :tag_number, :manufacture_number, :manufacturer, (select :manufacture_date::timestamp), :guarantee_period, :contract_number, :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active )', 'UPDATE daq_s_material_bimetallic_thermometer SET oid=:oid, project_oid=:project_oid, device_code=:device_code, device_name=:device_name, equipment_type=:equipment_type, desin_pressure=:desin_pressure, classification_code=:classification_code, material_code=:material_code, specification_model=:specification_model, tag_number=:tag_number, manufacture_number=:manufacture_number, manufacturer=:manufacturer, manufacture_date=(select :manufacture_date::timestamp), guarantee_period=:guarantee_period, contract_number=:contract_number, remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1', 'UPDATE daq_s_material_bimetallic_thermometer SET active = 0 WHERE oid = :oid', 'SELECT
	mbt.oid,
	mbt.project_oid,pro.project_name,
	mbt.tenders_oid,te.tenders_name, 
	mbt.pipeline_oid,pi.pipeline_name,
	mbt.pipe_station_oid,ps.pipe_station_name,
	mbt.device_code,
	mbt.device_name,
	mbt.equipment_type,
	mbt.desin_pressure,
	d.code_name as desin_pressure_name,
	mbt.classification_code,
	mbt.material_code,
	mbt.specification_model,
	mbt.tag_number,
	mbt.manufacture_number,
	mbt.manufacturer,
	to_char(mbt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mbt.guarantee_period,
	mbt.contract_number,
	mbt.remarks,
	mbt.create_user_id,
	mbt.create_user_name,
	mbt.create_datetime,
	mbt.modify_user_id,
	mbt.modify_user_name,
	mbt.modify_datetime,
	mbt.active
FROM
	daq_s_material_bimetallic_thermometer mbt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mbt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mbt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mbt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mbt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mbt.desin_pressure 
WHERE
	1 = 1
AND mbt.active = 1 @where_append  order by mbt.create_datetime desc', 'SELECT
	mbt.oid,
	mbt.project_oid,pro.project_name,
	mbt.tenders_oid,te.tenders_name, 
	mbt.pipeline_oid,pi.pipeline_name,
	mbt.pipe_station_oid,ps.pipe_station_name,
	mbt.device_code,
	mbt.device_name,
	mbt.equipment_type,
	mbt.desin_pressure,
	d.code_name as desin_pressure_name,
	mbt.classification_code,
	mbt.material_code,
	mbt.specification_model,
	mbt.tag_number,
	mbt.manufacture_number,
	mbt.manufacturer,
	to_char(mbt.manufacture_date, ''YYYY-MM-DD'') as manufacture_date,
	mbt.guarantee_period,
	mbt.contract_number,
	mbt.remarks,
	mbt.create_user_id,
	mbt.create_user_name,
	mbt.create_datetime,
	mbt.modify_user_id,
	mbt.modify_user_name,
	mbt.modify_datetime,
	mbt.active
FROM
	daq_s_material_bimetallic_thermometer mbt
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = mbt.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = mbt.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = mbt.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=mbt.pipe_station_oid 
left join (select code_id,code_name from sys_domain where active=1) d on d.code_id=mbt.desin_pressure  WHERE mbt.oid = :oid AND mbt.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2018-12-29 05:49:06.197', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:25:33.613', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ff3f1793-5a40-40ec-9536-574fe2bacba4', '温度变送器安装', 'F000213', 'daq_station_temperature_transmitter', 'INSERT INTO daq_station_temperature_transmitter( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code, device_name, manufacture_number, install_location, detection_unit, detection_date, detection_result, connection_mode, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_name, :manufacture_number, :install_location, :detection_unit, (select :detection_date::timestamp), :detection_result, :connection_mode, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp),:remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_temperature_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'update daq_s_material_temperature_transmitter set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_temperature_transmitter where oid=:oid);
UPDATE daq_station_temperature_transmitter SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_name=:device_name, manufacture_number=:manufacture_number, install_location=:install_location, detection_unit=:detection_unit, detection_date=(select :detection_date::timestamp), detection_result=:detection_result, connection_mode=:connection_mode, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_temperature_transmitter set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number;', 'UPDATE daq_station_temperature_transmitter SET active = 0 WHERE oid = :oid', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_temperature_transmitter wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_temperature_transmitter where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE 1 = 1  AND wc.active = 1 @where_append and @privilege_strategy_sql order by wc.create_datetime desc', 'SELECT
	wc.oid,
	wc.project_oid,
	wc.tenders_oid,
	wc.pipeline_oid,
	wc.pipe_station_oid,
	wc.device_code,
	mac.material_device_name,
	mac.manufacture_number_name,
	wc.manufacture_number,
	wc.install_location,
	wc.detection_unit,
to_char(wc.detection_date, ''YYYY-MM-DD'') as detection_date,
	wc.detection_result,
	wc.connection_mode,
	doma.code_name connection_mode_name,
to_char(wc.construct_date, ''YYYY-MM-DD'') as construct_date,
	wc.construct_unit,
	wc.supervision_unit,
	wc.supervision_engineer,
	wc.collection_person,
	to_char(wc.collection_date, ''YYYY-MM-DD'') as collection_date,
	wc.approve_status,
case when wc.approve_status = -1 then ''驳回'' when wc.approve_status = 1 then ''待审核'' when wc.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	wc.remarks,
	wc.create_user_id,
	wc.create_user_name,
	wc.create_datetime,
	wc.modify_user_id,
	wc.modify_user_name,
	wc.modify_datetime,
	wc.active,pro.project_name,te.tenders_name,pi.pipeline_name, ps.pipe_station_name,pu.unit_name as supervision_unit_name,u.unit_name as construct_unit_name
FROM
	daq_station_temperature_transmitter wc
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = wc.project_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid = wc.tenders_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = wc.pipeline_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=wc.pipe_station_oid
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = wc.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = wc.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_temperature_transmitter where active=1) mac on mac.oid = wc.manufacture_number 
LEFT JOIN (SELECT	code_id,code_name,active FROM	sys_domain where domain_name = ''pt_connection_mode_domain'' and active=1 ) doma ON doma.code_id = wc.connection_mode	 WHERE wc.oid = :oid AND wc.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-10 01:13:24.305', '2f9810fd-045f-4ccd-828f-62b77b94b5d1', '表单测试', '2019-3-4 17:35:32.127', 1);
INSERT INTO "custom_fun_function" ("oid", "function_name", "function_code", "table_name", "save_sql", "update_sql", "delete_sql", "query_sql", "details_sql", "if_attachment", "create_user_id", "create_user_name", "create_datetime", "modify_user_id", "modify_user_name", "modify_datetime", "active") VALUES ('ff732732-93a3-4a45-82dc-1314956fe06d', '清管器收发球装置安装', 'F000146', 'daq_station_pig_receiver_launcher', 'INSERT INTO daq_station_pig_receiver_launcher( oid, project_oid, tenders_oid, pipeline_oid, pipe_station_oid, device_code,  device_type, manufacture_number, main_shell_length, to_blind_plate_distance, construct_date, construct_unit, supervision_unit, supervision_engineer, collection_person, collection_date, remarks, create_user_id, create_user_name, create_datetime, modify_user_id, modify_user_name, modify_datetime, active ) VALUES ( :oid, :project_oid, :tenders_oid, :pipeline_oid, :pipe_station_oid, :device_code, :device_type, :manufacture_number, :main_shell_length, :to_blind_plate_distance, (select :construct_date::timestamp), :construct_unit, :supervision_unit, :supervision_engineer, :collection_person, (select :collection_date::timestamp), :remarks, :current_user_id, :current_user_name, :current_datetime, :current_user_id, :current_user_name, :current_datetime, :active );
update daq_s_material_pig_receiver_launcher set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'update daq_s_material_pig_receiver_launcher set tenders_oid='''', pipeline_oid='''', pipe_station_oid='''' where oid=(select manufacture_number from daq_station_pig_receiver_launcher where oid=:oid);
UPDATE daq_station_pig_receiver_launcher SET oid=:oid, project_oid=:project_oid, tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid, device_code=:device_code, device_type=:device_type, manufacture_number=:manufacture_number, main_shell_length=:main_shell_length, to_blind_plate_distance=:to_blind_plate_distance, construct_date=(select :construct_date::timestamp), construct_unit=:construct_unit, supervision_unit=:supervision_unit, supervision_engineer=:supervision_engineer, collection_person=:collection_person, collection_date=(select :collection_date::timestamp), remarks=:remarks, create_user_id=:current_user_id, create_user_name=:current_user_name, create_datetime=:current_datetime, modify_user_id=:current_user_id, modify_user_name=:current_user_name, modify_datetime=:current_datetime, active=:active WHERE oid = :oid AND active = 1;
update daq_s_material_pig_receiver_launcher set tenders_oid=:tenders_oid, pipeline_oid=:pipeline_oid, pipe_station_oid=:pipe_station_oid where oid=:manufacture_number', 'UPDATE daq_station_pig_receiver_launcher SET active = 0 WHERE oid = :oid', 'SELECT
	sprl.oid,
	sprl.project_oid,pro.project_name,
	sprl.tenders_oid,te.tenders_name, 
	sprl.pipeline_oid,pi.pipeline_name,
	sprl.pipe_station_oid,ps.pipe_station_name,
	sprl.device_code,
	sprl.device_type,
	case when sprl.device_type = 1 then ''发球筒'' when sprl.device_type = 2 then ''手球筒'' when sprl.device_type = 3 then ''转球筒'' else '''' end as device_type_name,
	sprl.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sprl.main_shell_length,
	sprl.to_blind_plate_distance,
	to_char(sprl.construct_date, ''YYYY-MM-DD'') as construct_date,
	sprl.construct_unit,
	u.unit_name as construct_unit_name,
	sprl.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sprl.supervision_engineer,
	sprl.collection_person,
	to_char(sprl.collection_date, ''YYYY-MM-DD'') as collection_date,
	sprl.approve_status,
	case when sprl.approve_status = -1 then ''驳回'' when sprl.approve_status = 1 then ''待审核'' when sprl.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sprl.remarks,
	sprl.create_user_id,
	sprl.create_user_name,
	sprl.create_datetime,
	sprl.modify_user_id,
	sprl.modify_user_name,
	sprl.modify_datetime,
	sprl.active
FROM
	daq_station_pig_receiver_launcher sprl
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sprl.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sprl.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sprl.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sprl.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sprl.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sprl.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pig_receiver_launcher where active=1) mac on mac.oid = sprl.manufacture_number 
WHERE
	1 = 1
AND sprl.active = 1 @where_append and @privilege_strategy_sql  order by sprl.create_datetime desc', 'SELECT
	sprl.oid,
	sprl.project_oid,pro.project_name,
	sprl.tenders_oid,te.tenders_name, 
	sprl.pipeline_oid,pi.pipeline_name,
	sprl.pipe_station_oid,ps.pipe_station_name,
	sprl.device_code,
	sprl.device_type,
	case when sprl.device_type = 1 then ''发球筒'' when sprl.device_type = 2 then ''手球筒'' when sprl.device_type = 3 then ''转球筒'' else '''' end as device_type_name,
	sprl.manufacture_number,
	mac.manufacture_number_name,
	mac.material_device_name,
	sprl.main_shell_length,
	sprl.to_blind_plate_distance,
	to_char(sprl.construct_date, ''YYYY-MM-DD'') as construct_date,
	sprl.construct_unit,
	u.unit_name as construct_unit_name,
	sprl.supervision_unit,
	pu.unit_name as supervision_unit_name,
	sprl.supervision_engineer,
	sprl.collection_person,
	to_char(sprl.collection_date, ''YYYY-MM-DD'') as collection_date,
	sprl.approve_status,
	case when sprl.approve_status = -1 then ''驳回'' when sprl.approve_status = 1 then ''待审核'' when sprl.approve_status = 2 then ''审核通过'' else ''未上报'' end as approve_status_name,
	sprl.remarks,
	sprl.create_user_id,
	sprl.create_user_name,
	sprl.create_datetime,
	sprl.modify_user_id,
	sprl.modify_user_name,
	sprl.modify_datetime,
	sprl.active
FROM
	daq_station_pig_receiver_launcher sprl
LEFT JOIN (SELECT oid, project_name, active FROM daq_project where active=1) pro ON pro.oid = sprl.project_oid 
LEFT JOIN (SELECT oid, pipeline_name, active FROM daq_pipeline where active=1) pi ON pi.oid = sprl.pipeline_oid 
LEFT JOIN (SELECT oid, tenders_name, active FROM daq_tenders where active=1) te ON te.oid =sprl.tenders_oid 
LEFT JOIN (select oid,pipe_station_name, active from daq_pipe_station where active=1) ps ON ps.oid=sprl.pipe_station_oid 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) pu on pu.oid = sprl.supervision_unit 
LEFT JOIN (select oid, unit_name, active from pri_unit where active=1) u on u.oid = sprl.construct_unit 
LEFT JOIN (select oid, manufacture_number as manufacture_number_name,device_name as material_device_name, active from daq_s_material_pig_receiver_launcher where active=1) mac on mac.oid = sprl.manufacture_number 
WHERE sprl.oid = :oid AND sprl.active = 1', '1', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-4 15:35:01.724', '1df621c3346c4a8bac91d1238afc8400', '管理员', '2019-1-24 10:26:48.038', 1);
