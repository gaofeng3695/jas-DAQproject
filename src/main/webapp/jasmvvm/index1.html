<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./lib/element-ui/v2.4.1/theme-chalk/index.min.css">
    <link rel="stylesheet" href="./lib/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./src/css/main.css">
    <link rel="stylesheet" href="./src/css/index.css">
</head>

<body>
    <div id="app">
        <el-container class="outerwrapper is-vertical">


            <div class="headerwrapper ">
                <!-- header 开始 -->
                <div class="header-top-menu">
                    <div class="logo2"></div>
                    <div class="top-menu-wrapper">
                        <el-menu background-color="#409EFF" text-color="#fff" active-text-color="#ffd04b" mode="horizontal" :default-active="currentTap" class="el-menu-vertical-demo" @select="selectMenu">
                            <!-- 第一层菜单开始 -->
                            <!-- tip:为什么不用递归渲染？因为vue组件递归的方式跟elementui提供的可收缩菜单插件相冲突，若要使用递归，就必须取消菜单可收缩的功能 -->
                            <template v-for="item in items">
                <el-submenu v-if="item.subs" :index="item.index">
                  <template slot="title">
                    <i :class="item.icon"></i>
                    <span slot="title">{{ item.title }}</span>
                  </template>
                            <!-- 第二层菜单开始 -->
                            <template v-for="subitem in item.subs">
                    <el-submenu v-if="subitem.subs" :index="subitem.index">
                      <template slot="title">
                        <i :class="subitem.icon"></i>
                        <span slot="title">{{ subitem.title }}</span>
                      </template>

                            <!-- 第三层菜单开始 -->
                            <template v-for="thirditem in subitem.subs">
                        <el-submenu v-if="thirditem.subs" :index="thirditem.index">
                          <template slot="title">
                            <i :class="thirditem.icon"></i>
                            <span slot="title">{{ thirditem.title }}</span>
                          </template>
                            <!-- 第四层菜单开始 -->
                            <template v-for="fourthitem in thirditem.subs">
                            <el-submenu v-if="fourthitem.subs" :index="fourthitem.index">
                              <template slot="title">
                                <i :class="fourthitem.icon"></i>
                                <span slot="title">{{ fourthitem.title }}</span>
                              </template>

                            <!-- 第五层菜单开始 -->
                            <template v-for="fifthitem in fourthitem.subs">
                                <el-submenu v-if="fifthitem.subs" :index="fifthitem.index">
                                  <template slot="title">
                                    <i :class="fifthitem.icon"></i>
                                    <span slot="title">{{ fifthitem.title }}</span>
                                  </template>

                            </el-submenu>
                            <el-menu-item :index="fifthitem.index" v-else>
                                <i :class="fifthitem.icon"></i>
                                <span slot="title">{{ fifthitem.title }}</span>
                            </el-menu-item>
                            </template>
                            <!-- 第五层菜单结束 -->

                            </el-submenu>
                            <el-menu-item :index="fourthitem.index" v-else>
                                <i :class="fourthitem.icon"></i>
                                <span slot="title">{{ fourthitem.title }}</span>
                            </el-menu-item>
                            </template>
                            <!-- 第四层菜单结束 -->
                            </el-submenu>
                            <el-menu-item :index="thirditem.index" v-else>
                                <i :class="thirditem.icon"></i>
                                <span slot="title">{{ thirditem.title }}</span>
                            </el-menu-item>
                            </template>
                            <!-- 第三层菜单结束 -->
                            </el-submenu>
                            <el-menu-item :index="subitem.index" v-else>
                                <i :class="subitem.icon"></i>
                                <span slot="title">{{ subitem.title }}</span>
                            </el-menu-item>
                            </template>
                            <!-- 第二层菜单结束 -->

                            </el-submenu>
                            <el-menu-item :index="item.index" v-else>
                                <i :class="item.icon"></i>
                                <span slot="title">{{ item.title }}</span>
                            </el-menu-item>
                            </template>
                            <!-- 第一层菜单结束 -->
                            <!-- <nav-menu :nav-menus="items" /> -->
                        </el-menu>
                    </div>
                    <!-- <div class="name item">
            <div class="china">中盈安信研发平台</div>
            <div class="english">ENTERPRISE EDITION</div>
          </div> -->
                    <div class="user-info">
                        <el-dropdown class="dropdown-wrapper" trigger="click" @command="handleCommand">
                            <span class="el-dropdown-link">
                <img class="user-logo" src="./src/images/enterlogo.png"> 管理员
              </span>
                            <el-dropdown-menu slot="dropdown">
                                <el-dropdown-item command="loginout">退出</el-dropdown-item>
                            </el-dropdown-menu>
                        </el-dropdown>
                    </div>

                </div>
                <!-- header 结束 -->
            </div>



            <el-main class="height100">
                <el-tabs class="tabswrapper jas-flex-box" v-model="currentTap" type="card" @tab-remove="removeTab">
                    <el-tab-pane v-for="(item, index) in tabs" :key="item.index" :name="item.name" :closable="item.closable">
                        <span slot="label">
              <i :class="item.icon||'el-icon-date'"></i> {{item.title}}
            </span>
                        <div class="iframewrapper">
                            <div class="iframesubwrapper">

                                <iframe class="iframe" name="iframe" :src="item.link || './pages/index/index.html' " frameborder="0" height="100%"></iframe>
                            </div>
                        </div>
                    </el-tab-pane>
                </el-tabs>




            </el-main>

            <!-- <nav-menu :nav-menus="item.subs" /> -->

        </el-container>
        <!-- Iframe 弹出框 开始 -->
        <!-- <el-dialog ref="jas-iframe-dialog" class="jas-iframe-dialog" title="提示" :visible="true" width="80%" :fullscreen="false">
      <iframe class="dialog-iframe" src="./pages/form-awesome/form-awesome.html" frameborder="0"></iframe>
    </el-dialog> -->
        <template v-for="item in dialogs">
      <!-- <jas-iframe-dialog :iframeUrl="item.iframeUrl" :height="item.height" :width="item.width" :visible="item.visible" :title="item.title"></jas-iframe-dialog> -->
    </template>


        <!-- Iframe 弹出框 结束 -->


    </div>

</body>
<!-- import Vue before Element -->
<script src="./lib/jquery/jquery-1.12.4.min.js"></script>
<script src="./lib/vue/vue.js"></script>
<!-- import JavaScript -->
<script src="./src/js/tab-directive.js"></script>
<script src="./lib/element-ui/v2.4.1/index.min.js"></script>
<script src="./lib/vue-bar/vue-bar.js"></script>

<!-- <script src="https://unpkg.com/vuebar"></script> -->
<!-- 先引入index的配置文件，再引入index文件 -->
<script src="./common/components/jas-components.js"></script>
<script src="./src/js/index-config-noicon.js"></script>
<script src="./src/js/index.js"></script>

</html>