{
  "description":"基于产品 JasOpenGIS 1.0",
  "style":"lightblue",
  "basePath": "",
  "resources": [{
      "type": "css",
      "url": "basepath:../lib/openlayer_v5.0.2/ol.css"
    },
    {
      "type": "js",
      "url": "basepath:../lib/openlayer_v5.0.2/ol.js",
      "id": "ol.js"
    },
        { "type":"css","url":"basepath:../lib/jquery-easyui/1.5.2/themes/icon.css"},
    { "type":"css","url":"basepath:../lib/jquery-easyui/1.5.2/themes/default/easyui.css"},
    { "type":"js","url":"basepath:../lib/jquery/jquery-1.12.4.min.js","id":"jquery.js"  },
    { "type":"js","url":"basepath:../lib/jquery-easyui/1.5.2/jquery.easyui.min.js","relyOn":"jquery.js" ,"id":"easyui.js"  },
    { "type":"js","url":"basepath:../lib/jquery-easyui/1.5.2/locale/easyui-lang-zh_CN.js","relyOn":"easyui.js" ,"id":"easyui-lang.js"  },
    {
      "type": "js",
      "url": "basepath:../lib/proj4js/proj4_2.4.4.js"
    },
       { "type":"js","url":"basepath:../lib/FileSaver.min.js"},

    {
      "type": "js",
      "url": "basepath:mapmodules.js"
    },
        { "type":"js","url":"basepath:mapstyles/default.js" ,"relyOn":"ol.js"  }

  ],
  "services": {},
  "map": {
    "id": "jasMap",
    "scale": true,
    "attribution": false,
    "mapOptions": {
      "center": [104.41, 33.82],
      "level": 5,
      "projection": "EPSG:4490",
      "resolutions": [{
        "resolution": 0.703125,
        "matrixId": "CHINA_CGCS_SM:0"
      }, {
        "resolution": 0.3515625,
        "matrixId": "CHINA_CGCS_SM:1"
      }, {
        "resolution": 0.17578125,
        "matrixId": "CHINA_CGCS_SM:2"
      }, {
        "resolution": 0.087890625,
        "matrixId": "CHINA_CGCS_SM:3"
      }, {
        "resolution": 0.0439453125,
        "matrixId": "CHINA_CGCS_SM:4"
      }, {
        "resolution": 0.02197265625,
        "matrixId": "CHINA_CGCS_SM:5"
      }, {
        "resolution": 0.010986328125,
        "matrixId": "CHINA_CGCS_SM:6"
      }, {
        "resolution": 0.0054931640625,
        "matrixId": "CHINA_CGCS_SM:7"
      }, {
        "resolution": 0.00274658203125,
        "matrixId": "CHINA_CGCS_SM:8"
      }, {
        "resolution": 0.001373291015625,
        "matrixId": "CHINA_CGCS_SM:9"
      }, {
        "resolution": 0.0006866455078125,
        "matrixId": "CHINA_CGCS_SM:10"
      }]
    },
    "basemaps": {
      "label": "基础底图",
      "baseMapLayers": [{
        "id": "china_shp",
        "index": 0,
        "label": "行政区划图",
        "icon": "stylepath:images/basemap_shp.png",
        "visible": false,
        "type": "Tile",
        "source": "TileWMS",
        "url": "http://192.168.40.228:8080/geoserver/jasgroup/wms",
        "params": {
          "LAYERS": "china_canton"
        }
      }, {
        "id": "china_shp2",
        "index": 1,
        "label": "中国行政区划图",
        "icon": "stylepath:images/basemap_shp.png",
        "visible": false,
        "type": "Tile",
        "source": "TileArcGISRest",
        "url": "http://192.168.100.51:6080/arcgis/rest/services/%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%88%92/MapServer"
      }, {
        "id": "china_img",
        "index": 2,
        "visible": true,
        "label": "中国影像图",
        "icon": "stylepath:images/basemap_img.png",
        "type": "Tile",
        "source": "WMTS",
        "url": "http://192.168.40.228:8080/geoserver/gwc/service/wmts",
        "style": "",
        "format": "image/png",
        "layer": "jasgroup:china_img_bing_l12",
        "version": "1.0.0",
        "tileMatrixSet": "CHINA_CGCS_SM",
        "tileGrid": {
          "tileSize": [256, 256],
          "origin": [-180.0, 90.0]
        }
      }, {
        "id": "china_canton",
        "index": 3,
        "visible": false,
        "label": "中国政区图",
        "icon": "stylepath:images/basemap_img.png",
        "type": "VectorTile",
        "source": "VectorTile",
        "url": "http://192.168.40.228:8080/geoserver/gwc/service/wmts",
        "layer": "jasgroup:china_canton",
        "tileMatrixSet": "CHINA_CGCS_SM"
      }]
    },
    "optionallayers": [{
      "id": "layerSet001",
      "label": "业务图层",
      "layerSet": [{
        "id": "daq_median_stake",
        "label": "中线桩",
        "index": 30,
        "renderer":{
          "style":"centerlinestake" ,
          "labelStyle":"",
          "labelField":""
        },
        "type": "Vector",
        "source": "Vector",
        "flash": true,
        "visible": false,
        "loader": "jas",
        "format": "GeoJSON",
        "strategy": "all"
      }, {
        "id": "layerSet002",
        "label": "管道焊接补口",
        "layerSet": [{
          "id": "daq_construction_weld",
          "label": "焊口信息",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_weld_rework_weld",
          "label": "焊口返修信息",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_weld_measured_result",
          "label": "焊口测量成果信息",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }]
      }, {
        "id": "layerSet003",
        "label": "管道敷设",
        "layerSet": [{
          "id": "daq_lay_surveying",
          "label": "测量放线",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_lay_pipe_trench_excavation",
          "label": "管沟开挖",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_lay_pipe_trench_backfill",
          "label": "管沟回填",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_lay_land_restoration",
          "label": "地貌恢复",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_lay_thermal_insulation",
          "label": "保温",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }]
      }, {
        "id": "layerSet004",
        "label": "穿跨越",
        "layerSet": [{
          "id": "daq_cross_excavation",
          "label": "开挖穿越",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cross_pipe_jacking",
          "label": "顶管穿越",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cross_box_culvert",
          "label": "箱涵穿越",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cross_drilling",
          "label": "定向钻穿越",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cross_shield",
          "label": "盾构隧道穿越",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cross_drilling_blasting",
          "label": "钻爆隧道穿越",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cross_across",
          "label": "跨越",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }]
      }, {
        "id": "layerSet005",
        "label": "管道阴保",
        "layerSet": [{
          "id": "daq_cathodic_isolating_piece",
          "label": "绝缘件",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cathodic_cable_protection",
          "label": "阴保电缆",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cathodic_sacrifice_anode",
          "label": "牺牲阳极",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cathodic_insulated_joint",
          "label": "绝缘接头保护器",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cathodic_solid_decoupler",
          "label": "固态去耦合器",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cathodic_test_stake",
          "label": "测试桩",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cathodic_polarity_drainage",
          "label": "极性排流器",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_cathodic_anode_bed",
          "label": "辅助阳极地床",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }]
      }, {
        "id": "layerSet006",
        "label": "附属物",
        "layerSet": [{
          "id": "daq_appendages_mark_stake",
          "label": "标志桩",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_appendages_electronic_label",
          "label": "电子标签",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_appendages_hand_hole",
          "label": "手孔",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_appendages_obstacle",
          "label": "地下障碍物",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_appendages_hydraulic_protection",
          "label": "水工保护",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }, {
          "id": "daq_appendages_casing_pipe",
          "label": "套管",
          "index": 20,
          "style": "pipesegment",
          "type": "Vector",
          "source": "Vector",
          "flash": true,
          "visible": false,
          "loader": "jas",
          "format": "GeoJSON",
          "strategy": "all"
        }]
      }]
    }]
  },
  "proxy": [],
  "modules": [{
    "id":"baseMapToolsBar","label":"地图工具条","class":"BaseMapToolsBar","icon":"","controller":true,"container":"map",
    "moduleSet":[{
      "type":"api","target":"zoomHome","label":"地图复位","index":"","icon":"stylepath:images/reset.png"
    },{
      "type":"api","target":"startPanMode","label":"地图导航","index":"","icon":"stylepath:images/mapPan.png"
    },{
      "type":"api","target":"zoomIn","label":"拖拽放大地图","index":"","icon":"stylepath:images/zoomIn.png"
    },{
      "type":"api","target":"zoomOut","label":"拖拽缩小地图","index":"","icon":"stylepath:images/zoomOut.png"
    },{
      "type":"api","target":"drawLineAndGetLength","label":"距离测量","index":"","icon":"stylepath:images/measureDistance.png","toggle":true
    },{
      "type":"api","target":"drawPolygonAndGetArea","label":"面积测量","index":"","icon":"stylepath:images/measureArea.png","toggle":true
    },{
      "type":"api","target":"clearAllGraphics","label":"清除标记","index":"","icon":"stylepath:images/clear.png"
    },{
      "type":"module","target":"coorsPosition","index":"","toggle":true
    },{
      "type":"module","target":"drawBox","index":"","toggle":true
    },{
      "type":"module","target":"layerListTree","index":"","toggle":true
    },{
      "type":"module","target":"circleQuery","index":"","toggle":true
    },{
      "type":"module","target":"polygonQuery","index":"","toggle":true
    },{
      "type":"api","target":"export","label":"导出图片","index":"","toggle":true,"icon":"stylepath:images/export.png"
    }]
  },{
    "id":"layerListTree","label":"图层控制","class":"LayerListTree","icon":"stylepath:images/layers.png","enable":true,"container":"map"
  },{
    "id":"drawBox","label":"标绘","class":"DrawBox","icon":"stylepath:images/draw.png","enable":true
  },{
    "id":"coorsPosition","label":"坐标定位","class":"CoorsPosition","icon":"stylepath:images/quicklocate.png","enable":true
  },{
    "id":"baseMapsGallary","label":"底图切换","class":"BaseMapsGallary","icon":"stylepath:images/queryByPolygon.png","enable":true,
    "options":{
      "folded":true
    }
  },{
    "id":"overViewMap","label":"鹰眼图","class":"OverViewMap","icon":"stylepath:images/queryByPolygon.png","enable":true,
    "options":{
      "url":"http://192.168.100.51:6080/arcgis/rest/services/%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%88%92/MapServer"
    }
  },{
    "id":"mapPrint","label":"地图打印","class":"MapPrint","icon":"stylepath:images/queryByPolygon.png","enable":false
  },{
    "id":"mapExport","label":"地图导出","class":"MapExport","icon":"stylepath:images/export.png","enable":true
  },{
    "id":"circleQuery","label":"圆查询","class":"CircleQuery",
    "options":{
      "showResultPanel":true,
      "indexEnable":true,
      "positionEnable":true,
      "columns":[{
        "field":"name","title":"名称","width":100,"align":"center"
      },{
        "field":"pipeline_oid","title":"线路段","width":100,"align":"center"
      }],
      "query":[{
        "source":"pd_centerlinestake",
        "sourceLabel":"中线桩",
        "columnFields":"name,pipeline_oid",
        "outFields":"stakenumber,lineid"
      },{
        "source":"pd_station",
        "sourceLabel":"站场",
        "columnFields":"name,pipeline_oid",
        "outFields":"name,lineid"
      },{
        "source":"pd_valveroom",
        "sourceLabel":"阀室",
        "columnFields":"name,pipeline_oid",
        "outFields":"name,lineid"
      }]
    }
  },{
    "id":"polygonQuery","class":"PolygonQuery",
    "options":{
      "showResultPanel":true,
      "indexEnable":true,
      "positionEnable":true,
      "columns":[{
        "field":"name","title":"名称","width":100,"align":"center"
      },{
        "field":"pipeline_oid","title":"线路段","width":100,"align":"center"
      }],
      "query":[{
        "source":"pd_centerlinestake",
        "sourceLabel":"中线桩",
        "columnFields":"name,pipeline_oid",
        "outFields":"stakenumber,lineid"
      },{
        "source":"pd_station",
        "sourceLabel":"站场",
        "columnFields":"name,pipeline_oid",
        "outFields":"name,lineid"
      },{
        "source":"pd_valveroom",
        "sourceLabel":"阀室",
        "columnFields":"name,pipeline_oid",
        "outFields":"name,lineid"
      }]
    }
  }]
}