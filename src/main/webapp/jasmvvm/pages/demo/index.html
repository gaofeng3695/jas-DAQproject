<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<!-- <link rel="stylesheet" href="./libelement-ui/element-#0E2B4A/src/index.css"> -->
	<link rel="stylesheet" href="./../../lib/element-ui/v2.2.1/theme-chalk/index.min.css">
	<link rel="stylesheet" href="./../../lib/codemirror/codemirror.css">
	<link rel="stylesheet" href="./../../src/css/main.css">
	<style>
		.box {
			max-width: 600px;
			margin: 0 auto;
		}
	</style>
</head>

<body>
	<div id="app">
		<div class="box">
			<codemirror v-model="code" :options="mirrorConfig" @focus="onCmFocus"></codemirror>

		</div>
	</div>



</body>
<!-- import Vue before Element -->
<script src="./../../lib/vue/vue.js"></script>
<script src="./../../lib/codemirror/codemirror.js"></script>
<script src="./../../lib/codemirror/vue-codemirror.js"></script>
<script src="./../../lib/codemirror/mode/sql.js"></script>
<!-- import JavaScript -->
<script src="./../../lib/element-ui/v2.2.1/index.min.js"></script>

<script>
	console.log('刷新页面')

	Vue.use(window.VueCodemirror)
	new Vue({
		el: '#app',

		data: function () {
			return {
				// code: 'UPDATE PRI_ROLE SET EVENTID=:EVENTID, NAME=:NAME, DESCRIPTION=:DESCRIPTION, ROLETYPE=:ROLETYPE, UNITEVENTID=:UNITEVENTID, PROJECT_OID=:PROJECT_OID, ROLE_SERIAL_NO=:ROLE_SERIAL_NO, DATA_FILTER_CODE=:DATA_FILTER_CODE, CREATE_USER_ID=:current_user_id, CREATE_USER_NAME=:current_user_name, CREATE_TIME=:current_datetime, MODIFY_USER_ID=:current_user_id, MODIFY_USER_NAME=:current_user_name, MODIFY_TIME=:current_datetime, ACTIVE=:ACTIVE WHERE EVENTID = :EVENTID AND ACTIVE = 1',
				code: "SELECT OID,↵       TABLE_ID,↵       FIELD_NAME,↵       FIELD_NAME_ALIAS,↵       FIELD_NAME_CN,↵       FIELD_TYPE,↵       FIELD_LENGTH,↵       IF_PK,↵       IF_FK,↵       FK_TABLE,↵       FK_TABLE_FIELD,↵       IF_EMPTY,↵       IF_INDEX,↵       FIELD_DEFAULT_VALUE,↵       FIELD_DESC,↵       ROW_INDEX,↵       CREATE_USER_ID,↵       CREATE_USER_NAME,↵       CREATE_DATETIME,↵       MODIFY_USER_ID,↵       MODIFY_USER_NAME,↵       MODIFY_DATETIME,↵       ACTIVE,↵       FK_TABLE_ID↵  FROM CUSTOM_DB_TABLE_FIELDS↵ WHERE OID = :OID↵   AND ACTIVE = 1",
				mirrorConfig: {
					mode: 'text/x-sql',
					lineWrapping: true,
					indentWithTabs: true,
					smartIndent: true,
					lineNumbers: true,
					matchBrackets: true,
					autofocus: true,
					extraKeys: {
						"Ctrl-Space": "autocomplete"
					},

				}
			}
		},
		methods: {
			onCmFocus : function(s,b,a){
				var a = {
					a:this.code
				}
				console.log(a)
			}
		},
		mounted: function () {
			this.index = location.search;
		}
	})
</script>
